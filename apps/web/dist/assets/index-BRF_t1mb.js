var X0=Object.defineProperty;var Z0=(n,e,t)=>e in n?X0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var me=(n,e,t)=>Z0(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var ej=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Tu={exports:{}},Ai={},Ou={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function eb(){if(im)return ge;im=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function x(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,k={};function S(C,z,Z){this.props=C,this.context=z,this.refs=k,this.updater=Z||b}S.prototype.isReactComponent={},S.prototype.setState=function(C,z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,z,"setState")},S.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function R(){}R.prototype=S.prototype;function P(C,z,Z){this.props=C,this.context=z,this.refs=k,this.updater=Z||b}var j=P.prototype=new R;j.constructor=P,_(j,S.prototype),j.isPureReactComponent=!0;var I=Array.isArray,F=Object.prototype.hasOwnProperty,$={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function B(C,z,Z){var re,de={},pe=null,Re=null;if(z!=null)for(re in z.ref!==void 0&&(Re=z.ref),z.key!==void 0&&(pe=""+z.key),z)F.call(z,re)&&!M.hasOwnProperty(re)&&(de[re]=z[re]);var Se=arguments.length-2;if(Se===1)de.children=Z;else if(1<Se){for(var Ie=Array(Se),St=0;St<Se;St++)Ie[St]=arguments[St+2];de.children=Ie}if(C&&C.defaultProps)for(re in Se=C.defaultProps,Se)de[re]===void 0&&(de[re]=Se[re]);return{$$typeof:n,type:C,key:pe,ref:Re,props:de,_owner:$.current}}function G(C,z){return{$$typeof:n,type:C.type,key:z,ref:C.ref,props:C.props,_owner:C._owner}}function le(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function he(C){var z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(Z){return z[Z]})}var fe=/\/+/g;function ke(C,z){return typeof C=="object"&&C!==null&&C.key!=null?he(""+C.key):z.toString(36)}function Le(C,z,Z,re,de){var pe=typeof C;(pe==="undefined"||pe==="boolean")&&(C=null);var Re=!1;if(C===null)Re=!0;else switch(pe){case"string":case"number":Re=!0;break;case"object":switch(C.$$typeof){case n:case e:Re=!0}}if(Re)return Re=C,de=de(Re),C=re===""?"."+ke(Re,0):re,I(de)?(Z="",C!=null&&(Z=C.replace(fe,"$&/")+"/"),Le(de,z,Z,"",function(St){return St})):de!=null&&(le(de)&&(de=G(de,Z+(!de.key||Re&&Re.key===de.key?"":(""+de.key).replace(fe,"$&/")+"/")+C)),z.push(de)),1;if(Re=0,re=re===""?".":re+":",I(C))for(var Se=0;Se<C.length;Se++){pe=C[Se];var Ie=re+ke(pe,Se);Re+=Le(pe,z,Z,Ie,de)}else if(Ie=x(C),typeof Ie=="function")for(C=Ie.call(C),Se=0;!(pe=C.next()).done;)pe=pe.value,Ie=re+ke(pe,Se++),Re+=Le(pe,z,Z,Ie,de);else if(pe==="object")throw z=String(C),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Re}function ve(C,z,Z){if(C==null)return C;var re=[],de=0;return Le(C,re,"","",function(pe){return z.call(Z,pe,de++)}),re}function ne(C){if(C._status===-1){var z=C._result;z=z(),z.then(function(Z){(C._status===0||C._status===-1)&&(C._status=1,C._result=Z)},function(Z){(C._status===0||C._status===-1)&&(C._status=2,C._result=Z)}),C._status===-1&&(C._status=0,C._result=z)}if(C._status===1)return C._result.default;throw C._result}var ye={current:null},q={transition:null},se={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:q,ReactCurrentOwner:$};function K(){throw Error("act(...) is not supported in production builds of React.")}return ge.Children={map:ve,forEach:function(C,z,Z){ve(C,function(){z.apply(this,arguments)},Z)},count:function(C){var z=0;return ve(C,function(){z++}),z},toArray:function(C){return ve(C,function(z){return z})||[]},only:function(C){if(!le(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},ge.Component=S,ge.Fragment=t,ge.Profiler=i,ge.PureComponent=P,ge.StrictMode=r,ge.Suspense=d,ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,ge.act=K,ge.cloneElement=function(C,z,Z){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var re=_({},C.props),de=C.key,pe=C.ref,Re=C._owner;if(z!=null){if(z.ref!==void 0&&(pe=z.ref,Re=$.current),z.key!==void 0&&(de=""+z.key),C.type&&C.type.defaultProps)var Se=C.type.defaultProps;for(Ie in z)F.call(z,Ie)&&!M.hasOwnProperty(Ie)&&(re[Ie]=z[Ie]===void 0&&Se!==void 0?Se[Ie]:z[Ie])}var Ie=arguments.length-2;if(Ie===1)re.children=Z;else if(1<Ie){Se=Array(Ie);for(var St=0;St<Ie;St++)Se[St]=arguments[St+2];re.children=Se}return{$$typeof:n,type:C.type,key:de,ref:pe,props:re,_owner:Re}},ge.createContext=function(C){return C={$$typeof:l,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:o,_context:C},C.Consumer=C},ge.createElement=B,ge.createFactory=function(C){var z=B.bind(null,C);return z.type=C,z},ge.createRef=function(){return{current:null}},ge.forwardRef=function(C){return{$$typeof:u,render:C}},ge.isValidElement=le,ge.lazy=function(C){return{$$typeof:p,_payload:{_status:-1,_result:C},_init:ne}},ge.memo=function(C,z){return{$$typeof:f,type:C,compare:z===void 0?null:z}},ge.startTransition=function(C){var z=q.transition;q.transition={};try{C()}finally{q.transition=z}},ge.unstable_act=K,ge.useCallback=function(C,z){return ye.current.useCallback(C,z)},ge.useContext=function(C){return ye.current.useContext(C)},ge.useDebugValue=function(){},ge.useDeferredValue=function(C){return ye.current.useDeferredValue(C)},ge.useEffect=function(C,z){return ye.current.useEffect(C,z)},ge.useId=function(){return ye.current.useId()},ge.useImperativeHandle=function(C,z,Z){return ye.current.useImperativeHandle(C,z,Z)},ge.useInsertionEffect=function(C,z){return ye.current.useInsertionEffect(C,z)},ge.useLayoutEffect=function(C,z){return ye.current.useLayoutEffect(C,z)},ge.useMemo=function(C,z){return ye.current.useMemo(C,z)},ge.useReducer=function(C,z,Z){return ye.current.useReducer(C,z,Z)},ge.useRef=function(C){return ye.current.useRef(C)},ge.useState=function(C){return ye.current.useState(C)},ge.useSyncExternalStore=function(C,z,Z){return ye.current.useSyncExternalStore(C,z,Z)},ge.useTransition=function(){return ye.current.useTransition()},ge.version="18.3.1",ge}var am;function Id(){return am||(am=1,Ou.exports=eb()),Ou.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om;function tb(){if(om)return Ai;om=1;var n=Id(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var p,v={},x=null,b=null;f!==void 0&&(x=""+f),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(b=d.ref);for(p in d)r.call(d,p)&&!o.hasOwnProperty(p)&&(v[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)v[p]===void 0&&(v[p]=d[p]);return{$$typeof:e,type:u,key:x,ref:b,props:v,_owner:i.current}}return Ai.Fragment=t,Ai.jsx=l,Ai.jsxs=l,Ai}var lm;function nb(){return lm||(lm=1,Tu.exports=tb()),Tu.exports}var g=nb(),T=Id();const $i=fy(T);var To={},Au={exports:{}},wt={},Nu={exports:{}},Lu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm;function rb(){return cm||(cm=1,(function(n){function e(q,se){var K=q.length;q.push(se);e:for(;0<K;){var C=K-1>>>1,z=q[C];if(0<i(z,se))q[C]=se,q[K]=z,K=C;else break e}}function t(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var se=q[0],K=q.pop();if(K!==se){q[0]=K;e:for(var C=0,z=q.length,Z=z>>>1;C<Z;){var re=2*(C+1)-1,de=q[re],pe=re+1,Re=q[pe];if(0>i(de,K))pe<z&&0>i(Re,de)?(q[C]=Re,q[pe]=K,C=pe):(q[C]=de,q[re]=K,C=re);else if(pe<z&&0>i(Re,K))q[C]=Re,q[pe]=K,C=pe;else break e}}return se}function i(q,se){var K=q.sortIndex-se.sortIndex;return K!==0?K:q.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,v=null,x=3,b=!1,_=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(q){for(var se=t(f);se!==null;){if(se.callback===null)r(f);else if(se.startTime<=q)r(f),se.sortIndex=se.expirationTime,e(d,se);else break;se=t(f)}}function I(q){if(k=!1,j(q),!_)if(t(d)!==null)_=!0,ne(F);else{var se=t(f);se!==null&&ye(I,se.startTime-q)}}function F(q,se){_=!1,k&&(k=!1,R(B),B=-1),b=!0;var K=x;try{for(j(se),v=t(d);v!==null&&(!(v.expirationTime>se)||q&&!he());){var C=v.callback;if(typeof C=="function"){v.callback=null,x=v.priorityLevel;var z=C(v.expirationTime<=se);se=n.unstable_now(),typeof z=="function"?v.callback=z:v===t(d)&&r(d),j(se)}else r(d);v=t(d)}if(v!==null)var Z=!0;else{var re=t(f);re!==null&&ye(I,re.startTime-se),Z=!1}return Z}finally{v=null,x=K,b=!1}}var $=!1,M=null,B=-1,G=5,le=-1;function he(){return!(n.unstable_now()-le<G)}function fe(){if(M!==null){var q=n.unstable_now();le=q;var se=!0;try{se=M(!0,q)}finally{se?ke():($=!1,M=null)}}else $=!1}var ke;if(typeof P=="function")ke=function(){P(fe)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,ve=Le.port2;Le.port1.onmessage=fe,ke=function(){ve.postMessage(null)}}else ke=function(){S(fe,0)};function ne(q){M=q,$||($=!0,ke())}function ye(q,se){B=S(function(){q(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){_||b||(_=!0,ne(F))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(q){switch(x){case 1:case 2:case 3:var se=3;break;default:se=x}var K=x;x=se;try{return q()}finally{x=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,se){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var K=x;x=q;try{return se()}finally{x=K}},n.unstable_scheduleCallback=function(q,se,K){var C=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?C+K:C):K=C,q){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=K+z,q={id:p++,callback:se,priorityLevel:q,startTime:K,expirationTime:z,sortIndex:-1},K>C?(q.sortIndex=K,e(f,q),t(d)===null&&q===t(f)&&(k?(R(B),B=-1):k=!0,ye(I,K-C))):(q.sortIndex=z,e(d,q),_||b||(_=!0,ne(F))),q},n.unstable_shouldYield=he,n.unstable_wrapCallback=function(q){var se=x;return function(){var K=x;x=se;try{return q.apply(this,arguments)}finally{x=K}}}})(Lu)),Lu}var um;function sb(){return um||(um=1,Nu.exports=rb()),Nu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function ib(){if(dm)return wt;dm=1;var n=Id(),e=sb();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},v={};function x(s){return d.call(v,s)?!0:d.call(p,s)?!1:f.test(s)?v[s]=!0:(p[s]=!0,!1)}function b(s,a,c,h){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function _(s,a,c,h){if(a===null||typeof a>"u"||b(s,a,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function k(s,a,c,h,m,y,w){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=y,this.removeEmptyString=w}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new k(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];S[a]=new k(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new k(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new k(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new k(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new k(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new k(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new k(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new k(s,5,!1,s.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(R,P);S[a]=new k(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(R,P);S[a]=new k(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(R,P);S[a]=new k(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new k(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new k(s,1,!1,s.toLowerCase(),null,!0,!0)});function j(s,a,c,h){var m=S.hasOwnProperty(a)?S[a]:null;(m!==null?m.type!==0:h||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(_(a,c,m,h)&&(c=null),h||m===null?x(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):m.mustUseProperty?s[m.propertyName]=c===null?m.type===3?!1:"":c:(a=m.attributeName,h=m.attributeNamespace,c===null?s.removeAttribute(a):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,h?s.setAttributeNS(h,a,c):s.setAttribute(a,c))))}var I=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),$=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),he=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),q=Symbol.iterator;function se(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var K=Object.assign,C;function z(s){if(C===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);C=a&&a[1]||""}return`
`+C+s}var Z=!1;function re(s,a){if(!s||Z)return"";Z=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(D){var h=D}Reflect.construct(s,[],a)}else{try{a.call()}catch(D){h=D}s.call(a.prototype)}else{try{throw Error()}catch(D){h=D}s()}}catch(D){if(D&&h&&typeof D.stack=="string"){for(var m=D.stack.split(`
`),y=h.stack.split(`
`),w=m.length-1,E=y.length-1;1<=w&&0<=E&&m[w]!==y[E];)E--;for(;1<=w&&0<=E;w--,E--)if(m[w]!==y[E]){if(w!==1||E!==1)do if(w--,E--,0>E||m[w]!==y[E]){var O=`
`+m[w].replace(" at new "," at ");return s.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",s.displayName)),O}while(1<=w&&0<=E);break}}}finally{Z=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?z(s):""}function de(s){switch(s.tag){case 5:return z(s.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return s=re(s.type,!1),s;case 11:return s=re(s.type.render,!1),s;case 1:return s=re(s.type,!0),s;default:return""}}function pe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case M:return"Fragment";case $:return"Portal";case G:return"Profiler";case B:return"StrictMode";case ke:return"Suspense";case Le:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case he:return(s.displayName||"Context")+".Consumer";case le:return(s._context.displayName||"Context")+".Provider";case fe:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ve:return a=s.displayName||null,a!==null?a:pe(s.type)||"Memo";case ne:a=s._payload,s=s._init;try{return pe(s(a))}catch{}}return null}function Re(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(a);case 8:return a===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Se(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ie(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function St(s){var a=Ie(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(w){h=""+w,y.call(this,w)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function xa(s){s._valueTracker||(s._valueTracker=St(s))}function uh(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=Ie(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function ba(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ml(s,a){var c=a.checked;return K({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function dh(s,a){var c=a.defaultValue==null?"":a.defaultValue,h=a.checked!=null?a.checked:a.defaultChecked;c=Se(a.value!=null?a.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function hh(s,a){a=a.checked,a!=null&&j(s,"checked",a,!1)}function zl(s,a){hh(s,a);var c=Se(a.value),h=a.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Fl(s,a.type,c):a.hasOwnProperty("defaultValue")&&Fl(s,a.type,Se(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function fh(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type;if(!(h!=="submit"&&h!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Fl(s,a,c){(a!=="number"||ba(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Ks=Array.isArray;function Yr(s,a,c,h){if(s=s.options,a){a={};for(var m=0;m<c.length;m++)a["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=a.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Se(c),a=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function $l(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return K({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ph(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Ks(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:Se(c)}}function mh(s,a){var c=Se(a.value),h=Se(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function gh(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function yh(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ul(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?yh(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var wa,vh=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,h,m){MSApp.execUnsafeLocalFunction(function(){return s(a,c,h,m)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(wa=wa||document.createElement("div"),wa.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=wa.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Gs(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nx=["Webkit","ms","Moz","O"];Object.keys(Ys).forEach(function(s){nx.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Ys[a]=Ys[s]})});function xh(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Ys.hasOwnProperty(s)&&Ys[s]?(""+a).trim():a+"px"}function bh(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var h=c.indexOf("--")===0,m=xh(c,a[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,m):s[c]=m}}var rx=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bl(s,a){if(a){if(rx[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Vl(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wl=null;function Hl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ql=null,Jr=null,Qr=null;function wh(s){if(s=yi(s)){if(typeof ql!="function")throw Error(t(280));var a=s.stateNode;a&&(a=Wa(a),ql(s.stateNode,s.type,a))}}function _h(s){Jr?Qr?Qr.push(s):Qr=[s]:Jr=s}function kh(){if(Jr){var s=Jr,a=Qr;if(Qr=Jr=null,wh(s),a)for(s=0;s<a.length;s++)wh(a[s])}}function Sh(s,a){return s(a)}function Ch(){}var Kl=!1;function Eh(s,a,c){if(Kl)return s(a,c);Kl=!0;try{return Sh(s,a,c)}finally{Kl=!1,(Jr!==null||Qr!==null)&&(Ch(),kh())}}function Js(s,a){var c=s.stateNode;if(c===null)return null;var h=Wa(c);if(h===null)return null;c=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var Gl=!1;if(u)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){Gl=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{Gl=!1}function sx(s,a,c,h,m,y,w,E,O){var D=Array.prototype.slice.call(arguments,3);try{a.apply(c,D)}catch(V){this.onError(V)}}var Xs=!1,_a=null,ka=!1,Yl=null,ix={onError:function(s){Xs=!0,_a=s}};function ax(s,a,c,h,m,y,w,E,O){Xs=!1,_a=null,sx.apply(ix,arguments)}function ox(s,a,c,h,m,y,w,E,O){if(ax.apply(this,arguments),Xs){if(Xs){var D=_a;Xs=!1,_a=null}else throw Error(t(198));ka||(ka=!0,Yl=D)}}function xr(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Rh(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Ph(s){if(xr(s)!==s)throw Error(t(188))}function lx(s){var a=s.alternate;if(!a){if(a=xr(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,h=a;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return Ph(m),s;if(y===h)return Ph(m),a;y=y.sibling}throw Error(t(188))}if(c.return!==h.return)c=m,h=y;else{for(var w=!1,E=m.child;E;){if(E===c){w=!0,c=m,h=y;break}if(E===h){w=!0,h=m,c=y;break}E=E.sibling}if(!w){for(E=y.child;E;){if(E===c){w=!0,c=y,h=m;break}if(E===h){w=!0,h=y,c=m;break}E=E.sibling}if(!w)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function jh(s){return s=lx(s),s!==null?Th(s):null}function Th(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Th(s);if(a!==null)return a;s=s.sibling}return null}var Oh=e.unstable_scheduleCallback,Ah=e.unstable_cancelCallback,cx=e.unstable_shouldYield,ux=e.unstable_requestPaint,He=e.unstable_now,dx=e.unstable_getCurrentPriorityLevel,Jl=e.unstable_ImmediatePriority,Nh=e.unstable_UserBlockingPriority,Sa=e.unstable_NormalPriority,hx=e.unstable_LowPriority,Lh=e.unstable_IdlePriority,Ca=null,cn=null;function fx(s){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Ca,s,void 0,(s.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:gx,px=Math.log,mx=Math.LN2;function gx(s){return s>>>=0,s===0?32:31-(px(s)/mx|0)|0}var Ea=64,Ra=4194304;function Zs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Pa(s,a){var c=s.pendingLanes;if(c===0)return 0;var h=0,m=s.suspendedLanes,y=s.pingedLanes,w=c&268435455;if(w!==0){var E=w&~m;E!==0?h=Zs(E):(y&=w,y!==0&&(h=Zs(y)))}else w=c&~m,w!==0?h=Zs(w):y!==0&&(h=Zs(y));if(h===0)return 0;if(a!==0&&a!==h&&(a&m)===0&&(m=h&-h,y=a&-a,m>=y||m===16&&(y&4194240)!==0))return a;if((h&4)!==0&&(h|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=h;0<a;)c=31-Jt(a),m=1<<c,h|=s[c],a&=~m;return h}function yx(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vx(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes;0<y;){var w=31-Jt(y),E=1<<w,O=m[w];O===-1?((E&c)===0||(E&h)!==0)&&(m[w]=yx(E,a)):O<=a&&(s.expiredLanes|=E),y&=~E}}function Ql(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ih(){var s=Ea;return Ea<<=1,(Ea&4194240)===0&&(Ea=64),s}function Xl(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function ei(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Jt(a),s[a]=c}function xx(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var m=31-Jt(c),y=1<<m;a[m]=0,h[m]=-1,s[m]=-1,c&=~y}}function Zl(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-Jt(c),m=1<<h;m&a|s[h]&a&&(s[h]|=a),c&=~m}}var Ce=0;function Dh(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Mh,ec,zh,Fh,$h,tc=!1,ja=[],Bn=null,Vn=null,Wn=null,ti=new Map,ni=new Map,Hn=[],bx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uh(s,a){switch(s){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":ti.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ni.delete(a.pointerId)}}function ri(s,a,c,h,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},a!==null&&(a=yi(a),a!==null&&ec(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function wx(s,a,c,h,m){switch(a){case"focusin":return Bn=ri(Bn,s,a,c,h,m),!0;case"dragenter":return Vn=ri(Vn,s,a,c,h,m),!0;case"mouseover":return Wn=ri(Wn,s,a,c,h,m),!0;case"pointerover":var y=m.pointerId;return ti.set(y,ri(ti.get(y)||null,s,a,c,h,m)),!0;case"gotpointercapture":return y=m.pointerId,ni.set(y,ri(ni.get(y)||null,s,a,c,h,m)),!0}return!1}function Bh(s){var a=br(s.target);if(a!==null){var c=xr(a);if(c!==null){if(a=c.tag,a===13){if(a=Rh(c),a!==null){s.blockedOn=a,$h(s.priority,function(){zh(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ta(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=rc(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Wl=h,c.target.dispatchEvent(h),Wl=null}else return a=yi(c),a!==null&&ec(a),s.blockedOn=c,!1;a.shift()}return!0}function Vh(s,a,c){Ta(s)&&c.delete(a)}function _x(){tc=!1,Bn!==null&&Ta(Bn)&&(Bn=null),Vn!==null&&Ta(Vn)&&(Vn=null),Wn!==null&&Ta(Wn)&&(Wn=null),ti.forEach(Vh),ni.forEach(Vh)}function si(s,a){s.blockedOn===a&&(s.blockedOn=null,tc||(tc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_x)))}function ii(s){function a(m){return si(m,s)}if(0<ja.length){si(ja[0],s);for(var c=1;c<ja.length;c++){var h=ja[c];h.blockedOn===s&&(h.blockedOn=null)}}for(Bn!==null&&si(Bn,s),Vn!==null&&si(Vn,s),Wn!==null&&si(Wn,s),ti.forEach(a),ni.forEach(a),c=0;c<Hn.length;c++)h=Hn[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<Hn.length&&(c=Hn[0],c.blockedOn===null);)Bh(c),c.blockedOn===null&&Hn.shift()}var Xr=I.ReactCurrentBatchConfig,Oa=!0;function kx(s,a,c,h){var m=Ce,y=Xr.transition;Xr.transition=null;try{Ce=1,nc(s,a,c,h)}finally{Ce=m,Xr.transition=y}}function Sx(s,a,c,h){var m=Ce,y=Xr.transition;Xr.transition=null;try{Ce=4,nc(s,a,c,h)}finally{Ce=m,Xr.transition=y}}function nc(s,a,c,h){if(Oa){var m=rc(s,a,c,h);if(m===null)bc(s,a,h,Aa,c),Uh(s,h);else if(wx(m,s,a,c,h))h.stopPropagation();else if(Uh(s,h),a&4&&-1<bx.indexOf(s)){for(;m!==null;){var y=yi(m);if(y!==null&&Mh(y),y=rc(s,a,c,h),y===null&&bc(s,a,h,Aa,c),y===m)break;m=y}m!==null&&h.stopPropagation()}else bc(s,a,h,null,c)}}var Aa=null;function rc(s,a,c,h){if(Aa=null,s=Hl(h),s=br(s),s!==null)if(a=xr(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Rh(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Aa=s,null}function Wh(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dx()){case Jl:return 1;case Nh:return 4;case Sa:case hx:return 16;case Lh:return 536870912;default:return 16}default:return 16}}var qn=null,sc=null,Na=null;function Hh(){if(Na)return Na;var s,a=sc,c=a.length,h,m="value"in qn?qn.value:qn.textContent,y=m.length;for(s=0;s<c&&a[s]===m[s];s++);var w=c-s;for(h=1;h<=w&&a[c-h]===m[y-h];h++);return Na=m.slice(s,1<h?1-h:void 0)}function La(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ia(){return!0}function qh(){return!1}function Ct(s){function a(c,h,m,y,w){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var E in s)s.hasOwnProperty(E)&&(c=s[E],this[E]=c?c(y):y[E]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ia:qh,this.isPropagationStopped=qh,this}return K(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ia)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ia)},persist:function(){},isPersistent:Ia}),a}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ic=Ct(Zr),ai=K({},Zr,{view:0,detail:0}),Cx=Ct(ai),ac,oc,oi,Da=K({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cc,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==oi&&(oi&&s.type==="mousemove"?(ac=s.screenX-oi.screenX,oc=s.screenY-oi.screenY):oc=ac=0,oi=s),ac)},movementY:function(s){return"movementY"in s?s.movementY:oc}}),Kh=Ct(Da),Ex=K({},Da,{dataTransfer:0}),Rx=Ct(Ex),Px=K({},ai,{relatedTarget:0}),lc=Ct(Px),jx=K({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Tx=Ct(jx),Ox=K({},Zr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ax=Ct(Ox),Nx=K({},Zr,{data:0}),Gh=Ct(Nx),Lx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ix={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mx(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Dx[s])?!!a[s]:!1}function cc(){return Mx}var zx=K({},ai,{key:function(s){if(s.key){var a=Lx[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=La(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ix[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cc,charCode:function(s){return s.type==="keypress"?La(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?La(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Fx=Ct(zx),$x=K({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yh=Ct($x),Ux=K({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cc}),Bx=Ct(Ux),Vx=K({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wx=Ct(Vx),Hx=K({},Da,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),qx=Ct(Hx),Kx=[9,13,27,32],uc=u&&"CompositionEvent"in window,li=null;u&&"documentMode"in document&&(li=document.documentMode);var Gx=u&&"TextEvent"in window&&!li,Jh=u&&(!uc||li&&8<li&&11>=li),Qh=" ",Xh=!1;function Zh(s,a){switch(s){case"keyup":return Kx.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ef(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var es=!1;function Yx(s,a){switch(s){case"compositionend":return ef(a);case"keypress":return a.which!==32?null:(Xh=!0,Qh);case"textInput":return s=a.data,s===Qh&&Xh?null:s;default:return null}}function Jx(s,a){if(es)return s==="compositionend"||!uc&&Zh(s,a)?(s=Hh(),Na=sc=qn=null,es=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Jh&&a.locale!=="ko"?null:a.data;default:return null}}var Qx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Qx[s.type]:a==="textarea"}function nf(s,a,c,h){_h(h),a=Ua(a,"onChange"),0<a.length&&(c=new ic("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var ci=null,ui=null;function Xx(s){wf(s,0)}function Ma(s){var a=is(s);if(uh(a))return s}function Zx(s,a){if(s==="change")return a}var rf=!1;if(u){var dc;if(u){var hc="oninput"in document;if(!hc){var sf=document.createElement("div");sf.setAttribute("oninput","return;"),hc=typeof sf.oninput=="function"}dc=hc}else dc=!1;rf=dc&&(!document.documentMode||9<document.documentMode)}function af(){ci&&(ci.detachEvent("onpropertychange",of),ui=ci=null)}function of(s){if(s.propertyName==="value"&&Ma(ui)){var a=[];nf(a,ui,s,Hl(s)),Eh(Xx,a)}}function e0(s,a,c){s==="focusin"?(af(),ci=a,ui=c,ci.attachEvent("onpropertychange",of)):s==="focusout"&&af()}function t0(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ma(ui)}function n0(s,a){if(s==="click")return Ma(a)}function r0(s,a){if(s==="input"||s==="change")return Ma(a)}function s0(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Qt=typeof Object.is=="function"?Object.is:s0;function di(s,a){if(Qt(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!d.call(a,m)||!Qt(s[m],a[m]))return!1}return!0}function lf(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function cf(s,a){var c=lf(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=lf(c)}}function uf(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?uf(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function df(){for(var s=window,a=ba();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=ba(s.document)}return a}function fc(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function i0(s){var a=df(),c=s.focusedElem,h=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&uf(c.ownerDocument.documentElement,c)){if(h!==null&&fc(c)){if(a=h.start,s=h.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var m=c.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!s.extend&&y>h&&(m=h,h=y,y=m),m=cf(c,y);var w=cf(c,h);m&&w&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==w.node||s.focusOffset!==w.offset)&&(a=a.createRange(),a.setStart(m.node,m.offset),s.removeAllRanges(),y>h?(s.addRange(a),s.extend(w.node,w.offset)):(a.setEnd(w.node,w.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var a0=u&&"documentMode"in document&&11>=document.documentMode,ts=null,pc=null,hi=null,mc=!1;function hf(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;mc||ts==null||ts!==ba(h)||(h=ts,"selectionStart"in h&&fc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),hi&&di(hi,h)||(hi=h,h=Ua(pc,"onSelect"),0<h.length&&(a=new ic("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=ts)))}function za(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var ns={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionend:za("Transition","TransitionEnd")},gc={},ff={};u&&(ff=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function Fa(s){if(gc[s])return gc[s];if(!ns[s])return s;var a=ns[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in ff)return gc[s]=a[c];return s}var pf=Fa("animationend"),mf=Fa("animationiteration"),gf=Fa("animationstart"),yf=Fa("transitionend"),vf=new Map,xf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(s,a){vf.set(s,a),o(a,[s])}for(var yc=0;yc<xf.length;yc++){var vc=xf[yc],o0=vc.toLowerCase(),l0=vc[0].toUpperCase()+vc.slice(1);Kn(o0,"on"+l0)}Kn(pf,"onAnimationEnd"),Kn(mf,"onAnimationIteration"),Kn(gf,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(yf,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c0=new Set("cancel close invalid load scroll toggle".split(" ").concat(fi));function bf(s,a,c){var h=s.type||"unknown-event";s.currentTarget=c,ox(h,a,void 0,s),s.currentTarget=null}function wf(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],m=h.event;h=h.listeners;e:{var y=void 0;if(a)for(var w=h.length-1;0<=w;w--){var E=h[w],O=E.instance,D=E.currentTarget;if(E=E.listener,O!==y&&m.isPropagationStopped())break e;bf(m,E,D),y=O}else for(w=0;w<h.length;w++){if(E=h[w],O=E.instance,D=E.currentTarget,E=E.listener,O!==y&&m.isPropagationStopped())break e;bf(m,E,D),y=O}}}if(ka)throw s=Yl,ka=!1,Yl=null,s}function Oe(s,a){var c=a[Ec];c===void 0&&(c=a[Ec]=new Set);var h=s+"__bubble";c.has(h)||(_f(a,s,2,!1),c.add(h))}function xc(s,a,c){var h=0;a&&(h|=4),_f(c,s,h,a)}var $a="_reactListening"+Math.random().toString(36).slice(2);function pi(s){if(!s[$a]){s[$a]=!0,r.forEach(function(c){c!=="selectionchange"&&(c0.has(c)||xc(c,!1,s),xc(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[$a]||(a[$a]=!0,xc("selectionchange",!1,a))}}function _f(s,a,c,h){switch(Wh(a)){case 1:var m=kx;break;case 4:m=Sx;break;default:m=nc}c=m.bind(null,a,c,s),m=void 0,!Gl||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(a,c,{capture:!0,passive:m}):s.addEventListener(a,c,!0):m!==void 0?s.addEventListener(a,c,{passive:m}):s.addEventListener(a,c,!1)}function bc(s,a,c,h,m){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var E=h.stateNode.containerInfo;if(E===m||E.nodeType===8&&E.parentNode===m)break;if(w===4)for(w=h.return;w!==null;){var O=w.tag;if((O===3||O===4)&&(O=w.stateNode.containerInfo,O===m||O.nodeType===8&&O.parentNode===m))return;w=w.return}for(;E!==null;){if(w=br(E),w===null)return;if(O=w.tag,O===5||O===6){h=y=w;continue e}E=E.parentNode}}h=h.return}Eh(function(){var D=y,V=Hl(c),W=[];e:{var U=vf.get(s);if(U!==void 0){var Y=ic,Q=s;switch(s){case"keypress":if(La(c)===0)break e;case"keydown":case"keyup":Y=Fx;break;case"focusin":Q="focus",Y=lc;break;case"focusout":Q="blur",Y=lc;break;case"beforeblur":case"afterblur":Y=lc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Kh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Rx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Bx;break;case pf:case mf:case gf:Y=Tx;break;case yf:Y=Wx;break;case"scroll":Y=Cx;break;case"wheel":Y=qx;break;case"copy":case"cut":case"paste":Y=Ax;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Yh}var X=(a&4)!==0,qe=!X&&s==="scroll",N=X?U!==null?U+"Capture":null:U;X=[];for(var A=D,L;A!==null;){L=A;var H=L.stateNode;if(L.tag===5&&H!==null&&(L=H,N!==null&&(H=Js(A,N),H!=null&&X.push(mi(A,H,L)))),qe)break;A=A.return}0<X.length&&(U=new Y(U,Q,null,c,V),W.push({event:U,listeners:X}))}}if((a&7)===0){e:{if(U=s==="mouseover"||s==="pointerover",Y=s==="mouseout"||s==="pointerout",U&&c!==Wl&&(Q=c.relatedTarget||c.fromElement)&&(br(Q)||Q[_n]))break e;if((Y||U)&&(U=V.window===V?V:(U=V.ownerDocument)?U.defaultView||U.parentWindow:window,Y?(Q=c.relatedTarget||c.toElement,Y=D,Q=Q?br(Q):null,Q!==null&&(qe=xr(Q),Q!==qe||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(Y=null,Q=D),Y!==Q)){if(X=Kh,H="onMouseLeave",N="onMouseEnter",A="mouse",(s==="pointerout"||s==="pointerover")&&(X=Yh,H="onPointerLeave",N="onPointerEnter",A="pointer"),qe=Y==null?U:is(Y),L=Q==null?U:is(Q),U=new X(H,A+"leave",Y,c,V),U.target=qe,U.relatedTarget=L,H=null,br(V)===D&&(X=new X(N,A+"enter",Q,c,V),X.target=L,X.relatedTarget=qe,H=X),qe=H,Y&&Q)t:{for(X=Y,N=Q,A=0,L=X;L;L=rs(L))A++;for(L=0,H=N;H;H=rs(H))L++;for(;0<A-L;)X=rs(X),A--;for(;0<L-A;)N=rs(N),L--;for(;A--;){if(X===N||N!==null&&X===N.alternate)break t;X=rs(X),N=rs(N)}X=null}else X=null;Y!==null&&kf(W,U,Y,X,!1),Q!==null&&qe!==null&&kf(W,qe,Q,X,!0)}}e:{if(U=D?is(D):window,Y=U.nodeName&&U.nodeName.toLowerCase(),Y==="select"||Y==="input"&&U.type==="file")var ee=Zx;else if(tf(U))if(rf)ee=r0;else{ee=t0;var ie=e0}else(Y=U.nodeName)&&Y.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(ee=n0);if(ee&&(ee=ee(s,D))){nf(W,ee,c,V);break e}ie&&ie(s,U,D),s==="focusout"&&(ie=U._wrapperState)&&ie.controlled&&U.type==="number"&&Fl(U,"number",U.value)}switch(ie=D?is(D):window,s){case"focusin":(tf(ie)||ie.contentEditable==="true")&&(ts=ie,pc=D,hi=null);break;case"focusout":hi=pc=ts=null;break;case"mousedown":mc=!0;break;case"contextmenu":case"mouseup":case"dragend":mc=!1,hf(W,c,V);break;case"selectionchange":if(a0)break;case"keydown":case"keyup":hf(W,c,V)}var ae;if(uc)e:{switch(s){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else es?Zh(s,c)&&(ue="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(ue="onCompositionStart");ue&&(Jh&&c.locale!=="ko"&&(es||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&es&&(ae=Hh()):(qn=V,sc="value"in qn?qn.value:qn.textContent,es=!0)),ie=Ua(D,ue),0<ie.length&&(ue=new Gh(ue,s,null,c,V),W.push({event:ue,listeners:ie}),ae?ue.data=ae:(ae=ef(c),ae!==null&&(ue.data=ae)))),(ae=Gx?Yx(s,c):Jx(s,c))&&(D=Ua(D,"onBeforeInput"),0<D.length&&(V=new Gh("onBeforeInput","beforeinput",null,c,V),W.push({event:V,listeners:D}),V.data=ae))}wf(W,a)})}function mi(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Ua(s,a){for(var c=a+"Capture",h=[];s!==null;){var m=s,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=Js(s,c),y!=null&&h.unshift(mi(s,y,m)),y=Js(s,a),y!=null&&h.push(mi(s,y,m))),s=s.return}return h}function rs(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function kf(s,a,c,h,m){for(var y=a._reactName,w=[];c!==null&&c!==h;){var E=c,O=E.alternate,D=E.stateNode;if(O!==null&&O===h)break;E.tag===5&&D!==null&&(E=D,m?(O=Js(c,y),O!=null&&w.unshift(mi(c,O,E))):m||(O=Js(c,y),O!=null&&w.push(mi(c,O,E)))),c=c.return}w.length!==0&&s.push({event:a,listeners:w})}var u0=/\r\n?/g,d0=/\u0000|\uFFFD/g;function Sf(s){return(typeof s=="string"?s:""+s).replace(u0,`
`).replace(d0,"")}function Ba(s,a,c){if(a=Sf(a),Sf(s)!==a&&c)throw Error(t(425))}function Va(){}var wc=null,_c=null;function kc(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Sc=typeof setTimeout=="function"?setTimeout:void 0,h0=typeof clearTimeout=="function"?clearTimeout:void 0,Cf=typeof Promise=="function"?Promise:void 0,f0=typeof queueMicrotask=="function"?queueMicrotask:typeof Cf<"u"?function(s){return Cf.resolve(null).then(s).catch(p0)}:Sc;function p0(s){setTimeout(function(){throw s})}function Cc(s,a){var c=a,h=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(h===0){s.removeChild(m),ii(a);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=m}while(c);ii(a)}function Gn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Ef(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var ss=Math.random().toString(36).slice(2),un="__reactFiber$"+ss,gi="__reactProps$"+ss,_n="__reactContainer$"+ss,Ec="__reactEvents$"+ss,m0="__reactListeners$"+ss,g0="__reactHandles$"+ss;function br(s){var a=s[un];if(a)return a;for(var c=s.parentNode;c;){if(a=c[_n]||c[un]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=Ef(s);s!==null;){if(c=s[un])return c;s=Ef(s)}return a}s=c,c=s.parentNode}return null}function yi(s){return s=s[un]||s[_n],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function is(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Wa(s){return s[gi]||null}var Rc=[],as=-1;function Yn(s){return{current:s}}function Ae(s){0>as||(s.current=Rc[as],Rc[as]=null,as--)}function Pe(s,a){as++,Rc[as]=s.current,s.current=a}var Jn={},ot=Yn(Jn),gt=Yn(!1),wr=Jn;function os(s,a){var c=s.type.contextTypes;if(!c)return Jn;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in c)m[y]=a[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=m),m}function yt(s){return s=s.childContextTypes,s!=null}function Ha(){Ae(gt),Ae(ot)}function Rf(s,a,c){if(ot.current!==Jn)throw Error(t(168));Pe(ot,a),Pe(gt,c)}function Pf(s,a,c){var h=s.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var m in h)if(!(m in a))throw Error(t(108,Re(s)||"Unknown",m));return K({},c,h)}function qa(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Jn,wr=ot.current,Pe(ot,s),Pe(gt,gt.current),!0}function jf(s,a,c){var h=s.stateNode;if(!h)throw Error(t(169));c?(s=Pf(s,a,wr),h.__reactInternalMemoizedMergedChildContext=s,Ae(gt),Ae(ot),Pe(ot,s)):Ae(gt),Pe(gt,c)}var kn=null,Ka=!1,Pc=!1;function Tf(s){kn===null?kn=[s]:kn.push(s)}function y0(s){Ka=!0,Tf(s)}function Qn(){if(!Pc&&kn!==null){Pc=!0;var s=0,a=Ce;try{var c=kn;for(Ce=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}kn=null,Ka=!1}catch(m){throw kn!==null&&(kn=kn.slice(s+1)),Oh(Jl,Qn),m}finally{Ce=a,Pc=!1}}return null}var ls=[],cs=0,Ga=null,Ya=0,Dt=[],Mt=0,_r=null,Sn=1,Cn="";function kr(s,a){ls[cs++]=Ya,ls[cs++]=Ga,Ga=s,Ya=a}function Of(s,a,c){Dt[Mt++]=Sn,Dt[Mt++]=Cn,Dt[Mt++]=_r,_r=s;var h=Sn;s=Cn;var m=32-Jt(h)-1;h&=~(1<<m),c+=1;var y=32-Jt(a)+m;if(30<y){var w=m-m%5;y=(h&(1<<w)-1).toString(32),h>>=w,m-=w,Sn=1<<32-Jt(a)+m|c<<m|h,Cn=y+s}else Sn=1<<y|c<<m|h,Cn=s}function jc(s){s.return!==null&&(kr(s,1),Of(s,1,0))}function Tc(s){for(;s===Ga;)Ga=ls[--cs],ls[cs]=null,Ya=ls[--cs],ls[cs]=null;for(;s===_r;)_r=Dt[--Mt],Dt[Mt]=null,Cn=Dt[--Mt],Dt[Mt]=null,Sn=Dt[--Mt],Dt[Mt]=null}var Et=null,Rt=null,De=!1,Xt=null;function Af(s,a){var c=Ut(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function Nf(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Et=s,Rt=Gn(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Et=s,Rt=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=_r!==null?{id:Sn,overflow:Cn}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Ut(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Et=s,Rt=null,!0):!1;default:return!1}}function Oc(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ac(s){if(De){var a=Rt;if(a){var c=a;if(!Nf(s,a)){if(Oc(s))throw Error(t(418));a=Gn(c.nextSibling);var h=Et;a&&Nf(s,a)?Af(h,c):(s.flags=s.flags&-4097|2,De=!1,Et=s)}}else{if(Oc(s))throw Error(t(418));s.flags=s.flags&-4097|2,De=!1,Et=s}}}function Lf(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Et=s}function Ja(s){if(s!==Et)return!1;if(!De)return Lf(s),De=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!kc(s.type,s.memoizedProps)),a&&(a=Rt)){if(Oc(s))throw If(),Error(t(418));for(;a;)Af(s,a),a=Gn(a.nextSibling)}if(Lf(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){Rt=Gn(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}Rt=null}}else Rt=Et?Gn(s.stateNode.nextSibling):null;return!0}function If(){for(var s=Rt;s;)s=Gn(s.nextSibling)}function us(){Rt=Et=null,De=!1}function Nc(s){Xt===null?Xt=[s]:Xt.push(s)}var v0=I.ReactCurrentBatchConfig;function vi(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,s));var m=h,y=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===y?a.ref:(a=function(w){var E=m.refs;w===null?delete E[y]:E[y]=w},a._stringRef=y,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Qa(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Df(s){var a=s._init;return a(s._payload)}function Mf(s){function a(N,A){if(s){var L=N.deletions;L===null?(N.deletions=[A],N.flags|=16):L.push(A)}}function c(N,A){if(!s)return null;for(;A!==null;)a(N,A),A=A.sibling;return null}function h(N,A){for(N=new Map;A!==null;)A.key!==null?N.set(A.key,A):N.set(A.index,A),A=A.sibling;return N}function m(N,A){return N=ir(N,A),N.index=0,N.sibling=null,N}function y(N,A,L){return N.index=L,s?(L=N.alternate,L!==null?(L=L.index,L<A?(N.flags|=2,A):L):(N.flags|=2,A)):(N.flags|=1048576,A)}function w(N){return s&&N.alternate===null&&(N.flags|=2),N}function E(N,A,L,H){return A===null||A.tag!==6?(A=Su(L,N.mode,H),A.return=N,A):(A=m(A,L),A.return=N,A)}function O(N,A,L,H){var ee=L.type;return ee===M?V(N,A,L.props.children,H,L.key):A!==null&&(A.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ne&&Df(ee)===A.type)?(H=m(A,L.props),H.ref=vi(N,A,L),H.return=N,H):(H=_o(L.type,L.key,L.props,null,N.mode,H),H.ref=vi(N,A,L),H.return=N,H)}function D(N,A,L,H){return A===null||A.tag!==4||A.stateNode.containerInfo!==L.containerInfo||A.stateNode.implementation!==L.implementation?(A=Cu(L,N.mode,H),A.return=N,A):(A=m(A,L.children||[]),A.return=N,A)}function V(N,A,L,H,ee){return A===null||A.tag!==7?(A=Or(L,N.mode,H,ee),A.return=N,A):(A=m(A,L),A.return=N,A)}function W(N,A,L){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Su(""+A,N.mode,L),A.return=N,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case F:return L=_o(A.type,A.key,A.props,null,N.mode,L),L.ref=vi(N,null,A),L.return=N,L;case $:return A=Cu(A,N.mode,L),A.return=N,A;case ne:var H=A._init;return W(N,H(A._payload),L)}if(Ks(A)||se(A))return A=Or(A,N.mode,L,null),A.return=N,A;Qa(N,A)}return null}function U(N,A,L,H){var ee=A!==null?A.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return ee!==null?null:E(N,A,""+L,H);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===ee?O(N,A,L,H):null;case $:return L.key===ee?D(N,A,L,H):null;case ne:return ee=L._init,U(N,A,ee(L._payload),H)}if(Ks(L)||se(L))return ee!==null?null:V(N,A,L,H,null);Qa(N,L)}return null}function Y(N,A,L,H,ee){if(typeof H=="string"&&H!==""||typeof H=="number")return N=N.get(L)||null,E(A,N,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case F:return N=N.get(H.key===null?L:H.key)||null,O(A,N,H,ee);case $:return N=N.get(H.key===null?L:H.key)||null,D(A,N,H,ee);case ne:var ie=H._init;return Y(N,A,L,ie(H._payload),ee)}if(Ks(H)||se(H))return N=N.get(L)||null,V(A,N,H,ee,null);Qa(A,H)}return null}function Q(N,A,L,H){for(var ee=null,ie=null,ae=A,ue=A=0,et=null;ae!==null&&ue<L.length;ue++){ae.index>ue?(et=ae,ae=null):et=ae.sibling;var _e=U(N,ae,L[ue],H);if(_e===null){ae===null&&(ae=et);break}s&&ae&&_e.alternate===null&&a(N,ae),A=y(_e,A,ue),ie===null?ee=_e:ie.sibling=_e,ie=_e,ae=et}if(ue===L.length)return c(N,ae),De&&kr(N,ue),ee;if(ae===null){for(;ue<L.length;ue++)ae=W(N,L[ue],H),ae!==null&&(A=y(ae,A,ue),ie===null?ee=ae:ie.sibling=ae,ie=ae);return De&&kr(N,ue),ee}for(ae=h(N,ae);ue<L.length;ue++)et=Y(ae,N,ue,L[ue],H),et!==null&&(s&&et.alternate!==null&&ae.delete(et.key===null?ue:et.key),A=y(et,A,ue),ie===null?ee=et:ie.sibling=et,ie=et);return s&&ae.forEach(function(ar){return a(N,ar)}),De&&kr(N,ue),ee}function X(N,A,L,H){var ee=se(L);if(typeof ee!="function")throw Error(t(150));if(L=ee.call(L),L==null)throw Error(t(151));for(var ie=ee=null,ae=A,ue=A=0,et=null,_e=L.next();ae!==null&&!_e.done;ue++,_e=L.next()){ae.index>ue?(et=ae,ae=null):et=ae.sibling;var ar=U(N,ae,_e.value,H);if(ar===null){ae===null&&(ae=et);break}s&&ae&&ar.alternate===null&&a(N,ae),A=y(ar,A,ue),ie===null?ee=ar:ie.sibling=ar,ie=ar,ae=et}if(_e.done)return c(N,ae),De&&kr(N,ue),ee;if(ae===null){for(;!_e.done;ue++,_e=L.next())_e=W(N,_e.value,H),_e!==null&&(A=y(_e,A,ue),ie===null?ee=_e:ie.sibling=_e,ie=_e);return De&&kr(N,ue),ee}for(ae=h(N,ae);!_e.done;ue++,_e=L.next())_e=Y(ae,N,ue,_e.value,H),_e!==null&&(s&&_e.alternate!==null&&ae.delete(_e.key===null?ue:_e.key),A=y(_e,A,ue),ie===null?ee=_e:ie.sibling=_e,ie=_e);return s&&ae.forEach(function(Q0){return a(N,Q0)}),De&&kr(N,ue),ee}function qe(N,A,L,H){if(typeof L=="object"&&L!==null&&L.type===M&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:e:{for(var ee=L.key,ie=A;ie!==null;){if(ie.key===ee){if(ee=L.type,ee===M){if(ie.tag===7){c(N,ie.sibling),A=m(ie,L.props.children),A.return=N,N=A;break e}}else if(ie.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ne&&Df(ee)===ie.type){c(N,ie.sibling),A=m(ie,L.props),A.ref=vi(N,ie,L),A.return=N,N=A;break e}c(N,ie);break}else a(N,ie);ie=ie.sibling}L.type===M?(A=Or(L.props.children,N.mode,H,L.key),A.return=N,N=A):(H=_o(L.type,L.key,L.props,null,N.mode,H),H.ref=vi(N,A,L),H.return=N,N=H)}return w(N);case $:e:{for(ie=L.key;A!==null;){if(A.key===ie)if(A.tag===4&&A.stateNode.containerInfo===L.containerInfo&&A.stateNode.implementation===L.implementation){c(N,A.sibling),A=m(A,L.children||[]),A.return=N,N=A;break e}else{c(N,A);break}else a(N,A);A=A.sibling}A=Cu(L,N.mode,H),A.return=N,N=A}return w(N);case ne:return ie=L._init,qe(N,A,ie(L._payload),H)}if(Ks(L))return Q(N,A,L,H);if(se(L))return X(N,A,L,H);Qa(N,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,A!==null&&A.tag===6?(c(N,A.sibling),A=m(A,L),A.return=N,N=A):(c(N,A),A=Su(L,N.mode,H),A.return=N,N=A),w(N)):c(N,A)}return qe}var ds=Mf(!0),zf=Mf(!1),Xa=Yn(null),Za=null,hs=null,Lc=null;function Ic(){Lc=hs=Za=null}function Dc(s){var a=Xa.current;Ae(Xa),s._currentValue=a}function Mc(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function fs(s,a){Za=s,Lc=hs=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(vt=!0),s.firstContext=null)}function zt(s){var a=s._currentValue;if(Lc!==s)if(s={context:s,memoizedValue:a,next:null},hs===null){if(Za===null)throw Error(t(308));hs=s,Za.dependencies={lanes:0,firstContext:s}}else hs=hs.next=s;return a}var Sr=null;function zc(s){Sr===null?Sr=[s]:Sr.push(s)}function Ff(s,a,c,h){var m=a.interleaved;return m===null?(c.next=c,zc(a)):(c.next=m.next,m.next=c),a.interleaved=c,En(s,h)}function En(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Xn=!1;function Fc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $f(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Rn(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Zn(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(we&2)!==0){var m=h.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),h.pending=a,En(s,c)}return m=h.interleaved,m===null?(a.next=a,zc(h)):(a.next=m.next,m.next=a),h.interleaved=a,En(s,c)}function eo(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Zl(s,c)}}function Uf(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var w={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?m=y=w:y=y.next=w,c=c.next}while(c!==null);y===null?m=y=a:y=y.next=a}else m=y=a;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function to(s,a,c,h){var m=s.updateQueue;Xn=!1;var y=m.firstBaseUpdate,w=m.lastBaseUpdate,E=m.shared.pending;if(E!==null){m.shared.pending=null;var O=E,D=O.next;O.next=null,w===null?y=D:w.next=D,w=O;var V=s.alternate;V!==null&&(V=V.updateQueue,E=V.lastBaseUpdate,E!==w&&(E===null?V.firstBaseUpdate=D:E.next=D,V.lastBaseUpdate=O))}if(y!==null){var W=m.baseState;w=0,V=D=O=null,E=y;do{var U=E.lane,Y=E.eventTime;if((h&U)===U){V!==null&&(V=V.next={eventTime:Y,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var Q=s,X=E;switch(U=a,Y=c,X.tag){case 1:if(Q=X.payload,typeof Q=="function"){W=Q.call(Y,W,U);break e}W=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=X.payload,U=typeof Q=="function"?Q.call(Y,W,U):Q,U==null)break e;W=K({},W,U);break e;case 2:Xn=!0}}E.callback!==null&&E.lane!==0&&(s.flags|=64,U=m.effects,U===null?m.effects=[E]:U.push(E))}else Y={eventTime:Y,lane:U,tag:E.tag,payload:E.payload,callback:E.callback,next:null},V===null?(D=V=Y,O=W):V=V.next=Y,w|=U;if(E=E.next,E===null){if(E=m.shared.pending,E===null)break;U=E,E=U.next,U.next=null,m.lastBaseUpdate=U,m.shared.pending=null}}while(!0);if(V===null&&(O=W),m.baseState=O,m.firstBaseUpdate=D,m.lastBaseUpdate=V,a=m.shared.interleaved,a!==null){m=a;do w|=m.lane,m=m.next;while(m!==a)}else y===null&&(m.shared.lanes=0);Rr|=w,s.lanes=w,s.memoizedState=W}}function Bf(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var h=s[a],m=h.callback;if(m!==null){if(h.callback=null,h=c,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var xi={},dn=Yn(xi),bi=Yn(xi),wi=Yn(xi);function Cr(s){if(s===xi)throw Error(t(174));return s}function $c(s,a){switch(Pe(wi,a),Pe(bi,s),Pe(dn,xi),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ul(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Ul(a,s)}Ae(dn),Pe(dn,a)}function ps(){Ae(dn),Ae(bi),Ae(wi)}function Vf(s){Cr(wi.current);var a=Cr(dn.current),c=Ul(a,s.type);a!==c&&(Pe(bi,s),Pe(dn,c))}function Uc(s){bi.current===s&&(Ae(dn),Ae(bi))}var ze=Yn(0);function no(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Bc=[];function Vc(){for(var s=0;s<Bc.length;s++)Bc[s]._workInProgressVersionPrimary=null;Bc.length=0}var ro=I.ReactCurrentDispatcher,Wc=I.ReactCurrentBatchConfig,Er=0,Fe=null,Ye=null,Xe=null,so=!1,_i=!1,ki=0,x0=0;function lt(){throw Error(t(321))}function Hc(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Qt(s[c],a[c]))return!1;return!0}function qc(s,a,c,h,m,y){if(Er=y,Fe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ro.current=s===null||s.memoizedState===null?k0:S0,s=c(h,m),_i){y=0;do{if(_i=!1,ki=0,25<=y)throw Error(t(301));y+=1,Xe=Ye=null,a.updateQueue=null,ro.current=C0,s=c(h,m)}while(_i)}if(ro.current=oo,a=Ye!==null&&Ye.next!==null,Er=0,Xe=Ye=Fe=null,so=!1,a)throw Error(t(300));return s}function Kc(){var s=ki!==0;return ki=0,s}function hn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Fe.memoizedState=Xe=s:Xe=Xe.next=s,Xe}function Ft(){if(Ye===null){var s=Fe.alternate;s=s!==null?s.memoizedState:null}else s=Ye.next;var a=Xe===null?Fe.memoizedState:Xe.next;if(a!==null)Xe=a,Ye=s;else{if(s===null)throw Error(t(310));Ye=s,s={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Xe===null?Fe.memoizedState=Xe=s:Xe=Xe.next=s}return Xe}function Si(s,a){return typeof a=="function"?a(s):a}function Gc(s){var a=Ft(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=Ye,m=h.baseQueue,y=c.pending;if(y!==null){if(m!==null){var w=m.next;m.next=y.next,y.next=w}h.baseQueue=m=y,c.pending=null}if(m!==null){y=m.next,h=h.baseState;var E=w=null,O=null,D=y;do{var V=D.lane;if((Er&V)===V)O!==null&&(O=O.next={lane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),h=D.hasEagerState?D.eagerState:s(h,D.action);else{var W={lane:V,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null};O===null?(E=O=W,w=h):O=O.next=W,Fe.lanes|=V,Rr|=V}D=D.next}while(D!==null&&D!==y);O===null?w=h:O.next=E,Qt(h,a.memoizedState)||(vt=!0),a.memoizedState=h,a.baseState=w,a.baseQueue=O,c.lastRenderedState=h}if(s=c.interleaved,s!==null){m=s;do y=m.lane,Fe.lanes|=y,Rr|=y,m=m.next;while(m!==s)}else m===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Yc(s){var a=Ft(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=c.dispatch,m=c.pending,y=a.memoizedState;if(m!==null){c.pending=null;var w=m=m.next;do y=s(y,w.action),w=w.next;while(w!==m);Qt(y,a.memoizedState)||(vt=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,h]}function Wf(){}function Hf(s,a){var c=Fe,h=Ft(),m=a(),y=!Qt(h.memoizedState,m);if(y&&(h.memoizedState=m,vt=!0),h=h.queue,Jc(Gf.bind(null,c,h,s),[s]),h.getSnapshot!==a||y||Xe!==null&&Xe.memoizedState.tag&1){if(c.flags|=2048,Ci(9,Kf.bind(null,c,h,m,a),void 0,null),Ze===null)throw Error(t(349));(Er&30)!==0||qf(c,a,m)}return m}function qf(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Fe.updateQueue,a===null?(a={lastEffect:null,stores:null},Fe.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function Kf(s,a,c,h){a.value=c,a.getSnapshot=h,Yf(a)&&Jf(s)}function Gf(s,a,c){return c(function(){Yf(a)&&Jf(s)})}function Yf(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Qt(s,c)}catch{return!0}}function Jf(s){var a=En(s,1);a!==null&&nn(a,s,1,-1)}function Qf(s){var a=hn();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:s},a.queue=s,s=s.dispatch=_0.bind(null,Fe,s),[a.memoizedState,s]}function Ci(s,a,c,h){return s={tag:s,create:a,destroy:c,deps:h,next:null},a=Fe.updateQueue,a===null?(a={lastEffect:null,stores:null},Fe.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s)),s}function Xf(){return Ft().memoizedState}function io(s,a,c,h){var m=hn();Fe.flags|=s,m.memoizedState=Ci(1|a,c,void 0,h===void 0?null:h)}function ao(s,a,c,h){var m=Ft();h=h===void 0?null:h;var y=void 0;if(Ye!==null){var w=Ye.memoizedState;if(y=w.destroy,h!==null&&Hc(h,w.deps)){m.memoizedState=Ci(a,c,y,h);return}}Fe.flags|=s,m.memoizedState=Ci(1|a,c,y,h)}function Zf(s,a){return io(8390656,8,s,a)}function Jc(s,a){return ao(2048,8,s,a)}function ep(s,a){return ao(4,2,s,a)}function tp(s,a){return ao(4,4,s,a)}function np(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function rp(s,a,c){return c=c!=null?c.concat([s]):null,ao(4,4,np.bind(null,a,s),c)}function Qc(){}function sp(s,a){var c=Ft();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&Hc(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function ip(s,a){var c=Ft();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&Hc(a,h[1])?h[0]:(s=s(),c.memoizedState=[s,a],s)}function ap(s,a,c){return(Er&21)===0?(s.baseState&&(s.baseState=!1,vt=!0),s.memoizedState=c):(Qt(c,a)||(c=Ih(),Fe.lanes|=c,Rr|=c,s.baseState=!0),a)}function b0(s,a){var c=Ce;Ce=c!==0&&4>c?c:4,s(!0);var h=Wc.transition;Wc.transition={};try{s(!1),a()}finally{Ce=c,Wc.transition=h}}function op(){return Ft().memoizedState}function w0(s,a,c){var h=rr(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},lp(s))cp(a,c);else if(c=Ff(s,a,c,h),c!==null){var m=ft();nn(c,s,h,m),up(c,a,h)}}function _0(s,a,c){var h=rr(s),m={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(lp(s))cp(a,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var w=a.lastRenderedState,E=y(w,c);if(m.hasEagerState=!0,m.eagerState=E,Qt(E,w)){var O=a.interleaved;O===null?(m.next=m,zc(a)):(m.next=O.next,O.next=m),a.interleaved=m;return}}catch{}finally{}c=Ff(s,a,m,h),c!==null&&(m=ft(),nn(c,s,h,m),up(c,a,h))}}function lp(s){var a=s.alternate;return s===Fe||a!==null&&a===Fe}function cp(s,a){_i=so=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function up(s,a,c){if((c&4194240)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Zl(s,c)}}var oo={readContext:zt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},k0={readContext:zt,useCallback:function(s,a){return hn().memoizedState=[s,a===void 0?null:a],s},useContext:zt,useEffect:Zf,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,io(4194308,4,np.bind(null,a,s),c)},useLayoutEffect:function(s,a){return io(4194308,4,s,a)},useInsertionEffect:function(s,a){return io(4,2,s,a)},useMemo:function(s,a){var c=hn();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var h=hn();return a=c!==void 0?c(a):a,h.memoizedState=h.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},h.queue=s,s=s.dispatch=w0.bind(null,Fe,s),[h.memoizedState,s]},useRef:function(s){var a=hn();return s={current:s},a.memoizedState=s},useState:Qf,useDebugValue:Qc,useDeferredValue:function(s){return hn().memoizedState=s},useTransition:function(){var s=Qf(!1),a=s[0];return s=b0.bind(null,s[1]),hn().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var h=Fe,m=hn();if(De){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),Ze===null)throw Error(t(349));(Er&30)!==0||qf(h,a,c)}m.memoizedState=c;var y={value:c,getSnapshot:a};return m.queue=y,Zf(Gf.bind(null,h,y,s),[s]),h.flags|=2048,Ci(9,Kf.bind(null,h,y,c,a),void 0,null),c},useId:function(){var s=hn(),a=Ze.identifierPrefix;if(De){var c=Cn,h=Sn;c=(h&~(1<<32-Jt(h)-1)).toString(32)+c,a=":"+a+"R"+c,c=ki++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=x0++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},S0={readContext:zt,useCallback:sp,useContext:zt,useEffect:Jc,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:ip,useReducer:Gc,useRef:Xf,useState:function(){return Gc(Si)},useDebugValue:Qc,useDeferredValue:function(s){var a=Ft();return ap(a,Ye.memoizedState,s)},useTransition:function(){var s=Gc(Si)[0],a=Ft().memoizedState;return[s,a]},useMutableSource:Wf,useSyncExternalStore:Hf,useId:op,unstable_isNewReconciler:!1},C0={readContext:zt,useCallback:sp,useContext:zt,useEffect:Jc,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:ip,useReducer:Yc,useRef:Xf,useState:function(){return Yc(Si)},useDebugValue:Qc,useDeferredValue:function(s){var a=Ft();return Ye===null?a.memoizedState=s:ap(a,Ye.memoizedState,s)},useTransition:function(){var s=Yc(Si)[0],a=Ft().memoizedState;return[s,a]},useMutableSource:Wf,useSyncExternalStore:Hf,useId:op,unstable_isNewReconciler:!1};function Zt(s,a){if(s&&s.defaultProps){a=K({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function Xc(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:K({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var lo={isMounted:function(s){return(s=s._reactInternals)?xr(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var h=ft(),m=rr(s),y=Rn(h,m);y.payload=a,c!=null&&(y.callback=c),a=Zn(s,y,m),a!==null&&(nn(a,s,m,h),eo(a,s,m))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=ft(),m=rr(s),y=Rn(h,m);y.tag=1,y.payload=a,c!=null&&(y.callback=c),a=Zn(s,y,m),a!==null&&(nn(a,s,m,h),eo(a,s,m))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=ft(),h=rr(s),m=Rn(c,h);m.tag=2,a!=null&&(m.callback=a),a=Zn(s,m,h),a!==null&&(nn(a,s,h,c),eo(a,s,h))}};function dp(s,a,c,h,m,y,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,w):a.prototype&&a.prototype.isPureReactComponent?!di(c,h)||!di(m,y):!0}function hp(s,a,c){var h=!1,m=Jn,y=a.contextType;return typeof y=="object"&&y!==null?y=zt(y):(m=yt(a)?wr:ot.current,h=a.contextTypes,y=(h=h!=null)?os(s,m):Jn),a=new a(c,y),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=lo,s.stateNode=a,a._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=y),a}function fp(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&lo.enqueueReplaceState(a,a.state,null)}function Zc(s,a,c,h){var m=s.stateNode;m.props=c,m.state=s.memoizedState,m.refs={},Fc(s);var y=a.contextType;typeof y=="object"&&y!==null?m.context=zt(y):(y=yt(a)?wr:ot.current,m.context=os(s,y)),m.state=s.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Xc(s,a,y,c),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(a=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),a!==m.state&&lo.enqueueReplaceState(m,m.state,null),to(s,c,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function ms(s,a){try{var c="",h=a;do c+=de(h),h=h.return;while(h);var m=c}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:a,stack:m,digest:null}}function eu(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function tu(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var E0=typeof WeakMap=="function"?WeakMap:Map;function pp(s,a,c){c=Rn(-1,c),c.tag=3,c.payload={element:null};var h=a.value;return c.callback=function(){go||(go=!0,gu=h),tu(s,a)},c}function mp(s,a,c){c=Rn(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=a.value;c.payload=function(){return h(m)},c.callback=function(){tu(s,a)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){tu(s,a),typeof h!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var w=a.stack;this.componentDidCatch(a.value,{componentStack:w!==null?w:""})}),c}function gp(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new E0;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(c)||(m.add(c),s=$0.bind(null,s,a,c),a.then(s,s))}function yp(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function vp(s,a,c,h,m){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Rn(-1,1),a.tag=2,Zn(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var R0=I.ReactCurrentOwner,vt=!1;function ht(s,a,c,h){a.child=s===null?zf(a,null,c,h):ds(a,s.child,c,h)}function xp(s,a,c,h,m){c=c.render;var y=a.ref;return fs(a,m),h=qc(s,a,c,h,y,m),c=Kc(),s!==null&&!vt?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,Pn(s,a,m)):(De&&c&&jc(a),a.flags|=1,ht(s,a,h,m),a.child)}function bp(s,a,c,h,m){if(s===null){var y=c.type;return typeof y=="function"&&!ku(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=y,wp(s,a,y,h,m)):(s=_o(c.type,null,h,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,(s.lanes&m)===0){var w=y.memoizedProps;if(c=c.compare,c=c!==null?c:di,c(w,h)&&s.ref===a.ref)return Pn(s,a,m)}return a.flags|=1,s=ir(y,h),s.ref=a.ref,s.return=a,a.child=s}function wp(s,a,c,h,m){if(s!==null){var y=s.memoizedProps;if(di(y,h)&&s.ref===a.ref)if(vt=!1,a.pendingProps=h=y,(s.lanes&m)!==0)(s.flags&131072)!==0&&(vt=!0);else return a.lanes=s.lanes,Pn(s,a,m)}return nu(s,a,c,h,m)}function _p(s,a,c){var h=a.pendingProps,m=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(ys,Pt),Pt|=c;else{if((c&1073741824)===0)return s=y!==null?y.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Pe(ys,Pt),Pt|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:c,Pe(ys,Pt),Pt|=h}else y!==null?(h=y.baseLanes|c,a.memoizedState=null):h=c,Pe(ys,Pt),Pt|=h;return ht(s,a,m,c),a.child}function kp(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function nu(s,a,c,h,m){var y=yt(c)?wr:ot.current;return y=os(a,y),fs(a,m),c=qc(s,a,c,h,y,m),h=Kc(),s!==null&&!vt?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,Pn(s,a,m)):(De&&h&&jc(a),a.flags|=1,ht(s,a,c,m),a.child)}function Sp(s,a,c,h,m){if(yt(c)){var y=!0;qa(a)}else y=!1;if(fs(a,m),a.stateNode===null)uo(s,a),hp(a,c,h),Zc(a,c,h,m),h=!0;else if(s===null){var w=a.stateNode,E=a.memoizedProps;w.props=E;var O=w.context,D=c.contextType;typeof D=="object"&&D!==null?D=zt(D):(D=yt(c)?wr:ot.current,D=os(a,D));var V=c.getDerivedStateFromProps,W=typeof V=="function"||typeof w.getSnapshotBeforeUpdate=="function";W||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(E!==h||O!==D)&&fp(a,w,h,D),Xn=!1;var U=a.memoizedState;w.state=U,to(a,h,w,m),O=a.memoizedState,E!==h||U!==O||gt.current||Xn?(typeof V=="function"&&(Xc(a,c,V,h),O=a.memoizedState),(E=Xn||dp(a,c,E,h,U,O,D))?(W||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=O),w.props=h,w.state=O,w.context=D,h=E):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{w=a.stateNode,$f(s,a),E=a.memoizedProps,D=a.type===a.elementType?E:Zt(a.type,E),w.props=D,W=a.pendingProps,U=w.context,O=c.contextType,typeof O=="object"&&O!==null?O=zt(O):(O=yt(c)?wr:ot.current,O=os(a,O));var Y=c.getDerivedStateFromProps;(V=typeof Y=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(E!==W||U!==O)&&fp(a,w,h,O),Xn=!1,U=a.memoizedState,w.state=U,to(a,h,w,m);var Q=a.memoizedState;E!==W||U!==Q||gt.current||Xn?(typeof Y=="function"&&(Xc(a,c,Y,h),Q=a.memoizedState),(D=Xn||dp(a,c,D,h,U,Q,O)||!1)?(V||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,Q,O),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,Q,O)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||E===s.memoizedProps&&U===s.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&U===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Q),w.props=h,w.state=Q,w.context=O,h=D):(typeof w.componentDidUpdate!="function"||E===s.memoizedProps&&U===s.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&U===s.memoizedState||(a.flags|=1024),h=!1)}return ru(s,a,c,h,y,m)}function ru(s,a,c,h,m,y){kp(s,a);var w=(a.flags&128)!==0;if(!h&&!w)return m&&jf(a,c,!1),Pn(s,a,y);h=a.stateNode,R0.current=a;var E=w&&typeof c.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,s!==null&&w?(a.child=ds(a,s.child,null,y),a.child=ds(a,null,E,y)):ht(s,a,E,y),a.memoizedState=h.state,m&&jf(a,c,!0),a.child}function Cp(s){var a=s.stateNode;a.pendingContext?Rf(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Rf(s,a.context,!1),$c(s,a.containerInfo)}function Ep(s,a,c,h,m){return us(),Nc(m),a.flags|=256,ht(s,a,c,h),a.child}var su={dehydrated:null,treeContext:null,retryLane:0};function iu(s){return{baseLanes:s,cachePool:null,transitions:null}}function Rp(s,a,c){var h=a.pendingProps,m=ze.current,y=!1,w=(a.flags&128)!==0,E;if((E=w)||(E=s!==null&&s.memoizedState===null?!1:(m&2)!==0),E?(y=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),Pe(ze,m&1),s===null)return Ac(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(w=h.children,s=h.fallback,y?(h=a.mode,y=a.child,w={mode:"hidden",children:w},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=w):y=ko(w,h,0,null),s=Or(s,h,c,null),y.return=a,s.return=a,y.sibling=s,a.child=y,a.child.memoizedState=iu(c),a.memoizedState=su,s):au(a,w));if(m=s.memoizedState,m!==null&&(E=m.dehydrated,E!==null))return P0(s,a,w,h,E,m,c);if(y){y=h.fallback,w=a.mode,m=s.child,E=m.sibling;var O={mode:"hidden",children:h.children};return(w&1)===0&&a.child!==m?(h=a.child,h.childLanes=0,h.pendingProps=O,a.deletions=null):(h=ir(m,O),h.subtreeFlags=m.subtreeFlags&14680064),E!==null?y=ir(E,y):(y=Or(y,w,c,null),y.flags|=2),y.return=a,h.return=a,h.sibling=y,a.child=h,h=y,y=a.child,w=s.child.memoizedState,w=w===null?iu(c):{baseLanes:w.baseLanes|c,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=s.childLanes&~c,a.memoizedState=su,h}return y=s.child,s=y.sibling,h=ir(y,{mode:"visible",children:h.children}),(a.mode&1)===0&&(h.lanes=c),h.return=a,h.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=h,a.memoizedState=null,h}function au(s,a){return a=ko({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function co(s,a,c,h){return h!==null&&Nc(h),ds(a,s.child,null,c),s=au(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function P0(s,a,c,h,m,y,w){if(c)return a.flags&256?(a.flags&=-257,h=eu(Error(t(422))),co(s,a,w,h)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(y=h.fallback,m=a.mode,h=ko({mode:"visible",children:h.children},m,0,null),y=Or(y,m,w,null),y.flags|=2,h.return=a,y.return=a,h.sibling=y,a.child=h,(a.mode&1)!==0&&ds(a,s.child,null,w),a.child.memoizedState=iu(w),a.memoizedState=su,y);if((a.mode&1)===0)return co(s,a,w,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var E=h.dgst;return h=E,y=Error(t(419)),h=eu(y,h,void 0),co(s,a,w,h)}if(E=(w&s.childLanes)!==0,vt||E){if(h=Ze,h!==null){switch(w&-w){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|w))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,En(s,m),nn(h,s,m,-1))}return _u(),h=eu(Error(t(421))),co(s,a,w,h)}return m.data==="$?"?(a.flags|=128,a.child=s.child,a=U0.bind(null,s),m._reactRetry=a,null):(s=y.treeContext,Rt=Gn(m.nextSibling),Et=a,De=!0,Xt=null,s!==null&&(Dt[Mt++]=Sn,Dt[Mt++]=Cn,Dt[Mt++]=_r,Sn=s.id,Cn=s.overflow,_r=a),a=au(a,h.children),a.flags|=4096,a)}function Pp(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),Mc(s.return,a,c)}function ou(s,a,c,h,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=c,y.tailMode=m)}function jp(s,a,c){var h=a.pendingProps,m=h.revealOrder,y=h.tail;if(ht(s,a,h.children,c),h=ze.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Pp(s,c,a);else if(s.tag===19)Pp(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(Pe(ze,h),(a.mode&1)===0)a.memoizedState=null;else switch(m){case"forwards":for(c=a.child,m=null;c!==null;)s=c.alternate,s!==null&&no(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=a.child,a.child=null):(m=c.sibling,c.sibling=null),ou(a,!1,m,c,y);break;case"backwards":for(c=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&no(s)===null){a.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}ou(a,!0,c,null,y);break;case"together":ou(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function uo(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Pn(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Rr|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=ir(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=ir(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function j0(s,a,c){switch(a.tag){case 3:Cp(a),us();break;case 5:Vf(a);break;case 1:yt(a.type)&&qa(a);break;case 4:$c(a,a.stateNode.containerInfo);break;case 10:var h=a.type._context,m=a.memoizedProps.value;Pe(Xa,h._currentValue),h._currentValue=m;break;case 13:if(h=a.memoizedState,h!==null)return h.dehydrated!==null?(Pe(ze,ze.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?Rp(s,a,c):(Pe(ze,ze.current&1),s=Pn(s,a,c),s!==null?s.sibling:null);Pe(ze,ze.current&1);break;case 19:if(h=(c&a.childLanes)!==0,(s.flags&128)!==0){if(h)return jp(s,a,c);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Pe(ze,ze.current),h)break;return null;case 22:case 23:return a.lanes=0,_p(s,a,c)}return Pn(s,a,c)}var Tp,lu,Op,Ap;Tp=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},lu=function(){},Op=function(s,a,c,h){var m=s.memoizedProps;if(m!==h){s=a.stateNode,Cr(dn.current);var y=null;switch(c){case"input":m=Ml(s,m),h=Ml(s,h),y=[];break;case"select":m=K({},m,{value:void 0}),h=K({},h,{value:void 0}),y=[];break;case"textarea":m=$l(s,m),h=$l(s,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Va)}Bl(c,h);var w;c=null;for(D in m)if(!h.hasOwnProperty(D)&&m.hasOwnProperty(D)&&m[D]!=null)if(D==="style"){var E=m[D];for(w in E)E.hasOwnProperty(w)&&(c||(c={}),c[w]="")}else D!=="dangerouslySetInnerHTML"&&D!=="children"&&D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(i.hasOwnProperty(D)?y||(y=[]):(y=y||[]).push(D,null));for(D in h){var O=h[D];if(E=m!=null?m[D]:void 0,h.hasOwnProperty(D)&&O!==E&&(O!=null||E!=null))if(D==="style")if(E){for(w in E)!E.hasOwnProperty(w)||O&&O.hasOwnProperty(w)||(c||(c={}),c[w]="");for(w in O)O.hasOwnProperty(w)&&E[w]!==O[w]&&(c||(c={}),c[w]=O[w])}else c||(y||(y=[]),y.push(D,c)),c=O;else D==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,E=E?E.__html:void 0,O!=null&&E!==O&&(y=y||[]).push(D,O)):D==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(D,""+O):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&(i.hasOwnProperty(D)?(O!=null&&D==="onScroll"&&Oe("scroll",s),y||E===O||(y=[])):(y=y||[]).push(D,O))}c&&(y=y||[]).push("style",c);var D=y;(a.updateQueue=D)&&(a.flags|=4)}},Ap=function(s,a,c,h){c!==h&&(a.flags|=4)};function Ei(s,a){if(!De)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function ct(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function T0(s,a,c){var h=a.pendingProps;switch(Tc(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(a),null;case 1:return yt(a.type)&&Ha(),ct(a),null;case 3:return h=a.stateNode,ps(),Ae(gt),Ae(ot),Vc(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Ja(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Xt!==null&&(xu(Xt),Xt=null))),lu(s,a),ct(a),null;case 5:Uc(a);var m=Cr(wi.current);if(c=a.type,s!==null&&a.stateNode!=null)Op(s,a,c,h,m),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(t(166));return ct(a),null}if(s=Cr(dn.current),Ja(a)){h=a.stateNode,c=a.type;var y=a.memoizedProps;switch(h[un]=a,h[gi]=y,s=(a.mode&1)!==0,c){case"dialog":Oe("cancel",h),Oe("close",h);break;case"iframe":case"object":case"embed":Oe("load",h);break;case"video":case"audio":for(m=0;m<fi.length;m++)Oe(fi[m],h);break;case"source":Oe("error",h);break;case"img":case"image":case"link":Oe("error",h),Oe("load",h);break;case"details":Oe("toggle",h);break;case"input":dh(h,y),Oe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Oe("invalid",h);break;case"textarea":ph(h,y),Oe("invalid",h)}Bl(c,y),m=null;for(var w in y)if(y.hasOwnProperty(w)){var E=y[w];w==="children"?typeof E=="string"?h.textContent!==E&&(y.suppressHydrationWarning!==!0&&Ba(h.textContent,E,s),m=["children",E]):typeof E=="number"&&h.textContent!==""+E&&(y.suppressHydrationWarning!==!0&&Ba(h.textContent,E,s),m=["children",""+E]):i.hasOwnProperty(w)&&E!=null&&w==="onScroll"&&Oe("scroll",h)}switch(c){case"input":xa(h),fh(h,y,!0);break;case"textarea":xa(h),gh(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Va)}h=m,a.updateQueue=h,h!==null&&(a.flags|=4)}else{w=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=yh(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=w.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=w.createElement(c,{is:h.is}):(s=w.createElement(c),c==="select"&&(w=s,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):s=w.createElementNS(s,c),s[un]=a,s[gi]=h,Tp(s,a,!1,!1),a.stateNode=s;e:{switch(w=Vl(c,h),c){case"dialog":Oe("cancel",s),Oe("close",s),m=h;break;case"iframe":case"object":case"embed":Oe("load",s),m=h;break;case"video":case"audio":for(m=0;m<fi.length;m++)Oe(fi[m],s);m=h;break;case"source":Oe("error",s),m=h;break;case"img":case"image":case"link":Oe("error",s),Oe("load",s),m=h;break;case"details":Oe("toggle",s),m=h;break;case"input":dh(s,h),m=Ml(s,h),Oe("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=K({},h,{value:void 0}),Oe("invalid",s);break;case"textarea":ph(s,h),m=$l(s,h),Oe("invalid",s);break;default:m=h}Bl(c,m),E=m;for(y in E)if(E.hasOwnProperty(y)){var O=E[y];y==="style"?bh(s,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&vh(s,O)):y==="children"?typeof O=="string"?(c!=="textarea"||O!=="")&&Gs(s,O):typeof O=="number"&&Gs(s,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?O!=null&&y==="onScroll"&&Oe("scroll",s):O!=null&&j(s,y,O,w))}switch(c){case"input":xa(s),fh(s,h,!1);break;case"textarea":xa(s),gh(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Se(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?Yr(s,!!h.multiple,y,!1):h.defaultValue!=null&&Yr(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Va)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return ct(a),null;case 6:if(s&&a.stateNode!=null)Ap(s,a,s.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(t(166));if(c=Cr(wi.current),Cr(dn.current),Ja(a)){if(h=a.stateNode,c=a.memoizedProps,h[un]=a,(y=h.nodeValue!==c)&&(s=Et,s!==null))switch(s.tag){case 3:Ba(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ba(h.nodeValue,c,(s.mode&1)!==0)}y&&(a.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[un]=a,a.stateNode=h}return ct(a),null;case 13:if(Ae(ze),h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(De&&Rt!==null&&(a.mode&1)!==0&&(a.flags&128)===0)If(),us(),a.flags|=98560,y=!1;else if(y=Ja(a),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[un]=a}else us(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ct(a),y=!1}else Xt!==null&&(xu(Xt),Xt=null),y=!0;if(!y)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(ze.current&1)!==0?Je===0&&(Je=3):_u())),a.updateQueue!==null&&(a.flags|=4),ct(a),null);case 4:return ps(),lu(s,a),s===null&&pi(a.stateNode.containerInfo),ct(a),null;case 10:return Dc(a.type._context),ct(a),null;case 17:return yt(a.type)&&Ha(),ct(a),null;case 19:if(Ae(ze),y=a.memoizedState,y===null)return ct(a),null;if(h=(a.flags&128)!==0,w=y.rendering,w===null)if(h)Ei(y,!1);else{if(Je!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(w=no(s),w!==null){for(a.flags|=128,Ei(y,!1),h=w.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),a.subtreeFlags=0,h=c,c=a.child;c!==null;)y=c,s=h,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,s=w.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Pe(ze,ze.current&1|2),a.child}s=s.sibling}y.tail!==null&&He()>vs&&(a.flags|=128,h=!0,Ei(y,!1),a.lanes=4194304)}else{if(!h)if(s=no(w),s!==null){if(a.flags|=128,h=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Ei(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!De)return ct(a),null}else 2*He()-y.renderingStartTime>vs&&c!==1073741824&&(a.flags|=128,h=!0,Ei(y,!1),a.lanes=4194304);y.isBackwards?(w.sibling=a.child,a.child=w):(c=y.last,c!==null?c.sibling=w:a.child=w,y.last=w)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=He(),a.sibling=null,c=ze.current,Pe(ze,h?c&1|2:c&1),a):(ct(a),null);case 22:case 23:return wu(),h=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(a.flags|=8192),h&&(a.mode&1)!==0?(Pt&1073741824)!==0&&(ct(a),a.subtreeFlags&6&&(a.flags|=8192)):ct(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function O0(s,a){switch(Tc(a),a.tag){case 1:return yt(a.type)&&Ha(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ps(),Ae(gt),Ae(ot),Vc(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Uc(a),null;case 13:if(Ae(ze),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));us()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Ae(ze),null;case 4:return ps(),null;case 10:return Dc(a.type._context),null;case 22:case 23:return wu(),null;case 24:return null;default:return null}}var ho=!1,ut=!1,A0=typeof WeakSet=="function"?WeakSet:Set,J=null;function gs(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){$e(s,a,h)}else c.current=null}function cu(s,a,c){try{c()}catch(h){$e(s,a,h)}}var Np=!1;function N0(s,a){if(wc=Oa,s=df(),fc(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var w=0,E=-1,O=-1,D=0,V=0,W=s,U=null;t:for(;;){for(var Y;W!==c||m!==0&&W.nodeType!==3||(E=w+m),W!==y||h!==0&&W.nodeType!==3||(O=w+h),W.nodeType===3&&(w+=W.nodeValue.length),(Y=W.firstChild)!==null;)U=W,W=Y;for(;;){if(W===s)break t;if(U===c&&++D===m&&(E=w),U===y&&++V===h&&(O=w),(Y=W.nextSibling)!==null)break;W=U,U=W.parentNode}W=Y}c=E===-1||O===-1?null:{start:E,end:O}}else c=null}c=c||{start:0,end:0}}else c=null;for(_c={focusedElem:s,selectionRange:c},Oa=!1,J=a;J!==null;)if(a=J,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,J=s;else for(;J!==null;){a=J;try{var Q=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var X=Q.memoizedProps,qe=Q.memoizedState,N=a.stateNode,A=N.getSnapshotBeforeUpdate(a.elementType===a.type?X:Zt(a.type,X),qe);N.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var L=a.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(H){$e(a,a.return,H)}if(s=a.sibling,s!==null){s.return=a.return,J=s;break}J=a.return}return Q=Np,Np=!1,Q}function Ri(s,a,c){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var y=m.destroy;m.destroy=void 0,y!==void 0&&cu(a,c,y)}m=m.next}while(m!==h)}}function fo(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==a)}}function uu(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function Lp(s){var a=s.alternate;a!==null&&(s.alternate=null,Lp(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[un],delete a[gi],delete a[Ec],delete a[m0],delete a[g0])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Ip(s){return s.tag===5||s.tag===3||s.tag===4}function Dp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ip(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function du(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Va));else if(h!==4&&(s=s.child,s!==null))for(du(s,a,c),s=s.sibling;s!==null;)du(s,a,c),s=s.sibling}function hu(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(hu(s,a,c),s=s.sibling;s!==null;)hu(s,a,c),s=s.sibling}var nt=null,en=!1;function er(s,a,c){for(c=c.child;c!==null;)Mp(s,a,c),c=c.sibling}function Mp(s,a,c){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Ca,c)}catch{}switch(c.tag){case 5:ut||gs(c,a);case 6:var h=nt,m=en;nt=null,er(s,a,c),nt=h,en=m,nt!==null&&(en?(s=nt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):nt.removeChild(c.stateNode));break;case 18:nt!==null&&(en?(s=nt,c=c.stateNode,s.nodeType===8?Cc(s.parentNode,c):s.nodeType===1&&Cc(s,c),ii(s)):Cc(nt,c.stateNode));break;case 4:h=nt,m=en,nt=c.stateNode.containerInfo,en=!0,er(s,a,c),nt=h,en=m;break;case 0:case 11:case 14:case 15:if(!ut&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,w=y.destroy;y=y.tag,w!==void 0&&((y&2)!==0||(y&4)!==0)&&cu(c,a,w),m=m.next}while(m!==h)}er(s,a,c);break;case 1:if(!ut&&(gs(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(E){$e(c,a,E)}er(s,a,c);break;case 21:er(s,a,c);break;case 22:c.mode&1?(ut=(h=ut)||c.memoizedState!==null,er(s,a,c),ut=h):er(s,a,c);break;default:er(s,a,c)}}function zp(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new A0),a.forEach(function(h){var m=B0.bind(null,s,h);c.has(h)||(c.add(h),h.then(m,m))})}}function tn(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];try{var y=s,w=a,E=w;e:for(;E!==null;){switch(E.tag){case 5:nt=E.stateNode,en=!1;break e;case 3:nt=E.stateNode.containerInfo,en=!0;break e;case 4:nt=E.stateNode.containerInfo,en=!0;break e}E=E.return}if(nt===null)throw Error(t(160));Mp(y,w,m),nt=null,en=!1;var O=m.alternate;O!==null&&(O.return=null),m.return=null}catch(D){$e(m,a,D)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Fp(a,s),a=a.sibling}function Fp(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(tn(a,s),fn(s),h&4){try{Ri(3,s,s.return),fo(3,s)}catch(X){$e(s,s.return,X)}try{Ri(5,s,s.return)}catch(X){$e(s,s.return,X)}}break;case 1:tn(a,s),fn(s),h&512&&c!==null&&gs(c,c.return);break;case 5:if(tn(a,s),fn(s),h&512&&c!==null&&gs(c,c.return),s.flags&32){var m=s.stateNode;try{Gs(m,"")}catch(X){$e(s,s.return,X)}}if(h&4&&(m=s.stateNode,m!=null)){var y=s.memoizedProps,w=c!==null?c.memoizedProps:y,E=s.type,O=s.updateQueue;if(s.updateQueue=null,O!==null)try{E==="input"&&y.type==="radio"&&y.name!=null&&hh(m,y),Vl(E,w);var D=Vl(E,y);for(w=0;w<O.length;w+=2){var V=O[w],W=O[w+1];V==="style"?bh(m,W):V==="dangerouslySetInnerHTML"?vh(m,W):V==="children"?Gs(m,W):j(m,V,W,D)}switch(E){case"input":zl(m,y);break;case"textarea":mh(m,y);break;case"select":var U=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var Y=y.value;Y!=null?Yr(m,!!y.multiple,Y,!1):U!==!!y.multiple&&(y.defaultValue!=null?Yr(m,!!y.multiple,y.defaultValue,!0):Yr(m,!!y.multiple,y.multiple?[]:"",!1))}m[gi]=y}catch(X){$e(s,s.return,X)}}break;case 6:if(tn(a,s),fn(s),h&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,y=s.memoizedProps;try{m.nodeValue=y}catch(X){$e(s,s.return,X)}}break;case 3:if(tn(a,s),fn(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{ii(a.containerInfo)}catch(X){$e(s,s.return,X)}break;case 4:tn(a,s),fn(s);break;case 13:tn(a,s),fn(s),m=s.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(mu=He())),h&4&&zp(s);break;case 22:if(V=c!==null&&c.memoizedState!==null,s.mode&1?(ut=(D=ut)||V,tn(a,s),ut=D):tn(a,s),fn(s),h&8192){if(D=s.memoizedState!==null,(s.stateNode.isHidden=D)&&!V&&(s.mode&1)!==0)for(J=s,V=s.child;V!==null;){for(W=J=V;J!==null;){switch(U=J,Y=U.child,U.tag){case 0:case 11:case 14:case 15:Ri(4,U,U.return);break;case 1:gs(U,U.return);var Q=U.stateNode;if(typeof Q.componentWillUnmount=="function"){h=U,c=U.return;try{a=h,Q.props=a.memoizedProps,Q.state=a.memoizedState,Q.componentWillUnmount()}catch(X){$e(h,c,X)}}break;case 5:gs(U,U.return);break;case 22:if(U.memoizedState!==null){Bp(W);continue}}Y!==null?(Y.return=U,J=Y):Bp(W)}V=V.sibling}e:for(V=null,W=s;;){if(W.tag===5){if(V===null){V=W;try{m=W.stateNode,D?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(E=W.stateNode,O=W.memoizedProps.style,w=O!=null&&O.hasOwnProperty("display")?O.display:null,E.style.display=xh("display",w))}catch(X){$e(s,s.return,X)}}}else if(W.tag===6){if(V===null)try{W.stateNode.nodeValue=D?"":W.memoizedProps}catch(X){$e(s,s.return,X)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===s)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===s)break e;for(;W.sibling===null;){if(W.return===null||W.return===s)break e;V===W&&(V=null),W=W.return}V===W&&(V=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:tn(a,s),fn(s),h&4&&zp(s);break;case 21:break;default:tn(a,s),fn(s)}}function fn(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(Ip(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(Gs(m,""),h.flags&=-33);var y=Dp(s);hu(s,y,m);break;case 3:case 4:var w=h.stateNode.containerInfo,E=Dp(s);du(s,E,w);break;default:throw Error(t(161))}}catch(O){$e(s,s.return,O)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function L0(s,a,c){J=s,$p(s)}function $p(s,a,c){for(var h=(s.mode&1)!==0;J!==null;){var m=J,y=m.child;if(m.tag===22&&h){var w=m.memoizedState!==null||ho;if(!w){var E=m.alternate,O=E!==null&&E.memoizedState!==null||ut;E=ho;var D=ut;if(ho=w,(ut=O)&&!D)for(J=m;J!==null;)w=J,O=w.child,w.tag===22&&w.memoizedState!==null?Vp(m):O!==null?(O.return=w,J=O):Vp(m);for(;y!==null;)J=y,$p(y),y=y.sibling;J=m,ho=E,ut=D}Up(s)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,J=y):Up(s)}}function Up(s){for(;J!==null;){var a=J;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:ut||fo(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!ut)if(c===null)h.componentDidMount();else{var m=a.elementType===a.type?c.memoizedProps:Zt(a.type,c.memoizedProps);h.componentDidUpdate(m,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=a.updateQueue;y!==null&&Bf(a,y,h);break;case 3:var w=a.updateQueue;if(w!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}Bf(a,w,c)}break;case 5:var E=a.stateNode;if(c===null&&a.flags&4){c=E;var O=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&c.focus();break;case"img":O.src&&(c.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var D=a.alternate;if(D!==null){var V=D.memoizedState;if(V!==null){var W=V.dehydrated;W!==null&&ii(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ut||a.flags&512&&uu(a)}catch(U){$e(a,a.return,U)}}if(a===s){J=null;break}if(c=a.sibling,c!==null){c.return=a.return,J=c;break}J=a.return}}function Bp(s){for(;J!==null;){var a=J;if(a===s){J=null;break}var c=a.sibling;if(c!==null){c.return=a.return,J=c;break}J=a.return}}function Vp(s){for(;J!==null;){var a=J;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{fo(4,a)}catch(O){$e(a,c,O)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var m=a.return;try{h.componentDidMount()}catch(O){$e(a,m,O)}}var y=a.return;try{uu(a)}catch(O){$e(a,y,O)}break;case 5:var w=a.return;try{uu(a)}catch(O){$e(a,w,O)}}}catch(O){$e(a,a.return,O)}if(a===s){J=null;break}var E=a.sibling;if(E!==null){E.return=a.return,J=E;break}J=a.return}}var I0=Math.ceil,po=I.ReactCurrentDispatcher,fu=I.ReactCurrentOwner,$t=I.ReactCurrentBatchConfig,we=0,Ze=null,Ke=null,rt=0,Pt=0,ys=Yn(0),Je=0,Pi=null,Rr=0,mo=0,pu=0,ji=null,xt=null,mu=0,vs=1/0,jn=null,go=!1,gu=null,tr=null,yo=!1,nr=null,vo=0,Ti=0,yu=null,xo=-1,bo=0;function ft(){return(we&6)!==0?He():xo!==-1?xo:xo=He()}function rr(s){return(s.mode&1)===0?1:(we&2)!==0&&rt!==0?rt&-rt:v0.transition!==null?(bo===0&&(bo=Ih()),bo):(s=Ce,s!==0||(s=window.event,s=s===void 0?16:Wh(s.type)),s)}function nn(s,a,c,h){if(50<Ti)throw Ti=0,yu=null,Error(t(185));ei(s,c,h),((we&2)===0||s!==Ze)&&(s===Ze&&((we&2)===0&&(mo|=c),Je===4&&sr(s,rt)),bt(s,h),c===1&&we===0&&(a.mode&1)===0&&(vs=He()+500,Ka&&Qn()))}function bt(s,a){var c=s.callbackNode;vx(s,a);var h=Pa(s,s===Ze?rt:0);if(h===0)c!==null&&Ah(c),s.callbackNode=null,s.callbackPriority=0;else if(a=h&-h,s.callbackPriority!==a){if(c!=null&&Ah(c),a===1)s.tag===0?y0(Hp.bind(null,s)):Tf(Hp.bind(null,s)),f0(function(){(we&6)===0&&Qn()}),c=null;else{switch(Dh(h)){case 1:c=Jl;break;case 4:c=Nh;break;case 16:c=Sa;break;case 536870912:c=Lh;break;default:c=Sa}c=Zp(c,Wp.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function Wp(s,a){if(xo=-1,bo=0,(we&6)!==0)throw Error(t(327));var c=s.callbackNode;if(xs()&&s.callbackNode!==c)return null;var h=Pa(s,s===Ze?rt:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||a)a=wo(s,h);else{a=h;var m=we;we|=2;var y=Kp();(Ze!==s||rt!==a)&&(jn=null,vs=He()+500,jr(s,a));do try{z0();break}catch(E){qp(s,E)}while(!0);Ic(),po.current=y,we=m,Ke!==null?a=0:(Ze=null,rt=0,a=Je)}if(a!==0){if(a===2&&(m=Ql(s),m!==0&&(h=m,a=vu(s,m))),a===1)throw c=Pi,jr(s,0),sr(s,h),bt(s,He()),c;if(a===6)sr(s,h);else{if(m=s.current.alternate,(h&30)===0&&!D0(m)&&(a=wo(s,h),a===2&&(y=Ql(s),y!==0&&(h=y,a=vu(s,y))),a===1))throw c=Pi,jr(s,0),sr(s,h),bt(s,He()),c;switch(s.finishedWork=m,s.finishedLanes=h,a){case 0:case 1:throw Error(t(345));case 2:Tr(s,xt,jn);break;case 3:if(sr(s,h),(h&130023424)===h&&(a=mu+500-He(),10<a)){if(Pa(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){ft(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Sc(Tr.bind(null,s,xt,jn),a);break}Tr(s,xt,jn);break;case 4:if(sr(s,h),(h&4194240)===h)break;for(a=s.eventTimes,m=-1;0<h;){var w=31-Jt(h);y=1<<w,w=a[w],w>m&&(m=w),h&=~y}if(h=m,h=He()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*I0(h/1960))-h,10<h){s.timeoutHandle=Sc(Tr.bind(null,s,xt,jn),h);break}Tr(s,xt,jn);break;case 5:Tr(s,xt,jn);break;default:throw Error(t(329))}}}return bt(s,He()),s.callbackNode===c?Wp.bind(null,s):null}function vu(s,a){var c=ji;return s.current.memoizedState.isDehydrated&&(jr(s,a).flags|=256),s=wo(s,a),s!==2&&(a=xt,xt=c,a!==null&&xu(a)),s}function xu(s){xt===null?xt=s:xt.push.apply(xt,s)}function D0(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var m=c[h],y=m.getSnapshot;m=m.value;try{if(!Qt(y(),m))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function sr(s,a){for(a&=~pu,a&=~mo,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-Jt(a),h=1<<c;s[c]=-1,a&=~h}}function Hp(s){if((we&6)!==0)throw Error(t(327));xs();var a=Pa(s,0);if((a&1)===0)return bt(s,He()),null;var c=wo(s,a);if(s.tag!==0&&c===2){var h=Ql(s);h!==0&&(a=h,c=vu(s,h))}if(c===1)throw c=Pi,jr(s,0),sr(s,a),bt(s,He()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Tr(s,xt,jn),bt(s,He()),null}function bu(s,a){var c=we;we|=1;try{return s(a)}finally{we=c,we===0&&(vs=He()+500,Ka&&Qn())}}function Pr(s){nr!==null&&nr.tag===0&&(we&6)===0&&xs();var a=we;we|=1;var c=$t.transition,h=Ce;try{if($t.transition=null,Ce=1,s)return s()}finally{Ce=h,$t.transition=c,we=a,(we&6)===0&&Qn()}}function wu(){Pt=ys.current,Ae(ys)}function jr(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,h0(c)),Ke!==null)for(c=Ke.return;c!==null;){var h=c;switch(Tc(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ha();break;case 3:ps(),Ae(gt),Ae(ot),Vc();break;case 5:Uc(h);break;case 4:ps();break;case 13:Ae(ze);break;case 19:Ae(ze);break;case 10:Dc(h.type._context);break;case 22:case 23:wu()}c=c.return}if(Ze=s,Ke=s=ir(s.current,null),rt=Pt=a,Je=0,Pi=null,pu=mo=Rr=0,xt=ji=null,Sr!==null){for(a=0;a<Sr.length;a++)if(c=Sr[a],h=c.interleaved,h!==null){c.interleaved=null;var m=h.next,y=c.pending;if(y!==null){var w=y.next;y.next=m,h.next=w}c.pending=h}Sr=null}return s}function qp(s,a){do{var c=Ke;try{if(Ic(),ro.current=oo,so){for(var h=Fe.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}so=!1}if(Er=0,Xe=Ye=Fe=null,_i=!1,ki=0,fu.current=null,c===null||c.return===null){Je=1,Pi=a,Ke=null;break}e:{var y=s,w=c.return,E=c,O=a;if(a=rt,E.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var D=O,V=E,W=V.tag;if((V.mode&1)===0&&(W===0||W===11||W===15)){var U=V.alternate;U?(V.updateQueue=U.updateQueue,V.memoizedState=U.memoizedState,V.lanes=U.lanes):(V.updateQueue=null,V.memoizedState=null)}var Y=yp(w);if(Y!==null){Y.flags&=-257,vp(Y,w,E,y,a),Y.mode&1&&gp(y,D,a),a=Y,O=D;var Q=a.updateQueue;if(Q===null){var X=new Set;X.add(O),a.updateQueue=X}else Q.add(O);break e}else{if((a&1)===0){gp(y,D,a),_u();break e}O=Error(t(426))}}else if(De&&E.mode&1){var qe=yp(w);if(qe!==null){(qe.flags&65536)===0&&(qe.flags|=256),vp(qe,w,E,y,a),Nc(ms(O,E));break e}}y=O=ms(O,E),Je!==4&&(Je=2),ji===null?ji=[y]:ji.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,a&=-a,y.lanes|=a;var N=pp(y,O,a);Uf(y,N);break e;case 1:E=O;var A=y.type,L=y.stateNode;if((y.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(tr===null||!tr.has(L)))){y.flags|=65536,a&=-a,y.lanes|=a;var H=mp(y,E,a);Uf(y,H);break e}}y=y.return}while(y!==null)}Yp(c)}catch(ee){a=ee,Ke===c&&c!==null&&(Ke=c=c.return);continue}break}while(!0)}function Kp(){var s=po.current;return po.current=oo,s===null?oo:s}function _u(){(Je===0||Je===3||Je===2)&&(Je=4),Ze===null||(Rr&268435455)===0&&(mo&268435455)===0||sr(Ze,rt)}function wo(s,a){var c=we;we|=2;var h=Kp();(Ze!==s||rt!==a)&&(jn=null,jr(s,a));do try{M0();break}catch(m){qp(s,m)}while(!0);if(Ic(),we=c,po.current=h,Ke!==null)throw Error(t(261));return Ze=null,rt=0,Je}function M0(){for(;Ke!==null;)Gp(Ke)}function z0(){for(;Ke!==null&&!cx();)Gp(Ke)}function Gp(s){var a=Xp(s.alternate,s,Pt);s.memoizedProps=s.pendingProps,a===null?Yp(s):Ke=a,fu.current=null}function Yp(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=T0(c,a,Pt),c!==null){Ke=c;return}}else{if(c=O0(c,a),c!==null){c.flags&=32767,Ke=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Je=6,Ke=null;return}}if(a=a.sibling,a!==null){Ke=a;return}Ke=a=s}while(a!==null);Je===0&&(Je=5)}function Tr(s,a,c){var h=Ce,m=$t.transition;try{$t.transition=null,Ce=1,F0(s,a,c,h)}finally{$t.transition=m,Ce=h}return null}function F0(s,a,c,h){do xs();while(nr!==null);if((we&6)!==0)throw Error(t(327));c=s.finishedWork;var m=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=c.lanes|c.childLanes;if(xx(s,y),s===Ze&&(Ke=Ze=null,rt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||yo||(yo=!0,Zp(Sa,function(){return xs(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=$t.transition,$t.transition=null;var w=Ce;Ce=1;var E=we;we|=4,fu.current=null,N0(s,c),Fp(c,s),i0(_c),Oa=!!wc,_c=wc=null,s.current=c,L0(c),ux(),we=E,Ce=w,$t.transition=y}else s.current=c;if(yo&&(yo=!1,nr=s,vo=m),y=s.pendingLanes,y===0&&(tr=null),fx(c.stateNode),bt(s,He()),a!==null)for(h=s.onRecoverableError,c=0;c<a.length;c++)m=a[c],h(m.value,{componentStack:m.stack,digest:m.digest});if(go)throw go=!1,s=gu,gu=null,s;return(vo&1)!==0&&s.tag!==0&&xs(),y=s.pendingLanes,(y&1)!==0?s===yu?Ti++:(Ti=0,yu=s):Ti=0,Qn(),null}function xs(){if(nr!==null){var s=Dh(vo),a=$t.transition,c=Ce;try{if($t.transition=null,Ce=16>s?16:s,nr===null)var h=!1;else{if(s=nr,nr=null,vo=0,(we&6)!==0)throw Error(t(331));var m=we;for(we|=4,J=s.current;J!==null;){var y=J,w=y.child;if((J.flags&16)!==0){var E=y.deletions;if(E!==null){for(var O=0;O<E.length;O++){var D=E[O];for(J=D;J!==null;){var V=J;switch(V.tag){case 0:case 11:case 15:Ri(8,V,y)}var W=V.child;if(W!==null)W.return=V,J=W;else for(;J!==null;){V=J;var U=V.sibling,Y=V.return;if(Lp(V),V===D){J=null;break}if(U!==null){U.return=Y,J=U;break}J=Y}}}var Q=y.alternate;if(Q!==null){var X=Q.child;if(X!==null){Q.child=null;do{var qe=X.sibling;X.sibling=null,X=qe}while(X!==null)}}J=y}}if((y.subtreeFlags&2064)!==0&&w!==null)w.return=y,J=w;else e:for(;J!==null;){if(y=J,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ri(9,y,y.return)}var N=y.sibling;if(N!==null){N.return=y.return,J=N;break e}J=y.return}}var A=s.current;for(J=A;J!==null;){w=J;var L=w.child;if((w.subtreeFlags&2064)!==0&&L!==null)L.return=w,J=L;else e:for(w=A;J!==null;){if(E=J,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:fo(9,E)}}catch(ee){$e(E,E.return,ee)}if(E===w){J=null;break e}var H=E.sibling;if(H!==null){H.return=E.return,J=H;break e}J=E.return}}if(we=m,Qn(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Ca,s)}catch{}h=!0}return h}finally{Ce=c,$t.transition=a}}return!1}function Jp(s,a,c){a=ms(c,a),a=pp(s,a,1),s=Zn(s,a,1),a=ft(),s!==null&&(ei(s,1,a),bt(s,a))}function $e(s,a,c){if(s.tag===3)Jp(s,s,c);else for(;a!==null;){if(a.tag===3){Jp(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(tr===null||!tr.has(h))){s=ms(c,s),s=mp(a,s,1),a=Zn(a,s,1),s=ft(),a!==null&&(ei(a,1,s),bt(a,s));break}}a=a.return}}function $0(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),a=ft(),s.pingedLanes|=s.suspendedLanes&c,Ze===s&&(rt&c)===c&&(Je===4||Je===3&&(rt&130023424)===rt&&500>He()-mu?jr(s,0):pu|=c),bt(s,a)}function Qp(s,a){a===0&&((s.mode&1)===0?a=1:(a=Ra,Ra<<=1,(Ra&130023424)===0&&(Ra=4194304)));var c=ft();s=En(s,a),s!==null&&(ei(s,a,c),bt(s,c))}function U0(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),Qp(s,c)}function B0(s,a){var c=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(a),Qp(s,c)}var Xp;Xp=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||gt.current)vt=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return vt=!1,j0(s,a,c);vt=(s.flags&131072)!==0}else vt=!1,De&&(a.flags&1048576)!==0&&Of(a,Ya,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;uo(s,a),s=a.pendingProps;var m=os(a,ot.current);fs(a,c),m=qc(null,a,h,s,m,c);var y=Kc();return a.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,yt(h)?(y=!0,qa(a)):y=!1,a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Fc(a),m.updater=lo,a.stateNode=m,m._reactInternals=a,Zc(a,h,s,c),a=ru(null,a,h,!0,y,c)):(a.tag=0,De&&y&&jc(a),ht(null,a,m,c),a=a.child),a;case 16:h=a.elementType;e:{switch(uo(s,a),s=a.pendingProps,m=h._init,h=m(h._payload),a.type=h,m=a.tag=W0(h),s=Zt(h,s),m){case 0:a=nu(null,a,h,s,c);break e;case 1:a=Sp(null,a,h,s,c);break e;case 11:a=xp(null,a,h,s,c);break e;case 14:a=bp(null,a,h,Zt(h.type,s),c);break e}throw Error(t(306,h,""))}return a;case 0:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:Zt(h,m),nu(s,a,h,m,c);case 1:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:Zt(h,m),Sp(s,a,h,m,c);case 3:e:{if(Cp(a),s===null)throw Error(t(387));h=a.pendingProps,y=a.memoizedState,m=y.element,$f(s,a),to(a,h,null,c);var w=a.memoizedState;if(h=w.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){m=ms(Error(t(423)),a),a=Ep(s,a,h,c,m);break e}else if(h!==m){m=ms(Error(t(424)),a),a=Ep(s,a,h,c,m);break e}else for(Rt=Gn(a.stateNode.containerInfo.firstChild),Et=a,De=!0,Xt=null,c=zf(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(us(),h===m){a=Pn(s,a,c);break e}ht(s,a,h,c)}a=a.child}return a;case 5:return Vf(a),s===null&&Ac(a),h=a.type,m=a.pendingProps,y=s!==null?s.memoizedProps:null,w=m.children,kc(h,m)?w=null:y!==null&&kc(h,y)&&(a.flags|=32),kp(s,a),ht(s,a,w,c),a.child;case 6:return s===null&&Ac(a),null;case 13:return Rp(s,a,c);case 4:return $c(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=ds(a,null,h,c):ht(s,a,h,c),a.child;case 11:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:Zt(h,m),xp(s,a,h,m,c);case 7:return ht(s,a,a.pendingProps,c),a.child;case 8:return ht(s,a,a.pendingProps.children,c),a.child;case 12:return ht(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(h=a.type._context,m=a.pendingProps,y=a.memoizedProps,w=m.value,Pe(Xa,h._currentValue),h._currentValue=w,y!==null)if(Qt(y.value,w)){if(y.children===m.children&&!gt.current){a=Pn(s,a,c);break e}}else for(y=a.child,y!==null&&(y.return=a);y!==null;){var E=y.dependencies;if(E!==null){w=y.child;for(var O=E.firstContext;O!==null;){if(O.context===h){if(y.tag===1){O=Rn(-1,c&-c),O.tag=2;var D=y.updateQueue;if(D!==null){D=D.shared;var V=D.pending;V===null?O.next=O:(O.next=V.next,V.next=O),D.pending=O}}y.lanes|=c,O=y.alternate,O!==null&&(O.lanes|=c),Mc(y.return,c,a),E.lanes|=c;break}O=O.next}}else if(y.tag===10)w=y.type===a.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(t(341));w.lanes|=c,E=w.alternate,E!==null&&(E.lanes|=c),Mc(w,c,a),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===a){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}ht(s,a,m.children,c),a=a.child}return a;case 9:return m=a.type,h=a.pendingProps.children,fs(a,c),m=zt(m),h=h(m),a.flags|=1,ht(s,a,h,c),a.child;case 14:return h=a.type,m=Zt(h,a.pendingProps),m=Zt(h.type,m),bp(s,a,h,m,c);case 15:return wp(s,a,a.type,a.pendingProps,c);case 17:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:Zt(h,m),uo(s,a),a.tag=1,yt(h)?(s=!0,qa(a)):s=!1,fs(a,c),hp(a,h,m),Zc(a,h,m,c),ru(null,a,h,!0,s,c);case 19:return jp(s,a,c);case 22:return _p(s,a,c)}throw Error(t(156,a.tag))};function Zp(s,a){return Oh(s,a)}function V0(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(s,a,c,h){return new V0(s,a,c,h)}function ku(s){return s=s.prototype,!(!s||!s.isReactComponent)}function W0(s){if(typeof s=="function")return ku(s)?1:0;if(s!=null){if(s=s.$$typeof,s===fe)return 11;if(s===ve)return 14}return 2}function ir(s,a){var c=s.alternate;return c===null?(c=Ut(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function _o(s,a,c,h,m,y){var w=2;if(h=s,typeof s=="function")ku(s)&&(w=1);else if(typeof s=="string")w=5;else e:switch(s){case M:return Or(c.children,m,y,a);case B:w=8,m|=8;break;case G:return s=Ut(12,c,a,m|2),s.elementType=G,s.lanes=y,s;case ke:return s=Ut(13,c,a,m),s.elementType=ke,s.lanes=y,s;case Le:return s=Ut(19,c,a,m),s.elementType=Le,s.lanes=y,s;case ye:return ko(c,m,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case le:w=10;break e;case he:w=9;break e;case fe:w=11;break e;case ve:w=14;break e;case ne:w=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Ut(w,c,a,m),a.elementType=s,a.type=h,a.lanes=y,a}function Or(s,a,c,h){return s=Ut(7,s,h,a),s.lanes=c,s}function ko(s,a,c,h){return s=Ut(22,s,h,a),s.elementType=ye,s.lanes=c,s.stateNode={isHidden:!1},s}function Su(s,a,c){return s=Ut(6,s,null,a),s.lanes=c,s}function Cu(s,a,c){return a=Ut(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function H0(s,a,c,h,m){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xl(0),this.expirationTimes=Xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xl(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Eu(s,a,c,h,m,y,w,E,O){return s=new H0(s,a,c,E,O),a===1?(a=1,y===!0&&(a|=8)):a=0,y=Ut(3,null,null,a),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fc(y),s}function q0(s,a,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:h==null?null:""+h,children:s,containerInfo:a,implementation:c}}function em(s){if(!s)return Jn;s=s._reactInternals;e:{if(xr(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(yt(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(yt(c))return Pf(s,c,a)}return a}function tm(s,a,c,h,m,y,w,E,O){return s=Eu(c,h,!0,s,m,y,w,E,O),s.context=em(null),c=s.current,h=ft(),m=rr(c),y=Rn(h,m),y.callback=a??null,Zn(c,y,m),s.current.lanes=m,ei(s,m,h),bt(s,h),s}function So(s,a,c,h){var m=a.current,y=ft(),w=rr(m);return c=em(c),a.context===null?a.context=c:a.pendingContext=c,a=Rn(y,w),a.payload={element:s},h=h===void 0?null:h,h!==null&&(a.callback=h),s=Zn(m,a,w),s!==null&&(nn(s,m,w,y),eo(s,m,w)),w}function Co(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function nm(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Ru(s,a){nm(s,a),(s=s.alternate)&&nm(s,a)}function K0(){return null}var rm=typeof reportError=="function"?reportError:function(s){console.error(s)};function Pu(s){this._internalRoot=s}Eo.prototype.render=Pu.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));So(s,a,null,null)},Eo.prototype.unmount=Pu.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Pr(function(){So(null,s,null,null)}),a[_n]=null}};function Eo(s){this._internalRoot=s}Eo.prototype.unstable_scheduleHydration=function(s){if(s){var a=Fh();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Hn.length&&a!==0&&a<Hn[c].priority;c++);Hn.splice(c,0,s),c===0&&Bh(s)}};function ju(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ro(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function sm(){}function G0(s,a,c,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var D=Co(w);y.call(D)}}var w=tm(a,h,s,0,null,!1,!1,"",sm);return s._reactRootContainer=w,s[_n]=w.current,pi(s.nodeType===8?s.parentNode:s),Pr(),w}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var E=h;h=function(){var D=Co(O);E.call(D)}}var O=Eu(s,0,!1,null,null,!1,!1,"",sm);return s._reactRootContainer=O,s[_n]=O.current,pi(s.nodeType===8?s.parentNode:s),Pr(function(){So(a,O,c,h)}),O}function Po(s,a,c,h,m){var y=c._reactRootContainer;if(y){var w=y;if(typeof m=="function"){var E=m;m=function(){var O=Co(w);E.call(O)}}So(a,w,s,m)}else w=G0(c,a,s,m,h);return Co(w)}Mh=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=Zs(a.pendingLanes);c!==0&&(Zl(a,c|1),bt(a,He()),(we&6)===0&&(vs=He()+500,Qn()))}break;case 13:Pr(function(){var h=En(s,1);if(h!==null){var m=ft();nn(h,s,1,m)}}),Ru(s,1)}},ec=function(s){if(s.tag===13){var a=En(s,134217728);if(a!==null){var c=ft();nn(a,s,134217728,c)}Ru(s,134217728)}},zh=function(s){if(s.tag===13){var a=rr(s),c=En(s,a);if(c!==null){var h=ft();nn(c,s,a,h)}Ru(s,a)}},Fh=function(){return Ce},$h=function(s,a){var c=Ce;try{return Ce=s,a()}finally{Ce=c}},ql=function(s,a,c){switch(a){case"input":if(zl(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var m=Wa(h);if(!m)throw Error(t(90));uh(h),zl(h,m)}}}break;case"textarea":mh(s,c);break;case"select":a=c.value,a!=null&&Yr(s,!!c.multiple,a,!1)}},Sh=bu,Ch=Pr;var Y0={usingClientEntryPoint:!1,Events:[yi,is,Wa,_h,kh,bu]},Oi={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J0={bundleType:Oi.bundleType,version:Oi.version,rendererPackageName:Oi.rendererPackageName,rendererConfig:Oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=jh(s),s===null?null:s.stateNode},findFiberByHostInstance:Oi.findFiberByHostInstance||K0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jo.isDisabled&&jo.supportsFiber)try{Ca=jo.inject(J0),cn=jo}catch{}}return wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y0,wt.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ju(a))throw Error(t(200));return q0(s,a,null,c)},wt.createRoot=function(s,a){if(!ju(s))throw Error(t(299));var c=!1,h="",m=rm;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=Eu(s,1,!1,null,null,c,!1,h,m),s[_n]=a.current,pi(s.nodeType===8?s.parentNode:s),new Pu(a)},wt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=jh(a),s=s===null?null:s.stateNode,s},wt.flushSync=function(s){return Pr(s)},wt.hydrate=function(s,a,c){if(!Ro(a))throw Error(t(200));return Po(null,s,a,!0,c)},wt.hydrateRoot=function(s,a,c){if(!ju(s))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,m=!1,y="",w=rm;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(w=c.onRecoverableError)),a=tm(a,null,s,1,c??null,m,!1,y,w),s[_n]=a.current,pi(s),h)for(s=0;s<h.length;s++)c=h[s],m=c._getVersion,m=m(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,m]:a.mutableSourceEagerHydrationData.push(c,m);return new Eo(a)},wt.render=function(s,a,c){if(!Ro(a))throw Error(t(200));return Po(null,s,a,!1,c)},wt.unmountComponentAtNode=function(s){if(!Ro(s))throw Error(t(40));return s._reactRootContainer?(Pr(function(){Po(null,null,s,!1,function(){s._reactRootContainer=null,s[_n]=null})}),!0):!1},wt.unstable_batchedUpdates=bu,wt.unstable_renderSubtreeIntoContainer=function(s,a,c,h){if(!Ro(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Po(s,a,c,!1,h)},wt.version="18.3.1-next-f1338f8080-20240426",wt}var hm;function ab(){if(hm)return Au.exports;hm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Au.exports=ib(),Au.exports}var fm;function ob(){if(fm)return To;fm=1;var n=ab();return To.createRoot=n.createRoot,To.hydrateRoot=n.hydrateRoot,To}var lb=ob();const cb=fy(lb);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pm="popstate";function ub(n={}){function e(r,i){let{pathname:o,search:l,hash:u}=r.location;return id("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:ta(i)}return hb(e,t,null,n)}function Me(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Kt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function db(){return Math.random().toString(36).substring(2,10)}function mm(n,e){return{usr:n.state,key:n.key,idx:e}}function id(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Vs(e):e,state:t,key:e&&e.key||r||db()}}function ta({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Vs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function hb(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function v(){u="POP";let S=p(),R=S==null?null:S-f;f=S,d&&d({action:u,location:k.location,delta:R})}function x(S,R){u="PUSH";let P=id(k.location,S,R);f=p()+1;let j=mm(P,f),I=k.createHref(P);try{l.pushState(j,"",I)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(I)}o&&d&&d({action:u,location:k.location,delta:1})}function b(S,R){u="REPLACE";let P=id(k.location,S,R);f=p();let j=mm(P,f),I=k.createHref(P);l.replaceState(j,"",I),o&&d&&d({action:u,location:k.location,delta:0})}function _(S){return fb(S)}let k={get action(){return u},get location(){return n(i,l)},listen(S){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(pm,v),d=S,()=>{i.removeEventListener(pm,v),d=null}},createHref(S){return e(i,S)},createURL:_,encodeLocation(S){let R=_(S);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:x,replace:b,go(S){return l.go(S)}};return k}function fb(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Me(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:ta(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function py(n,e,t="/"){return pb(n,e,t,!1)}function pb(n,e,t,r){let i=typeof e=="string"?Vs(e):e,o=$n(i.pathname||"/",t);if(o==null)return null;let l=my(n);mb(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=Eb(o);u=Sb(l[d],f,r)}return u}function my(n,e=[],t=[],r="",i=!1){let o=(l,u,d=i,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;Me(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let v=Fn([r,p.relativePath]),x=t.concat(p);l.children&&l.children.length>0&&(Me(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),my(l.children,e,x,v,d)),!(l.path==null&&!l.index)&&e.push({path:v,score:_b(v,l.index),routesMeta:x})};return n.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,u);else for(let f of gy(l.path))o(l,u,!0,f)}),e}function gy(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=gy(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function mb(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:kb(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var gb=/^:[\w-]+$/,yb=3,vb=2,xb=1,bb=10,wb=-2,gm=n=>n==="*";function _b(n,e){let t=n.split("/"),r=t.length;return t.some(gm)&&(r+=wb),e&&(r+=vb),t.filter(i=>!gm(i)).reduce((i,o)=>i+(gb.test(o)?yb:o===""?xb:bb),r)}function kb(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Sb(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",v=ll({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),x=d.route;if(!v&&f&&t&&!r[r.length-1].route.index&&(v=ll({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:Fn([o,v.pathname]),pathnameBase:Tb(Fn([o,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(o=Fn([o,v.pathnameBase]))}return l}function ll(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Cb(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:v},x)=>{if(p==="*"){let _=u[x]||"";l=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const b=u[x];return v&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function Cb(n,e=!1,t=!0){Kt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Eb(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function $n(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var Rb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Pb(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Vs(n):n,o;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?o=ym(t.substring(1),"/"):o=ym(t,e)):o=e,{pathname:o,search:Ob(r),hash:Ab(i)}}function ym(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Iu(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Dd(n){let e=jb(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Md(n,e,t,r=!1){let i;typeof n=="string"?i=Vs(n):(i={...n},Me(!i.pathname||!i.pathname.includes("?"),Iu("?","pathname","search",i)),Me(!i.pathname||!i.pathname.includes("#"),Iu("#","pathname","hash",i)),Me(!i.search||!i.search.includes("#"),Iu("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),v-=1;i.pathname=x.join("/")}u=v>=0?e[v]:"/"}let d=Pb(i,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Fn=n=>n.join("/").replace(/\/\/+/g,"/"),Tb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Ob=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Ab=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Nb=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Lb(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Ib(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var yy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function vy(n,e){let t=n;if(typeof t!="string"||!Rb.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,i=!1;if(yy)try{let o=new URL(window.location.href),l=t.startsWith("//")?new URL(o.protocol+t):new URL(t),u=$n(l.pathname,e);l.origin===o.origin&&u!=null?t=u+l.search+l.hash:i=!0}catch{Kt(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xy=["POST","PUT","PATCH","DELETE"];new Set(xy);var Db=["GET",...xy];new Set(Db);var Ws=T.createContext(null);Ws.displayName="DataRouter";var Sl=T.createContext(null);Sl.displayName="DataRouterState";var Mb=T.createContext(!1),by=T.createContext({isTransitioning:!1});by.displayName="ViewTransition";var zb=T.createContext(new Map);zb.displayName="Fetchers";var Fb=T.createContext(null);Fb.displayName="Await";var It=T.createContext(null);It.displayName="Navigation";var pa=T.createContext(null);pa.displayName="Location";var bn=T.createContext({outlet:null,matches:[],isDataRoute:!1});bn.displayName="Route";var zd=T.createContext(null);zd.displayName="RouteError";var wy="REACT_ROUTER_ERROR",$b="REDIRECT",Ub="ROUTE_ERROR_RESPONSE";function Bb(n){if(n.startsWith(`${wy}:${$b}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Vb(n){if(n.startsWith(`${wy}:${Ub}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Nb(e.status,e.statusText,e.data)}catch{}}function Wb(n,{relative:e}={}){Me(Hs(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=T.useContext(It),{hash:i,pathname:o,search:l}=ma(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:Fn([t,o])),r.createHref({pathname:u,search:l,hash:i})}function Hs(){return T.useContext(pa)!=null}function Gt(){return Me(Hs(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(pa).location}var _y="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ky(n){T.useContext(It).static||T.useLayoutEffect(n)}function Yt(){let{isDataRoute:n}=T.useContext(bn);return n?rw():Hb()}function Hb(){Me(Hs(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(Ws),{basename:e,navigator:t}=T.useContext(It),{matches:r}=T.useContext(bn),{pathname:i}=Gt(),o=JSON.stringify(Dd(r)),l=T.useRef(!1);return ky(()=>{l.current=!0}),T.useCallback((d,f={})=>{if(Kt(l.current,_y),!l.current)return;if(typeof d=="number"){t.go(d);return}let p=Md(d,JSON.parse(o),i,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Fn([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,o,i,n])}T.createContext(null);function ma(n,{relative:e}={}){let{matches:t}=T.useContext(bn),{pathname:r}=Gt(),i=JSON.stringify(Dd(t));return T.useMemo(()=>Md(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function qb(n,e){return Sy(n,e)}function Sy(n,e,t,r,i){var P;Me(Hs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=T.useContext(It),{matches:l}=T.useContext(bn),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",v=u&&u.route;{let j=v&&v.path||"";Ey(f,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let x=Gt(),b;if(e){let j=typeof e=="string"?Vs(e):e;Me(p==="/"||((P=j.pathname)==null?void 0:P.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),b=j}else b=x;let _=b.pathname||"/",k=_;if(p!=="/"){let j=p.replace(/^\//,"").split("/");k="/"+_.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=py(n,{pathname:k});Kt(v||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Kt(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Qb(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Fn([p,o.encodeLocation?o.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:Fn([p,o.encodeLocation?o.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),l,t,r,i);return e&&R?T.createElement(pa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},R):R}function Kb(){let n=nw(),e=Lb(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:o},"ErrorBoundary")," or"," ",T.createElement("code",{style:o},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:i},t):null,l)}var Gb=T.createElement(Kb,null),Cy=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=Vb(n.digest);t&&(n=t)}let e=n!==void 0?T.createElement(bn.Provider,{value:this.props.routeContext},T.createElement(zd.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?T.createElement(Yb,{error:n},e):e}};Cy.contextType=Mb;var Du=new WeakMap;function Yb({children:n,error:e}){let{basename:t}=T.useContext(It);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Bb(e.digest);if(r){let i=Du.get(e);if(i)throw i;let o=vy(r.location,t);if(yy&&!Du.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw Du.set(e,l),l}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function Jb({routeContext:n,match:e,children:t}){let r=T.useContext(Ws);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(bn.Provider,{value:n},t)}function Qb(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(v=>v.route.id&&(l==null?void 0:l[v.route.id])!==void 0);Me(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let v=o[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=p),v.route.id){let{loaderData:x,errors:b}=t,_=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!b||b[v.route.id]===void 0);if(v.route.lazy||_){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=t&&r?(p,v)=>{var x,b;r(p,{location:t.location,params:((b=(x=t.matches)==null?void 0:x[0])==null?void 0:b.params)??{},unstable_pattern:Ib(t.matches),errorInfo:v})}:void 0;return o.reduceRight((p,v,x)=>{let b,_=!1,k=null,S=null;t&&(b=l&&v.route.id?l[v.route.id]:void 0,k=v.route.errorElement||Gb,u&&(d<0&&x===0?(Ey("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):d===x&&(_=!0,S=v.route.hydrateFallbackElement||null)));let R=e.concat(o.slice(0,x+1)),P=()=>{let j;return b?j=k:_?j=S:v.route.Component?j=T.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=p,T.createElement(Jb,{match:v,routeContext:{outlet:p,matches:R,isDataRoute:t!=null},children:j})};return t&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?T.createElement(Cy,{location:t.location,revalidation:t.revalidation,component:k,error:b,children:P(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:f}):P()},null)}function Fd(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xb(n){let e=T.useContext(Ws);return Me(e,Fd(n)),e}function Zb(n){let e=T.useContext(Sl);return Me(e,Fd(n)),e}function ew(n){let e=T.useContext(bn);return Me(e,Fd(n)),e}function $d(n){let e=ew(n),t=e.matches[e.matches.length-1];return Me(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function tw(){return $d("useRouteId")}function nw(){var r;let n=T.useContext(zd),e=Zb("useRouteError"),t=$d("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function rw(){let{router:n}=Xb("useNavigate"),e=$d("useNavigate"),t=T.useRef(!1);return ky(()=>{t.current=!0}),T.useCallback(async(i,o={})=>{Kt(t.current,_y),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var vm={};function Ey(n,e,t){!e&&!vm[n]&&(vm[n]=!0,Kt(!1,t))}T.memo(sw);function sw({routes:n,future:e,state:t,onError:r}){return Sy(n,void 0,t,r,e)}function Kr({to:n,replace:e,state:t,relative:r}){Me(Hs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(It);Kt(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=T.useContext(bn),{pathname:l}=Gt(),u=Yt(),d=Md(n,Dd(o),l,r==="path"),f=JSON.stringify(d);return T.useEffect(()=>{u(JSON.parse(f),{replace:e,state:t,relative:r})},[u,f,r,e,t]),null}function rn(n){Me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iw({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:l}){Me(!Hs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:u,navigator:i,static:o,unstable_useTransitions:l,future:{}}),[u,i,o,l]);typeof t=="string"&&(t=Vs(t));let{pathname:f="/",search:p="",hash:v="",state:x=null,key:b="default"}=t,_=T.useMemo(()=>{let k=$n(f,u);return k==null?null:{location:{pathname:k,search:p,hash:v,state:x,key:b},navigationType:r}},[u,f,p,v,x,b,r]);return Kt(_!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:T.createElement(It.Provider,{value:d},T.createElement(pa.Provider,{children:e,value:_}))}function aw({children:n,location:e}){return qb(ad(n),e)}function ad(n,e=[]){let t=[];return T.Children.forEach(n,(r,i)=>{if(!T.isValidElement(r))return;let o=[...e,i];if(r.type===T.Fragment){t.push.apply(t,ad(r.props.children,o));return}Me(r.type===rn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Me(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=ad(r.props.children,o)),t.push(l)}),t}var tl="get",nl="application/x-www-form-urlencoded";function Cl(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function ow(n){return Cl(n)&&n.tagName.toLowerCase()==="button"}function lw(n){return Cl(n)&&n.tagName.toLowerCase()==="form"}function cw(n){return Cl(n)&&n.tagName.toLowerCase()==="input"}function uw(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function dw(n,e){return n.button===0&&(!e||e==="_self")&&!uw(n)}function od(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function hw(n,e){let t=od(n);return e&&e.forEach((r,i)=>{t.has(i)||e.getAll(i).forEach(o=>{t.append(i,o)})}),t}var Oo=null;function fw(){if(Oo===null)try{new FormData(document.createElement("form"),0),Oo=!1}catch{Oo=!0}return Oo}var pw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mu(n){return n!=null&&!pw.has(n)?(Kt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nl}"`),null):n}function mw(n,e){let t,r,i,o,l;if(lw(n)){let u=n.getAttribute("action");r=u?$n(u,e):null,t=n.getAttribute("method")||tl,i=Mu(n.getAttribute("enctype"))||nl,o=new FormData(n)}else if(ow(n)||cw(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?$n(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||tl,i=Mu(n.getAttribute("formenctype"))||Mu(u.getAttribute("enctype"))||nl,o=new FormData(u,n),!fw()){let{name:f,type:p,value:v}=n;if(p==="image"){let x=f?`${f}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else f&&o.append(f,v)}}else{if(Cl(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=tl,r=null,i=nl,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ud(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function gw(n,e,t,r){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&$n(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function yw(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vw(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function xw(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await yw(o,t);return l.links?l.links():[]}return[]}));return kw(r.flat(1).filter(vw).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function xm(n,e,t,r,i,o){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,u=(d,f)=>{var p;return t[f].pathname!==d.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?e.filter((d,f)=>{var v;let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function bw(n,e,{includeHydrateFallback:t}={}){return ww(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function ww(n){return[...new Set(n)]}function _w(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function kw(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(_w(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function Ry(){let n=T.useContext(Ws);return Ud(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Sw(){let n=T.useContext(Sl);return Ud(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Bd=T.createContext(void 0);Bd.displayName="FrameworkContext";function Py(){let n=T.useContext(Bd);return Ud(n,"You must render this element inside a <HydratedRouter> element"),n}function Cw(n,e){let t=T.useContext(Bd),[r,i]=T.useState(!1),[o,l]=T.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:v}=e,x=T.useRef(null);T.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let k=R=>{R.forEach(P=>{l(P.isIntersecting)})},S=new IntersectionObserver(k,{threshold:.5});return x.current&&S.observe(x.current),()=>{S.disconnect()}}},[n]),T.useEffect(()=>{if(r){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[r]);let b=()=>{i(!0)},_=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,x,{}]:[o,x,{onFocus:Ni(u,b),onBlur:Ni(d,_),onMouseEnter:Ni(f,b),onMouseLeave:Ni(p,_),onTouchStart:Ni(v,b)}]:[!1,x,{}]}function Ni(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Ew({page:n,...e}){let{router:t}=Ry(),r=T.useMemo(()=>py(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?T.createElement(Pw,{page:n,matches:r,...e}):null}function Rw(n){let{manifest:e,routeModules:t}=Py(),[r,i]=T.useState([]);return T.useEffect(()=>{let o=!1;return xw(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function Pw({page:n,matches:e,...t}){let r=Gt(),{future:i,manifest:o,routeModules:l}=Py(),{basename:u}=Ry(),{loaderData:d,matches:f}=Sw(),p=T.useMemo(()=>xm(n,e,f,o,r,"data"),[n,e,f,o,r]),v=T.useMemo(()=>xm(n,e,f,o,r,"assets"),[n,e,f,o,r]),x=T.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let k=new Set,S=!1;if(e.forEach(P=>{var I;let j=o.routes[P.route.id];!j||!j.hasLoader||(!p.some(F=>F.route.id===P.route.id)&&P.route.id in d&&((I=l[P.route.id])!=null&&I.shouldRevalidate)||j.hasClientLoader?S=!0:k.add(P.route.id))}),k.size===0)return[];let R=gw(n,u,i.unstable_trailingSlashAwareDataRequests,"data");return S&&k.size>0&&R.searchParams.set("_routes",e.filter(P=>k.has(P.route.id)).map(P=>P.route.id).join(",")),[R.pathname+R.search]},[u,i.unstable_trailingSlashAwareDataRequests,d,r,o,p,e,n,l]),b=T.useMemo(()=>bw(v,o),[v,o]),_=Rw(v);return T.createElement(T.Fragment,null,x.map(k=>T.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),b.map(k=>T.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),_.map(({key:k,link:S})=>T.createElement("link",{key:k,nonce:t.nonce,...S,crossOrigin:S.crossOrigin??t.crossOrigin})))}function jw(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Tw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tw&&(window.__reactRouterVersion="7.13.0")}catch{}function Ow({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=T.useRef();i.current==null&&(i.current=ub({window:r,v5Compat:!0}));let o=i.current,[l,u]=T.useState({action:o.action,location:o.location}),d=T.useCallback(f=>{t===!1?u(f):T.startTransition(()=>u(f))},[t]);return T.useLayoutEffect(()=>o.listen(d),[o,d]),T.createElement(iw,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:t})}var jy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xn=T.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:v,unstable_defaultShouldRevalidate:x,...b},_){let{basename:k,unstable_useTransitions:S}=T.useContext(It),R=typeof f=="string"&&jy.test(f),P=vy(f,k);f=P.to;let j=Wb(f,{relative:i}),[I,F,$]=Cw(r,b),M=Lw(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:i,viewTransition:v,unstable_defaultShouldRevalidate:x,unstable_useTransitions:S});function B(le){e&&e(le),le.defaultPrevented||M(le)}let G=T.createElement("a",{...b,...$,href:P.absoluteURL||j,onClick:P.isExternal||o?e:B,ref:jw(_,F),target:d,"data-discover":!R&&t==="render"?"true":void 0});return I&&!R?T.createElement(T.Fragment,null,G,T.createElement(Ew,{page:j})):G});xn.displayName="Link";var Ui=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:d,...f},p){let v=ma(l,{relative:f.relative}),x=Gt(),b=T.useContext(Sl),{navigator:_,basename:k}=T.useContext(It),S=b!=null&&Fw(v)&&u===!0,R=_.encodeLocation?_.encodeLocation(v).pathname:v.pathname,P=x.pathname,j=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(P=P.toLowerCase(),j=j?j.toLowerCase():null,R=R.toLowerCase()),j&&k&&(j=$n(j,k)||j);const I=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let F=P===R||!i&&P.startsWith(R)&&P.charAt(I)==="/",$=j!=null&&(j===R||!i&&j.startsWith(R)&&j.charAt(R.length)==="/"),M={isActive:F,isPending:$,isTransitioning:S},B=F?e:void 0,G;typeof r=="function"?G=r(M):G=[r,F?"active":null,$?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let le=typeof o=="function"?o(M):o;return T.createElement(xn,{...f,"aria-current":B,className:G,ref:p,style:le,to:l,viewTransition:u},typeof d=="function"?d(M):d)});Ui.displayName="NavLink";var Aw=T.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=tl,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:v,unstable_defaultShouldRevalidate:x,...b},_)=>{let{unstable_useTransitions:k}=T.useContext(It),S=Mw(),R=zw(u,{relative:f}),P=l.toLowerCase()==="get"?"get":"post",j=typeof u=="string"&&jy.test(u),I=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let $=F.nativeEvent.submitter,M=($==null?void 0:$.getAttribute("formmethod"))||l,B=()=>S($||F.currentTarget,{fetcherKey:e,method:M,navigate:t,replace:i,state:o,relative:f,preventScrollReset:p,viewTransition:v,unstable_defaultShouldRevalidate:x});k&&t!==!1?T.startTransition(()=>B()):B()};return T.createElement("form",{ref:_,method:P,action:R,onSubmit:r?d:I,...b,"data-discover":!j&&n==="render"?"true":void 0})});Aw.displayName="Form";function Nw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ty(n){let e=T.useContext(Ws);return Me(e,Nw(n)),e}function Lw(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=Yt(),p=Gt(),v=ma(n,{relative:o});return T.useCallback(x=>{if(dw(x,e)){x.preventDefault();let b=t!==void 0?t:ta(p)===ta(v),_=()=>f(n,{replace:b,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u});d?T.startTransition(()=>_()):_()}},[p,f,v,t,r,e,n,i,o,l,u,d])}function Oy(n){Kt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=T.useRef(od(n)),t=T.useRef(!1),r=Gt(),i=T.useMemo(()=>hw(r.search,t.current?null:e.current),[r.search]),o=Yt(),l=T.useCallback((u,d)=>{const f=od(typeof u=="function"?u(new URLSearchParams(i)):u);t.current=!0,o("?"+f,d)},[o,i]);return[i,l]}var Iw=0,Dw=()=>`__${String(++Iw)}__`;function Mw(){let{router:n}=Ty("useSubmit"),{basename:e}=T.useContext(It),t=tw(),r=n.fetch,i=n.navigate;return T.useCallback(async(o,l={})=>{let{action:u,method:d,encType:f,formData:p,body:v}=mw(o,e);if(l.navigate===!1){let x=l.fetcherKey||Dw();await r(x,t,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:v,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await i(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:v,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,t])}function zw(n,{relative:e}={}){let{basename:t}=T.useContext(It),r=T.useContext(bn);Me(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...ma(n||".",{relative:e})},l=Gt();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(v=>v).forEach(v=>u.append("index",v));let p=u.toString();o.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Fn([t,o.pathname])),ta(o)}function Fw(n,{relative:e}={}){let t=T.useContext(by);Me(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ty("useViewTransitionState"),i=ma(n,{relative:e});if(!t.isTransitioning)return!1;let o=$n(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=$n(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ll(i.pathname,l)!=null||ll(i.pathname,o)!=null}function El(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function $w(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(v){l(v)}}function d(p){try{f(r.throw(p))}catch(v){l(v)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(n,e||[])).next())})}const Uw=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class Vd extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class Bw extends Vd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class bm extends Vd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wm extends Vd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ld;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(ld||(ld={}));class Vw{constructor(e,{headers:t={},customFetch:r,region:i=ld.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=Uw(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return $w(this,arguments,void 0,function*(t,r={}){var i;let o,l;try{const{headers:u,method:d,body:f,signal:p,timeout:v}=r;let x={},{region:b}=r;b||(b=this.region);const _=new URL(`${this.url}/${t}`);b&&b!=="any"&&(x["x-region"]=b,_.searchParams.set("forceFunctionRegion",b));let k;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",k=f):typeof f=="string"?(x["Content-Type"]="text/plain",k=f):typeof FormData<"u"&&f instanceof FormData?k=f:(x["Content-Type"]="application/json",k=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?k=JSON.stringify(f):k=f;let S=p;v&&(l=new AbortController,o=setTimeout(()=>l.abort(),v),p?(S=l.signal,p.addEventListener("abort",()=>l.abort())):S=l.signal);const R=yield this.fetch(_.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),u),body:k,signal:S}).catch(F=>{throw new Bw(F)}),P=R.headers.get("x-relay-error");if(P&&P==="true")throw new bm(R);if(!R.ok)throw new wm(R);let j=((i=R.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),I;return j==="application/json"?I=yield R.json():j==="application/octet-stream"||j==="application/pdf"?I=yield R.blob():j==="text/event-stream"?I=R:j==="multipart/form-data"?I=yield R.formData():I=yield R.text(),{data:I,error:null,response:R}}catch(u){return{data:null,error:u,response:u instanceof wm||u instanceof bm?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var Ww=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},Hw=class{constructor(n){var e,t,r;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(t=n.isMaybeSingle)!==null&&t!==void 0?t:!1,this.urlLengthLimit=(r=n.urlLengthLimit)!==null&&r!==void 0?r:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let l=null,u=null,d=null,f=o.status,p=o.statusText;if(o.ok){var v,x;if(t.method!=="HEAD"){var b;const R=await o.text();R===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((b=t.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?u=R:u=JSON.parse(R))}const k=(v=t.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),S=(x=o.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");k&&S&&S.length>1&&(d=parseInt(S[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var _;const k=await o.text();try{l=JSON.parse(k),Array.isArray(l)&&o.status===404&&(u=[],l=null,f=200,p="OK")}catch{o.status===404&&k===""?(f=204,p="No Content"):l={message:k}}if(l&&t.isMaybeSingle&&(!(l==null||(_=l.details)===null||_===void 0)&&_.includes("0 rows"))&&(l=null,f=200,p="OK"),l&&t.shouldThrowOnError)throw new Ww(l)}return{error:l,data:u,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(o=>{var l;let u="",d="",f="";const p=o==null?void 0:o.cause;if(p){var v,x,b,_;const R=(v=p==null?void 0:p.message)!==null&&v!==void 0?v:"",P=(x=p==null?void 0:p.code)!==null&&x!==void 0?x:"";u=`${(b=o==null?void 0:o.name)!==null&&b!==void 0?b:"FetchError"}: ${o==null?void 0:o.message}`,u+=`

Caused by: ${(_=p==null?void 0:p.name)!==null&&_!==void 0?_:"Error"}: ${R}`,P&&(u+=` (${P})`),p!=null&&p.stack&&(u+=`
${p.stack}`)}else{var k;u=(k=o==null?void 0:o.stack)!==null&&k!==void 0?k:""}const S=this.url.toString().length;return(o==null?void 0:o.name)==="AbortError"||(o==null?void 0:o.code)==="ABORT_ERR"?(f="",d="Request was aborted (timeout or manual cancellation)",S>this.urlLengthLimit&&(d+=`. Note: Your request URL is ${S} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((p==null?void 0:p.name)==="HeadersOverflowError"||(p==null?void 0:p.code)==="UND_ERR_HEADERS_OVERFLOW")&&(f="",d="HTTP headers exceeded server limits (typically 16KB)",S>this.urlLengthLimit&&(d+=`. Your request URL is ${S} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:u,hint:d,code:f},data:null,count:null,status:0,statusText:""}})),i.then(n,e)}returns(){return this}overrideTypes(){return this}},qw=class extends Hw{select(n){let e=!1;const t=(n??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:t,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${n}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:t=e}={}){const r=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${n}`),this}range(n,e,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this.url.searchParams.set(o,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:t=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var l;const u=[n?"analyze":null,e?"verbose":null,t?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const _m=new RegExp("[,()]");var Ts=class extends qw{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const t=Array.from(new Set(e)).map(r=>typeof r=="string"&&_m.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`in.(${t})`),this}notIn(n,e){const t=Array.from(new Set(e)).map(r=>typeof r=="string"&&_m.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`not.in.(${t})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:t,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=t===void 0?"":`(${t})`;return this.url.searchParams.append(n,`${i}fts${o}.${e}`),this}match(n){return Object.entries(n).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(n,e,t){return this.url.searchParams.append(n,`not.${e}.${t}`),this}or(n,{foreignTable:e,referencedTable:t=e}={}){const r=t?`${t}.or`:"or";return this.url.searchParams.append(r,`(${n})`),this}filter(n,e,t){return this.url.searchParams.append(n,`${e}.${t}`),this}},Kw=class{constructor(n,{headers:e={},schema:t,fetch:r,urlLengthLimit:i=8e3}){this.url=n,this.headers=new Headers(e),this.schema=t,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,e){const{head:t=!1,count:r}=e??{},i=t?"HEAD":"GET";let o=!1;const l=(n??"*").split("").map(f=>/\s/.test(f)&&!o?"":(f==='"'&&(o=!o),f)).join(""),{url:u,headers:d}=this.cloneRequestState();return u.searchParams.set("select",l),r&&d.append("Prefer",`count=${r}`),new Ts({method:i,url:u,headers:d,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:e,defaultToNull:t=!0}={}){var r;const i="POST",{url:o,headers:l}=this.cloneRequestState();if(e&&l.append("Prefer",`count=${e}`),t||l.append("Prefer","missing=default"),Array.isArray(n)){const u=n.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);o.searchParams.set("columns",d.join(","))}}return new Ts({method:i,url:o,headers:l,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:e,ignoreDuplicates:t=!1,count:r,defaultToNull:i=!0}={}){var o;const l="POST",{url:u,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&u.searchParams.set("on_conflict",e),r&&d.append("Prefer",`count=${r}`),i||d.append("Prefer","missing=default"),Array.isArray(n)){const f=n.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(f.length>0){const p=[...new Set(f)].map(v=>`"${v}"`);u.searchParams.set("columns",p.join(","))}}return new Ts({method:l,url:u,headers:d,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:e}={}){var t;const r="PATCH",{url:i,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new Ts({method:r,url:i,headers:o,schema:this.schema,body:n,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var e;const t="DELETE",{url:r,headers:i}=this.cloneRequestState();return n&&i.append("Prefer",`count=${n}`),new Ts({method:t,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function na(n){"@babel/helpers - typeof";return na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},na(n)}function Gw(n,e){if(na(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(na(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Yw(n){var e=Gw(n,"string");return na(e)=="symbol"?e:e+""}function Jw(n,e,t){return(e=Yw(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function km(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ao(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?km(Object(t),!0).forEach(function(r){Jw(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):km(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Qw=class Ay{constructor(e,{headers:t={},schema:r,fetch:i,timeout:o,urlLengthLimit:l=8e3}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.urlLengthLimit=l;const u=i??globalThis.fetch;o!==void 0&&o>0?this.fetch=(d,f)=>{const p=new AbortController,v=setTimeout(()=>p.abort(),o),x=f==null?void 0:f.signal;if(x){if(x.aborted)return clearTimeout(v),u(d,f);const b=()=>{clearTimeout(v),p.abort()};return x.addEventListener("abort",b,{once:!0}),u(d,Ao(Ao({},f),{},{signal:p.signal})).finally(()=>{clearTimeout(v),x.removeEventListener("abort",b)})}return u(d,Ao(Ao({},f),{},{signal:p.signal})).finally(()=>clearTimeout(v))}:this.fetch=u}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Kw(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new Ay(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,t={},{head:r=!1,get:i=!1,count:o}={}){var l;let u;const d=new URL(`${this.url}/rpc/${e}`);let f;const p=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(p)),v=r&&Object.values(t).some(p);v?(u="POST",f=t):r||i?(u=r?"HEAD":"GET",Object.entries(t).filter(([b,_])=>_!==void 0).map(([b,_])=>[b,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([b,_])=>{d.searchParams.append(b,_)})):(u="POST",f=t);const x=new Headers(this.headers);return v?x.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&x.set("Prefer",`count=${o}`),new Ts({method:u,url:d,headers:x,schema:this.schemaName,body:f,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class Xw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const r=t.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Zw="2.95.3",e_=`realtime-js/${Zw}`,t_="1.0.0",Ny="2.0.0",Sm=Ny,cd=1e4,n_=1e3,r_=100;var lr;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(lr||(lr={}));var Qe;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Qe||(Qe={}));var on;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(on||(on={}));var ud;(function(n){n.websocket="websocket"})(ud||(ud={}));var Ur;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ur||(Ur={}));class s_{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const i=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var t,r;const i=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,t,r){var i,o;const l=e.topic,u=(i=e.ref)!==null&&i!==void 0?i:"",d=(o=e.join_ref)!==null&&o!==void 0?o:"",f=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+f.length+v.length,b=new ArrayBuffer(this.HEADER_LENGTH+x);let _=new DataView(b),k=0;_.setUint8(k++,this.KINDS.userBroadcastPush),_.setUint8(k++,d.length),_.setUint8(k++,u.length),_.setUint8(k++,l.length),_.setUint8(k++,f.length),_.setUint8(k++,v.length),_.setUint8(k++,t),Array.from(d,R=>_.setUint8(k++,R.charCodeAt(0))),Array.from(u,R=>_.setUint8(k++,R.charCodeAt(0))),Array.from(l,R=>_.setUint8(k++,R.charCodeAt(0))),Array.from(f,R=>_.setUint8(k++,R.charCodeAt(0))),Array.from(v,R=>_.setUint8(k++,R.charCodeAt(0)));var S=new Uint8Array(b.byteLength+r.byteLength);return S.set(new Uint8Array(b),0),S.set(new Uint8Array(r),b.byteLength),S.buffer}decode(e,t){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return t(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,l,u,d]=r;return t({join_ref:i,ref:o,topic:l,event:u,payload:d})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,i)}}_decodeUserBroadcast(e,t,r){const i=t.getUint8(1),o=t.getUint8(2),l=t.getUint8(3),u=t.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(e.slice(d,d+i));d=d+i;const p=r.decode(e.slice(d,d+o));d=d+o;const v=r.decode(e.slice(d,d+l));d=d+l;const x=e.slice(d,e.byteLength),b=u===this.JSON_ENCODING?JSON.parse(r.decode(x)):x,_={type:this.BROADCAST_EVENT,event:p,payload:b};return l>0&&(_.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>t.includes(r)))}}class Ly{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(je||(je={}));const Cm=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,l)=>(o[l]=i_(l,n,e,i),o),{}):{}},i_=(n,e,t,r)=>{const i=e.find(u=>u.name===n),o=i==null?void 0:i.type,l=t[n];return o&&!r.includes(o)?Iy(o,l):dd(l)},Iy=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return c_(e,t)}switch(n){case je.bool:return a_(e);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return o_(e);case je.json:case je.jsonb:return l_(e);case je.timestamp:return u_(e);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return dd(e);default:return dd(e)}},dd=n=>n,a_=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},o_=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},l_=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},c_=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let o;const l=n.slice(1,t);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>Iy(e,u))}return n},u_=n=>typeof n=="string"?n.replace(" ","T"):n,Dy=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class zu{constructor(e,t,r={},i=cd){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Em;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Em||(Em={}));class Gi{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gi.syncState(this.state,i,o,l),this.pendingDiffs.forEach(d=>{this.state=Gi.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Gi.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const o=this.cloneDeep(e),l=this.transformState(t),u={},d={};return this.map(o,(f,p)=>{l[f]||(d[f]=p)}),this.map(l,(f,p)=>{const v=o[f];if(v){const x=p.map(S=>S.presence_ref),b=v.map(S=>S.presence_ref),_=p.filter(S=>b.indexOf(S.presence_ref)<0),k=v.filter(S=>x.indexOf(S.presence_ref)<0);_.length>0&&(u[f]=_),k.length>0&&(d[f]=k)}else u[f]=p}),this.syncDiff(o,{joins:u,leaves:d},r,i)}static syncDiff(e,t,r,i){const{joins:o,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,d)=>{var f;const p=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(d),p.length>0){const v=e[u].map(b=>b.presence_ref),x=p.filter(b=>v.indexOf(b.presence_ref)<0);e[u].unshift(...x)}r(u,p,d)}),this.map(l,(u,d)=>{let f=e[u];if(!f)return;const p=d.map(v=>v.presence_ref);f=f.filter(v=>p.indexOf(v.presence_ref)<0),e[u]=f,i(u,f,d),f.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rm;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Rm||(Rm={}));var Yi;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Yi||(Yi={}));var Ln;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Ln||(Ln={}));class Ns{constructor(e,t={config:{}},r){var i,o;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new zu(this,on.join,this.params,this.timeout),this.rejoinTimer=new Ly(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(on.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Gi(this),this.broadcastEndpointURL=Dy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Yi.PRESENCE]&&this.bindings[Yi.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,v={},x={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(Ln.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(Ln.CLOSED)),this.updateJoinPayload(Object.assign({config:x},v)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:b})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e==null||e(Ln.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,S=(_=k==null?void 0:k.length)!==null&&_!==void 0?_:0,R=[];for(let P=0;P<S;P++){const j=k[P],{filter:{event:I,schema:F,table:$,filter:M}}=j,B=b&&b[P];if(B&&B.event===I&&Ns.isFilterValueEqual(B.schema,F)&&Ns.isFilterValueEqual(B.table,$)&&Ns.isFilterValueEqual(B.filter,M))R.push(Object.assign(Object.assign({},j),{id:B.id}));else{this.unsubscribe(),this.state=Qe.errored,e==null||e(Ln.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,e&&e(Ln.SUBSCRIBED);return}}).receive("error",b=>{this.state=Qe.errored,e==null||e(Ln.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ln.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===Qe.joined&&e===Yi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var i;if(t==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,d;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Qe.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(on.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new zu(this,on.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),l}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new zu(this,e,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>r_){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,o;const l=e.toLocaleLowerCase(),{close:u,error:d,leave:f,join:p}=on;if(r&&[u,d,f,p].indexOf(l)>=0&&r!==this._joinRef())return;let x=this._onMessage(l,t,r);if(t&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var _,k,S;return((_=b.filter)===null||_===void 0?void 0:_.event)==="*"||((S=(k=b.filter)===null||k===void 0?void 0:k.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(b=>b.callback(x,r)):(o=this.bindings[l])===null||o===void 0||o.filter(b=>{var _,k,S,R,P,j;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const I=b.id,F=(_=b.filter)===null||_===void 0?void 0:_.event;return I&&((k=t.ids)===null||k===void 0?void 0:k.includes(I))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((S=t.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const I=(P=(R=b==null?void 0:b.filter)===null||R===void 0?void 0:R.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return I==="*"||I===((j=t==null?void 0:t.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof x=="object"&&"ids"in x){const _=x.data,{schema:k,table:S,commit_timestamp:R,type:P,errors:j}=_;x=Object.assign(Object.assign({},{schema:k,table:S,commit_timestamp:R,eventType:P,new:{},old:{},errors:j}),this._getPayloadRecords(_))}b.callback(x,r)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Ns.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(on.close,{},e)}_onError(e){this._on(on.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Cm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Cm(e.columns,e.old_record)),t}}const Fu=()=>{},No={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},d_=[1e3,2e3,5e3,1e4],h_=1e4,f_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class p_{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cd,this.transport=null,this.heartbeatIntervalMs=No.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fu,this.ref=0,this.reconnectTimer=null,this.vsn=Sm,this.logger=Fu,this.conn=null,this.sendBuffer=[],this.serializer=new s_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=t==null?void 0:t.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${ud.websocket}`,this.httpEndpoint=Dy(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Xw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return t==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case lr.connecting:return Ur.Connecting;case lr.open:return Ur.Open;case lr.closing:return Ur.Closing;default:return Ur.Closed}}isConnected(){return this.connectionState()===Ur.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Ns(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:r,payload:i,ref:o}=e,l=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(n_,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},No.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply"&&t.ref&&t.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error",f)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:o,ref:l}=t,u=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${r} ${i} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,o,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===lr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===lr.open||this.conn.readyState===lr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(t){this.log("error","error in heartbeat callback",t)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(on.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([f_],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,r=!1;if(e)t=e,r=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const o={access_token:t,version:e_};t&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(on.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ly(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},No.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,i,o,l,u,d,f,p,v,x,b;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:cd,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:No.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:Fu,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:Sm,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(_=>d_[_-1]||h_),this.vsn){case t_:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:((_,k)=>k(JSON.stringify(_))),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:((_,k)=>k(JSON.parse(_)));break;case Ny:this.encode=(x=e==null?void 0:e.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ra=class extends Error{constructor(n,e){var t;super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((t=e.icebergType)==null?void 0:t.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function m_(n,e,t){const r=new URL(e,n);if(t)for(const[i,o]of Object.entries(t))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function g_(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function y_(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:t,path:r,query:i,body:o,headers:l}){const u=m_(n.baseUrl,r,i),d=await g_(n.auth),f=await e(u,{method:t,headers:{...o?{"Content-Type":"application/json"}:{},...d,...l},body:o?JSON.stringify(o):void 0}),p=await f.text(),v=(f.headers.get("content-type")||"").includes("application/json"),x=v&&p?JSON.parse(p):p;if(!f.ok){const b=v?x:void 0,_=b==null?void 0:b.error;throw new ra((_==null?void 0:_.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:_==null?void 0:_.type,icebergCode:_==null?void 0:_.code,details:b})}return{status:f.status,headers:f.headers,data:x}}}}function Lo(n){return n.join("")}var v_=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:Lo(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,e){const t={namespace:n.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Lo(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lo(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Lo(n.namespace)}`}),!0}catch(e){if(e instanceof ra&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(t){if(t instanceof ra&&t.status===409)return;throw t}}};function bs(n){return n.join("")}var x_=class{constructor(n,e="",t){this.client=n,this.prefix=e,this.accessDelegation=t}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bs(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bs(n.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(n,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bs(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bs(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bs(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bs(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(t){if(t instanceof ra&&t.status===404)return!1;throw t}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(t){if(t instanceof ra&&t.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw t}}},b_=class{constructor(n){var r;let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const t=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=y_({baseUrl:t,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(r=n.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new v_(this.client,e),this.tableOps=new x_(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},Rl=class extends Error{constructor(n,e="storage",t,r){super(n),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=t,this.statusCode=r}};function Pl(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Io=class extends Rl{constructor(n,e,t,r="storage"){super(n,r,e,t),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},My=class extends Rl{constructor(n,e,t="storage"){super(n,t),this.name=t==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const w_=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),__=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},hd=n=>{if(Array.isArray(n))return n.map(t=>hd(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=hd(r)}),e},k_=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function sa(n){"@babel/helpers - typeof";return sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sa(n)}function S_(n,e){if(sa(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(sa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function C_(n){var e=S_(n,"string");return sa(e)=="symbol"?e:e+""}function E_(n,e,t){return(e=C_(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Pm(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ce(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Pm(Object(t),!0).forEach(function(r){E_(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Pm(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const jm=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},R_=async(n,e,t,r)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(t!=null&&t.noResolveJson)){const i=n,o=i.status||500;if(typeof i.json=="function")i.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||o+"";e(new Io(jm(l),o,u,r))}).catch(()=>{if(r==="vectors"){const l=o+"";e(new Io(i.statusText||`HTTP ${o} error`,o,l,r))}else{const l=o+"";e(new Io(i.statusText||`HTTP ${o} error`,o,l,r))}});else{const l=o+"";e(new Io(i.statusText||`HTTP ${o} error`,o,l,r))}}else e(new My(jm(n),n,r))},P_=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||n==="HEAD"||!r?ce(ce({},i),t):(__(r)?(i.headers=ce({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),ce(ce({},i),t))};async function Li(n,e,t,r,i,o,l){return new Promise((u,d)=>{n(t,P_(e,r,i,o)).then(f=>{if(!f.ok)throw f;if(r!=null&&r.noResolveJson)return f;if(l==="vectors"){const p=f.headers.get("content-type");if(f.headers.get("content-length")==="0"||f.status===204)return{};if(!p||!p.includes("application/json"))return{}}return f.json()}).then(f=>u(f)).catch(f=>R_(f,d,r,l))})}function zy(n="storage"){return{get:async(e,t,r,i)=>Li(e,"GET",t,r,i,void 0,n),post:async(e,t,r,i,o)=>Li(e,"POST",t,i,o,r,n),put:async(e,t,r,i,o)=>Li(e,"PUT",t,i,o,r,n),head:async(e,t,r,i)=>Li(e,"HEAD",t,ce(ce({},r),{},{noResolveJson:!0}),i,void 0,n),remove:async(e,t,r,i,o)=>Li(e,"DELETE",t,i,o,r,n)}}const j_=zy("storage"),{get:ia,post:an,put:fd,head:T_,remove:Wd}=j_,At=zy("vectors");var qs=class{constructor(n,e={},t,r="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.fetch=w_(t),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var e=this;try{return{data:await n(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Pl(t))return{data:null,error:t};throw t}}},O_=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Pl(e))return{data:null,error:e};throw e}}};let Fy;Fy=Symbol.toStringTag;var A_=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[Fy]="BlobDownloadBuilder",this.promise=null}asStream(){return new O_(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Pl(e))return{data:null,error:e};throw e}}};const N_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var L_=class extends qs{constructor(n,e={},t,r){super(n,e,r,"storage"),this.bucketId=t}async uploadOrUpdate(n,e,t,r){var i=this;return i.handleOperation(async()=>{let o;const l=ce(ce({},Tm),r);let u=ce(ce({},i.headers),n==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&t instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",i.encodeMetadata(d)),o.append("",t)):typeof FormData<"u"&&t instanceof FormData?(o=t,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),d&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(d))):(o=t,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),r!=null&&r.headers&&(u=ce(ce({},u),r.headers));const f=i._removeEmptyFolders(e),p=i._getFinalPath(f),v=await(n=="PUT"?fd:an)(i.fetch,`${i.url}/object/${p}`,o,ce({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{path:f,id:v.Id,fullPath:v.Key}})}async upload(n,e,t){return this.uploadOrUpdate("POST",n,e,t)}async uploadToSignedUrl(n,e,t,r){var i=this;const o=i._removeEmptyFolders(n),l=i._getFinalPath(o),u=new URL(i.url+`/object/upload/sign/${l}`);return u.searchParams.set("token",e),i.handleOperation(async()=>{let d;const f=ce({upsert:Tm.upsert},r),p=ce(ce({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&t instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",t)):typeof FormData<"u"&&t instanceof FormData?(d=t,d.append("cacheControl",f.cacheControl)):(d=t,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType),{path:o,fullPath:(await fd(i.fetch,u.toString(),d,{headers:p})).Key}})}async createSignedUploadUrl(n,e){var t=this;return t.handleOperation(async()=>{let r=t._getFinalPath(n);const i=ce({},t.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const o=await an(t.fetch,`${t.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(t.url+o.url),u=l.searchParams.get("token");if(!u)throw new Rl("No token returned by API");return{signedUrl:l.toString(),path:n,token:u}})}async update(n,e,t){return this.uploadOrUpdate("PUT",n,e,t)}async move(n,e,t){var r=this;return r.handleOperation(async()=>await an(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:r.headers}))}async copy(n,e,t){var r=this;return r.handleOperation(async()=>({path:(await an(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(n,e,t){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(n),o=await an(r.fetch,`${r.url}/object/sign/${i}`,ce({expiresIn:e},t!=null&&t.transform?{transform:t.transform}:{}),{headers:r.headers});const l=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${l}`)}})}async createSignedUrls(n,e,t){var r=this;return r.handleOperation(async()=>{const i=await an(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:n},{headers:r.headers}),o=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return i.map(l=>ce(ce({},l),{},{signedUrl:l.signedURL?encodeURI(`${r.url}${l.signedURL}${o}`):null}))})}download(n,e,t){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(n),u=()=>ia(this.fetch,`${this.url}/${r}/${l}${o}`,{headers:this.headers,noResolveJson:!0},t);return new A_(u,this.shouldThrowOnError)}async info(n){var e=this;const t=e._getFinalPath(n);return e.handleOperation(async()=>hd(await ia(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})))}async exists(n){var e=this;const t=e._getFinalPath(n);try{return await T_(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pl(r)&&r instanceof My){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(n,e){const t=this._getFinalPath(n),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${t}${u}`)}}}async remove(n){var e=this;return e.handleOperation(async()=>await Wd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}))}async list(n,e,t){var r=this;return r.handleOperation(async()=>{const i=ce(ce(ce({},N_),e),{},{prefix:n||""});return await an(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},t)})}async listV2(n,e){var t=this;return t.handleOperation(async()=>{const r=ce({},n);return await an(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,r,{headers:t.headers},e)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const I_="2.95.3",ga={"X-Client-Info":`storage-js/${I_}`};var D_=class extends qs{constructor(n,e={},t,r){const i=new URL(n);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const o=i.href.replace(/\/$/,""),l=ce(ce({},ga),e);super(o,l,t,"storage")}async listBuckets(n){var e=this;return e.handleOperation(async()=>{const t=e.listBucketOptionsToQueryString(n);return await ia(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers})})}async getBucket(n){var e=this;return e.handleOperation(async()=>await ia(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}))}async createBucket(n,e={public:!1}){var t=this;return t.handleOperation(async()=>await an(t.fetch,`${t.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}))}async updateBucket(n,e){var t=this;return t.handleOperation(async()=>await fd(t.fetch,`${t.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}))}async emptyBucket(n){var e=this;return e.handleOperation(async()=>await an(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}))}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await Wd(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},M_=class extends qs{constructor(n,e={},t){const r=n.replace(/\/$/,""),i=ce(ce({},ga),e);super(r,i,t,"storage")}async createBucket(n){var e=this;return e.handleOperation(async()=>await an(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}))}async listBuckets(n){var e=this;return e.handleOperation(async()=>{const t=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&t.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&t.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&t.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&t.set("sortOrder",n.sortOrder),n!=null&&n.search&&t.set("search",n.search);const r=t.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await ia(e.fetch,i,{headers:e.headers})})}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await Wd(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}))}from(n){var e=this;if(!k_(n))throw new Rl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new b_({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(t,{get(i,o){const l=i[o];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(i,u),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}}}})}},z_=class extends qs{constructor(n,e={},t){const r=n.replace(/\/$/,""),i=ce(ce({},ga),{},{"Content-Type":"application/json"},e);super(r,i,t,"vectors")}async createIndex(n){var e=this;return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{})}async getIndex(n,e){var t=this;return t.handleOperation(async()=>await At.post(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers}))}async listIndexes(n){var e=this;return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}))}async deleteIndex(n,e){var t=this;return t.handleOperation(async()=>await At.post(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers})||{})}},F_=class extends qs{constructor(n,e={},t){const r=n.replace(/\/$/,""),i=ce(ce({},ga),{},{"Content-Type":"application/json"},e);super(r,i,t,"vectors")}async putVectors(n){var e=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{})}async getVectors(n){var e=this;return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}))}async listVectors(n){var e=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}))}async queryVectors(n){var e=this;return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}))}async deleteVectors(n){var e=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{})}},$_=class extends qs{constructor(n,e={},t){const r=n.replace(/\/$/,""),i=ce(ce({},ga),{},{"Content-Type":"application/json"},e);super(r,i,t,"vectors")}async createBucket(n){var e=this;return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{})}async getBucket(n){var e=this;return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}))}async listBuckets(n={}){var e=this;return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}))}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await At.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{})}},U_=class extends $_{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new B_(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,t=this;return e().call(t,n)}async getBucket(n){var e=()=>super.getBucket,t=this;return e().call(t,n)}async listBuckets(n={}){var e=()=>super.listBuckets,t=this;return e().call(t,n)}async deleteBucket(n){var e=()=>super.deleteBucket,t=this;return e().call(t,n)}},B_=class extends z_{constructor(n,e,t,r){super(n,e,r),this.vectorBucketName=t}async createIndex(n){var e=()=>super.createIndex,t=this;return e().call(t,ce(ce({},n),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,t=this;return e().call(t,ce(ce({},n),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,n)}index(n){return new V_(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},V_=class extends F_{constructor(n,e,t,r,i){super(n,e,i),this.vectorBucketName=t,this.indexName=r}async putVectors(n){var e=()=>super.putVectors,t=this;return e().call(t,ce(ce({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(n){var e=()=>super.getVectors,t=this;return e().call(t,ce(ce({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,t=this;return e().call(t,ce(ce({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,t=this;return e().call(t,ce(ce({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,t=this;return e().call(t,ce(ce({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},W_=class extends D_{constructor(n,e={},t,r){super(n,e,t,r)}from(n){return new L_(this.url,this.headers,n,this.fetch)}get vectors(){return new U_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new M_(this.url+"/iceberg",this.headers,this.fetch)}};const $y="2.95.3",Os=30*1e3,pd=3,$u=pd*Os,H_="http://localhost:9999",q_="supabase.auth.token",K_={"X-Client-Info":`gotrue-js/${$y}`},md="X-Supabase-Api-Version",Uy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},G_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Y_=600*1e3;class aa extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function te(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class J_ extends aa{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function Q_(n){return te(n)&&n.name==="AuthApiError"}class Br extends aa{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Un extends aa{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class jt extends Un{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Uu(n){return te(n)&&n.name==="AuthSessionMissingError"}class ws extends Un{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Do extends Un{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Mo extends Un{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function X_(n){return te(n)&&n.name==="AuthImplicitGrantRedirectError"}class Om extends Un{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Z_ extends Un{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class gd extends Un{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Bu(n){return te(n)&&n.name==="AuthRetryableFetchError"}class Am extends Un{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class yd extends Un{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const cl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nm=` 	
\r=`.split(""),ek=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Nm.length;e+=1)n[Nm[e].charCodeAt(0)]=-2;for(let e=0;e<cl.length;e+=1)n[cl[e].charCodeAt(0)]=e;return n})();function Lm(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(cl[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(cl[r]),e.queuedBits-=6}}function By(n,e,t){const r=ek[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Im(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{rk(l,r,t)};for(let l=0;l<n.length;l+=1)By(n.charCodeAt(l),i,o);return e.join("")}function tk(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function nk(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}tk(r,e)}}function rk(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Is(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)By(n.charCodeAt(i),t,r);return new Uint8Array(e)}function sk(n){const e=[];return nk(n,t=>e.push(t)),new Uint8Array(e)}function Vr(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>Lm(i,t,r)),Lm(null,t,r),e.join("")}function ik(n){return Math.round(Date.now()/1e3)+n}function ak(){return Symbol("auth-callback")}const it=()=>typeof window<"u"&&typeof document<"u",Ar={tested:!1,writable:!1},Vy=()=>{if(!it())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ar.tested)return Ar.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ar.tested=!0,Ar.writable=!0}catch{Ar.tested=!0,Ar.writable=!1}return Ar.writable};function ok(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const Wy=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),lk=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",As=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Nr=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},st=async(n,e)=>{await n.removeItem(e)};class jl{constructor(){this.promise=new jl.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}jl.promiseConstructor=Promise;function zo(n){const e=n.split(".");if(e.length!==3)throw new yd("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!G_.test(e[r]))throw new yd("JWT not in base64url format");return{header:JSON.parse(Im(e[0])),payload:JSON.parse(Im(e[1])),signature:Is(e[2]),raw:{header:e[0],payload:e[1]}}}async function ck(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function uk(n,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await n(o);if(!e(o,null,l)){r(l);return}}catch(l){if(!e(o,l)){i(l);return}}})()})}function dk(n){return("0"+n.toString(16)).substr(-2)}function hk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,dk).join("")}async function fk(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function pk(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await fk(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _s(n,e,t=!1){const r=hk();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await As(n,`${e}-code-verifier`,i);const o=await pk(r);return[o,r===o?"plain":"s256"]}const mk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gk(n){const e=n.headers.get(md);if(!e||!e.match(mk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function yk(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function vk(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ks(n){if(!xk.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vu(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bk(n,e){return new Proxy(n,{get:(t,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,i)}})}function Dm(n){return JSON.parse(JSON.stringify(n))}const zr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),wk=[502,503,504];async function Mm(n){var e;if(!lk(n))throw new gd(zr(n),0);if(wk.includes(n.status))throw new gd(zr(n),n.status);let t;try{t=await n.json()}catch(o){throw new Br(zr(o),o)}let r;const i=gk(n);if(i&&i.getTime()>=Uy["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Am(zr(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new jt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new Am(zr(t),n.status,t.weak_password.reasons);throw new J_(zr(t),n.status||500,r)}const _k=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function oe(n,e,t,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[md]||(o[md]=Uy["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await kk(n,e,t+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function kk(n,e,t,r,i,o){const l=_k(e,r,i,o);let u;try{u=await n(t,Object.assign({},l))}catch(d){throw console.error(d),new gd(zr(d),0)}if(u.ok||await Mm(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await Mm(d)}}function sn(n){var e;let t=null;Ek(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=ik(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function zm(n){const e=sn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function cr(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Sk(n){return{data:n,error:null}}function Ck(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=n,l=El(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function Fm(n){return n}function Ek(n){return n.access_token&&n.refresh_token&&n.expires_in}const Wu=["global","local","others"];class Rk{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Wy(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Wu[0]){if(Wu.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wu.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:cr})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=El(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Ck,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(te(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:cr})}catch(t){if(te(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Fm});if(p.error)throw p.error;const v=await p.json(),x=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);f[`${S}Page`]=k}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(te(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){ks(e);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:cr})}catch(t){if(te(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ks(e);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:cr})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){ks(e);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:cr})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ks(e.userId);try{const{data:t,error:r}=await oe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(te(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ks(e.userId),ks(e.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(te(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,i,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Fm});if(p.error)throw p.error;const v=await p.json(),x=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);f[`${S}Page`]=k}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(te(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(te(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(te(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await oe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(te(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(te(t))return{data:null,error:t};throw t}}}function $m(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const Ss={debug:!!(globalThis&&Vy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Pk extends Hy{}async function jk(n,e,t){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Pk(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Ss.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function Tk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function qy(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function Ok(n){return parseInt(n,16)}function Ak(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Nk(n){var e;const{chainId:t,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:p,uri:v,version:x}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const b=qy(n.address),_=p?`${p}://${r}`:r,k=n.statement?`${n.statement}
`:"",S=`${_} wants you to sign in with your Ethereum account:
${b}

${k}`;let R=`URI: ${v}
Version: ${x}
Chain ID: ${t}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(R+=`
Expiration Time: ${i.toISOString()}`),u&&(R+=`
Not Before: ${u.toISOString()}`),d&&(R+=`
Request ID: ${d}`),f){let P=`
Resources:`;for(const j of f){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);P+=`
- ${j}`}R+=P}return`${S}
${R}`}class Ge extends Error{constructor({message:e,code:t,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}}class ul extends Ge{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Lk({error:n,options:e}){var t,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ge({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Ge({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ge({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ge({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Ge({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Ge({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Ge({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Ge({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if(Ky(l)){if(o.rp.id!==l)return new Ge({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ge({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Ge({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Ik({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ge({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Ge({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(Ky(r)){if(t.rpId!==r)return new Ge({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Ge({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class Dk{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Mk=new Dk;function zk(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:r}=n,i=El(n,["challenge","user","excludeCredentials"]),o=Is(e).buffer,l=Object.assign(Object.assign({},t),{id:Is(t.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Is(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function Fk(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,r=El(n,["challenge","allowCredentials"]),i=Is(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let l=0;l<t.length;l++){const u=t[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Is(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function $k(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:Vr(new Uint8Array(n.response.attestationObject)),clientDataJSON:Vr(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Uk(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,r=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Vr(new Uint8Array(i.authenticatorData)),clientDataJSON:Vr(new Uint8Array(i.clientDataJSON)),signature:Vr(new Uint8Array(i.signature)),userHandle:i.userHandle?Vr(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ky(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Um(){var n,e;return!!(it()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Bk(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ul("Browser returned unexpected credential type",e)}:{data:null,error:new ul("Empty credential response",e)}}catch(e){return{data:null,error:Lk({error:e,options:n})}}}async function Vk(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ul("Browser returned unexpected credential type",e)}:{data:null,error:new ul("Empty credential response",e)}}catch(e){return{data:null,error:Ik({error:e,options:n})}}}const Wk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Hk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function dl(...n){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of n)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(t(l))r[o]=l;else if(e(l)){const u=r[o];e(u)?r[o]=dl(u,l):r[o]=dl(l)}else r[o]=l}return r}function qk(n,e){return dl(Wk,n,e||{})}function Kk(n,e){return dl(Hk,n,e||{})}class Gk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:i},o){var l;try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!u)return{data:null,error:d};const f=i??Mk.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;if(!p.name){const v=r;if(v)p.name=`${p.id}:${v}`;else{const b=(await this.client.getUser()).data.user,_=((l=b==null?void 0:b.user_metadata)===null||l===void 0?void 0:l.name)||(b==null?void 0:b.email)||(b==null?void 0:b.id)||"User";p.name=`${p.id}:${_}`}}p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=qk(u.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:v,error:x}=await Bk({publicKey:p,signal:f});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:x}}case"request":{const p=Kk(u.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:v,error:x}=await Vk(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:f}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:x}}}}catch(u){return te(u)?{data:null,error:u}:{data:null,error:new Br("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new aa("rpId is required for WebAuthn authentication")};try{if(!Um())return{data:null,error:new Br("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return te(l)?{data:null,error:l}:{data:null,error:new Br("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new aa("rpId is required for WebAuthn registration")};try{if(!Um())return{data:null,error:new Br("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(p=>{var v;return(v=p.data)===null||v===void 0?void 0:v.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:i},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return te(l)?{data:null,error:l}:{data:null,error:new Br("Unexpected error in register",l)}}}}Tk();const Yk={url:H_,storageKey:q_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:K_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Bm(n,e,t){return await t()}const Cs={};class oa{get jwks(){var e,t;return(t=(e=Cs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Cs[this.storageKey]=Object.assign(Object.assign({},Cs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Cs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Cs[this.storageKey]=Object.assign(Object.assign({},Cs[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Yk),e);if(this.storageKey=o.storageKey,this.instanceID=(t=oa.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,oa.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&it()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Rk({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Wy(o.fetch),this.lock=o.lock||Bm,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&it()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=jk:this.lock=Bm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Gk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Vy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$m(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=$m(this.memoryStorage)),it()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${$y}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},r="none";if(it()&&(t=ok(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),it()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(t,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),X_(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return te(t)?this._returnResult({error:t}):this._returnResult({error:new Br("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const o=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:sn}),{data:l,error:u}=o;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(te(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var t,r,i;try{let o;if("email"in e){const{email:p,password:v,options:x}=e;let b=null,_=null;this.flowType==="pkce"&&([b,_]=await _s(this.storage,this.storageKey)),o=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:p,password:v,data:(t=x==null?void 0:x.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:b,code_challenge_method:_},xform:sn})}else if("phone"in e){const{phone:p,password:v,options:x}=e;o=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:v,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},channel:(i=x==null?void 0:x.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:sn})}else throw new Do("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return await st(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(await st(this.storage,`${this.storageKey}-code-verifier`),te(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:l,options:u}=e;t=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:zm})}else if("phone"in e){const{phone:o,password:l,options:u}=e;t=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:zm})}else throw new Do("You must provide either an email or phone number and a password");const{data:r,error:i}=t;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new ws;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(te(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,i,o,l,u,d,f,p,v,x;let b,_;if("message"in e)b=e.message,_=e.signature;else{const{chain:k,wallet:S,statement:R,options:P}=e;let j;if(it())if(typeof S=="object")j=S;else{const G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")j=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=S}const I=new URL((t=P==null?void 0:P.url)!==null&&t!==void 0?t:window.location.href),F=await j.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=qy(F[0]);let M=(r=P==null?void 0:P.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const G=await j.request({method:"eth_chainId"});M=Ok(G)}const B={domain:I.host,address:$,statement:R,uri:I.href,version:"1",chainId:M,nonce:(i=P==null?void 0:P.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=P==null?void 0:P.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=P==null?void 0:P.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=P==null?void 0:P.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=P==null?void 0:P.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=P==null?void 0:P.signInWithEthereum)===null||p===void 0?void 0:p.resources};b=Nk(B),_=await j.request({method:"personal_sign",params:[Ak(b),$]})}try{const{data:k,error:S}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:_},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:sn});if(S)throw S;if(!k||!k.session||!k.user){const R=new ws;return this._returnResult({data:{user:null,session:null},error:R})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:S})}catch(k){if(te(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(e){var t,r,i,o,l,u,d,f,p,v,x,b;let _,k;if("message"in e)_=e.message,k=e.signature;else{const{chain:S,wallet:R,statement:P,options:j}=e;let I;if(it())if(typeof R=="object")I=R;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))I=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=R}const F=new URL((t=j==null?void 0:j.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in I&&I.signIn){const $=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),P?{statement:P}:null));let M;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")M=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)M=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)_=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),k=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${F.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(i=(r=j==null?void 0:j.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=j==null?void 0:j.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((d=j==null?void 0:j.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((f=j==null?void 0:j.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((v=(p=j==null?void 0:j.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||v===void 0)&&v.length?["Resources",...j.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const $=await I.signMessage(new TextEncoder().encode(_),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=$}}try{const{data:S,error:R}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Vr(k)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:sn});if(R)throw R;if(!S||!S.session||!S.user){const P=new ws;return this._returnResult({data:{user:null,session:null},error:P})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:R})}catch(S){if(te(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const t=await Nr(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Z_;const{data:o,error:l}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:sn});if(await st(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const u=new ws;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(await st(this.storage,`${this.storageKey}-code-verifier`),te(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:o,nonce:l}=e,u=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:sn}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const p=new ws;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(t){if(te(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,i,o,l;try{if("email"in e){const{email:u,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await _s(this.storage,this.storageKey));const{error:v}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:u,options:d}=e,{data:f,error:p}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p})}throw new Do("You must provide either an email or phone number.")}catch(u){if(await st(this.storage,`${this.storageKey}-code-verifier`),te(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var t,r;try{let i,o;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:sn});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(te(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var t,r,i,o,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await _s(this.storage,this.storageKey));const f=await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:Sk});return!((o=f.data)===null||o===void 0)&&o.url&&it()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await st(this.storage,`${this.storageKey}-code-verifier`),te(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new jt;const{error:i}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(te(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:l}=await oe(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:l,error:u}=await oe(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new Do("You must provide either an email or phone number and a type")}catch(t){if(te(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Nr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<$u:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await Nr(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=Vu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=bk(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:cr}):await this._useSession(async t=>{var r,i,o;const{data:l,error:u}=t;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:cr})})}catch(t){if(te(t))return Uu(t)&&(await this._removeSession(),await st(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new jt;const l=i.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await _s(this.storage,this.storageKey));const{data:f,error:p}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:cr});if(p)throw p;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await st(this.storage,`${this.storageKey}-code-verifier`),te(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jt;const t=Date.now()/1e3;let r=t,i=!0,o=null;const{payload:l}=zo(e.access_token);if(l.exp&&(r=l.exp,i=r<=t),i){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(t){if(te(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:l,error:u}=t;if(u)throw u;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new jt;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(te(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!it())throw new Mo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Mo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Om("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mo("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Om("No code detected.");const{data:P,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=e;if(!o||!u||!l||!f)throw new Mo("No session defined in URL");const p=Math.round(Date.now()/1e3),v=parseInt(u);let x=p+v;d&&(x=parseInt(d));const b=x-p;b*1e3<=Os&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${v}s`);const _=x-v;p-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,x,p):p-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,x,p);const{data:k,error:S}=await this._getUser(o);if(S)throw S;const R={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:v,expires_at:x,refresh_token:l,token_type:f,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:e.type},error:null})}catch(r){if(te(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Nr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:o}=t;if(o&&!Uu(o))return this._returnResult({error:o});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(Q_(u)&&(u.status===404||u.status===401||u.status===403)||Uu(u)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await st(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=ak(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:o},error:l}=t;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await _s(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(await st(this.storage,`${this.storageKey}-code-verifier`),te(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(te(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:i}=await this._useSession(async o=>{var l,u,d,f,p;const{data:v,error:x}=o;if(x)throw x;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(f=v.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return it()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(te(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:i,data:{session:o}}=t;if(i)throw i;const{options:l,provider:u,token:d,access_token:f,nonce:p}=e,v=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sn}),{data:x,error:b}=v;return b?this._returnResult({data:{user:null,session:null},error:b}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new ws}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:b}))}catch(i){if(await st(this.storage,`${this.storageKey}-code-verifier`),te(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:o,error:l}=t;if(l)throw l;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(te(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await uk(async i=>(i>0&&await ck(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:sn})),(i,o)=>{const l=200*Math.pow(2,i);return o&&Bu(o)&&Date.now()+l-r<Os})}catch(r){if(this._debug(t,"error",r),te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),it()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Nr(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Nr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await As(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:Vu()}else if(i&&!i.user&&!i.user){const l=await Nr(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await st(this.storage,this.storageKey+"-user"),await As(this.storage,this.storageKey,i)):i.user=Vu()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<$u;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${$u}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Bu(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new jl;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new jt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),te(o)){const l={data:null,error:o};return Bu(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,t)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await st(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await As(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const o=Dm(i);await As(this.storage,this.storageKey,o)}else{const i=Dm(t);await As(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await st(this.storage,this.storageKey),await st(this.storage,this.storageKey+"-code-verifier"),await st(this.storage,this.storageKey+"-user"),this.userStorage&&await st(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&it()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Os);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Os);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Os}ms, refresh threshold is ${pd} ticks`),i<=pd&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Hy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!it()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await _s(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;return o?this._returnResult({data:null,error:o}):await oe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(te(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:o,error:l}=t;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(t){if(te(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?$k(e.webauthn.credential_response):Uk(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(t){if(te(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:o}=t;if(o)return this._returnResult({data:null,error:o});const l=await oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:zk(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Fk(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(te(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var t,r,i,o;if(e)try{const{payload:b}=zo(e);let _=null;b.aal&&(_=b.aal);let k=_;const{data:{user:S},error:R}=await this.getUser(e);if(R)return this._returnResult({data:null,error:R});((r=(t=S==null?void 0:S.factors)===null||t===void 0?void 0:t.filter(I=>I.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(k="aal2");const j=b.amr||[];return{data:{currentLevel:_,nextLevel:k,currentAuthenticationMethods:j},error:null}}catch(b){if(te(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=zo(l.access_token);let f=null;d.aal&&(f=d.aal);let p=f;((o=(i=l.user.factors)===null||i===void 0?void 0:i.filter(b=>b.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(p="aal2");const x=d.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?await oe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new jt})})}catch(t){if(te(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new jt});const l=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&it()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new jt});const l=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&it()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await oe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new jt})})}catch(e){if(te(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?(await oe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new jt})})}catch(t){if(te(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(u=>u.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+Y_>i)return r;const{data:o,error:l}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:b,error:_}=await this.getSession();if(_||!b.session)return this._returnResult({data:null,error:_});r=b.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:d}}=zo(r);t!=null&&t.allowExpired||yk(o.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!f){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:o,header:i,signature:l},error:null}}const p=vk(i.alg),v=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,v,l,sk(`${u}.${d}`)))throw new yd("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}}oa.nextInstanceID={};const Jk=oa,Qk="2.95.3";let Bi="";typeof Deno<"u"?Bi="deno":typeof document<"u"?Bi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bi="react-native":Bi="node";const Xk={"X-Client-Info":`supabase-js-${Bi}/${Qk}`},Zk={headers:Xk},eS={schema:"public"},tS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nS={};function la(n){"@babel/helpers - typeof";return la=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},la(n)}function rS(n,e){if(la(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(la(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function sS(n){var e=rS(n,"string");return la(e)=="symbol"?e:e+""}function iS(n,e,t){return(e=sS(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Vm(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ue(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Vm(Object(t),!0).forEach(function(r){iS(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Vm(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const aS=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),oS=()=>Headers,lS=(n,e,t)=>{const r=aS(t),i=oS();return async(o,l)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:n;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(o,Ue(Ue({},l),{},{headers:f}))}};function cS(n){return n.endsWith("/")?n:n+"/"}function uS(n,e){var t,r;const{db:i,auth:o,realtime:l,global:u}=n,{db:d,auth:f,realtime:p,global:v}=e,x={db:Ue(Ue({},d),i),auth:Ue(Ue({},f),o),realtime:Ue(Ue({},p),l),storage:{},global:Ue(Ue(Ue({},v),u),{},{headers:Ue(Ue({},(t=v==null?void 0:v.headers)!==null&&t!==void 0?t:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?x.accessToken=n.accessToken:delete x.accessToken,x}function dS(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(cS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var hS=class extends Jk{constructor(n){super(n)}},fS=class{constructor(n,e,t){var r,i;this.supabaseUrl=n,this.supabaseKey=e;const o=dS(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:eS,realtime:nS,auth:Ue(Ue({},tS),{},{storageKey:l}),global:Zk},d=uS(t??{},u);if(this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=lS(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Ue({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new Qw(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch,timeout:d.db.timeout,urlLengthLimit:d.db.urlLengthLimit}),this.storage=new W_(this.storageUrl.href,this.headers,this.fetch,t==null?void 0:t.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Vw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,t)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,t;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:r,userStorage:i,storageKey:o,flowType:l,lock:u,debug:d,throwOnError:f},p,v){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hS({url:this.authUrl.href,headers:Ue(Ue({},x),p),storageKey:o,autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:r,userStorage:i,flowType:l,lock:u,debug:d,throwOnError:f,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new p_(this.realtimeUrl.href,Ue(Ue({},n),{},{params:Ue(Ue({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(n,e,t){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const pS=(n,e,t)=>new fS(n,e,t);function mS(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const e=n.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}mS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const gS="https://iagmimnzownectzlhswn.supabase.co",Gy="sb_publishable_SoyFqP9_S9K7h5XbjN36ug_EYNO7uuC",Vi=!!Gy,Be=Vi?pS(gS,Gy):null,yS="Meu SRL Canvas";function vS(n){const e=n.trim();if(!e)return"";const t=e.includes("T")?e:`${e}T00:00:00`,r=new Date(t);return Number.isNaN(r.getTime())?e:r.toLocaleDateString("pt-BR")}function vd(n){const e=n.startup.trim()||yS,t=vS(n.date);return t?`${t} - ${e}`:e}async function Yy(n){if(!Be)return[];const{data:e,error:t}=await Be.from("canvases").select("id,title,meta,blocks,updated_at").eq("user_id",n).order("updated_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]}async function xS(n){var i;if(!Be)throw new Error("Supabase nao configurado");const e={id:n.id,user_id:n.userId,title:((i=n.title)==null?void 0:i.trim())||vd(n.meta),meta:n.meta,blocks:n.blocks},{data:t,error:r}=await Be.from("canvases").upsert(e).select("id,title,meta,blocks,updated_at").single();if(r)throw new Error(r.message);return t}const Wm=n=>{let e;const t=new Set,r=(f,p)=>{const v=typeof f=="function"?f(e):f;if(!Object.is(v,e)){const x=e;e=p??(typeof v!="object"||v===null)?v:Object.assign({},e,v),t.forEach(b=>b(e,x))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>d,subscribe:f=>(t.add(f),()=>t.delete(f))},d=e=n(r,i,u);return u},bS=(n=>n?Wm(n):Wm),wS=n=>n;function _S(n,e=wS){const t=$i.useSyncExternalStore(n.subscribe,$i.useCallback(()=>e(n.getState()),[n,e]),$i.useCallback(()=>e(n.getInitialState()),[n,e]));return $i.useDebugValue(t),t}const kS=n=>{const e=bS(n),t=r=>_S(e,r);return Object.assign(t,e),t},SS=(n=>kS),Bt=n=>n.map((e,t)=>({level:t+1,...e})),Jy=[{key:"fundacao",name:"Fundao",subtitle:"I. Problem/Solution Fit",detailTitle:"I. FUNDAO",conceptualFocus:"Problema/Soluo Fit: Garante que a startup est construda sobre uma dor real e que a equipe tem capacidade de iniciar a execuo.",includedBlocks:"1. Problema/Oportunidade, 2. Proposta de Valor, 7. Equipe",dotClass:"bg-blue-500",badgeClass:"text-blue-500 dark:text-blue-400",iconTextClass:"text-blue-500 dark:text-blue-400",iconBgClass:"bg-blue-100 dark:bg-blue-900/40"},{key:"produtoMercado",name:"Produto & Mercado",subtitle:"II. Product/Market Fit",detailTitle:"II. PRODUTO & MERCADO",conceptualFocus:"Product/Market Fit: Analisa a interao do produto com o mercado, focando na gerao de trao e canais de crescimento.",includedBlocks:"3. Produto/Tecnologia, 4. Clientes/Trao, 5. PLG, 9. Marketing/Canais",dotClass:"bg-green-500",badgeClass:"text-green-500 dark:text-green-400",iconTextClass:"text-green-500 dark:text-green-400",iconBgClass:"bg-green-100 dark:bg-green-900/40"},{key:"escala",name:"Sustentabilidade & Escala",subtitle:"III. Scalability Fit",detailTitle:"III. SUSTENTABILIDADE & ESCALA",conceptualFocus:"Scalability Fit: Foca na sade do modelo de receita, na eficincia operacional e na capacidade financeira de manter e acelerar o crescimento.",includedBlocks:"6. Modelo de Negcio, 8. Operaes/Execuo, 10. Sustentao Financeira",dotClass:"bg-orange-500",badgeClass:"text-orange-500 dark:text-orange-400",iconTextClass:"text-orange-500 dark:text-orange-400",iconBgClass:"bg-orange-100 dark:bg-orange-900/40"},{key:"governanca",name:"Futuro & Governana",subtitle:"IV. Futuro & Governana",detailTitle:"IV. FUTURO & GOVERNANA",conceptualFocus:"Direcionamento e Proteo: Garante que o negcio tem uma viso estratgica clara e est legalmente protegido para escalar sem riscos.",includedBlocks:"11. Estratgia/Viso, 12. Governana & Compliance",dotClass:"bg-purple-500",badgeClass:"text-purple-500 dark:text-purple-400",iconTextClass:"text-purple-500 dark:text-purple-400",iconBgClass:"bg-purple-100 dark:bg-purple-900/40"}],Hm=Jy.reduce((n,e)=>(n[e.key]=e,n),{}),Vt=(n,e,t)=>({bands:[{grouping:"BAIXO",minLevel:1,maxLevel:3,strategicFocus:n},{grouping:"MDIO",minLevel:4,maxLevel:6,strategicFocus:e},{grouping:"ALTO",minLevel:7,maxLevel:9,strategicFocus:t}]}),Wt={problema:Vt('Problema Hipottico: Foco em descoberta e validao qualitativa da dor e do "trabalho" (JTBD).',"Validao Qualitativa: Foco em mapear o JTBD e documentar os padres recorrentes da dor.","Maturidade JTBD: Foco em mensurar o problema e na motivao intrnseca do cliente."),"proposta-de-valor":Vt("Soluo Hipottica: Foco em definir a proposta de valor e testar a clareza da mensagem.","Validao da Soluo: Foco em validar o MVP e coletar feedback sobre a percepo de valor.","Maturidade da Soluo: Foco em otimizar a reteno e garantir que a proposta de valor seja nica e defensvel."),"produto-tecnologia":Vt("Prottipo: Foco em desenvolver o MVP e entregar as funcionalidades mnimas.","Validao e Uso Contnuo: Foco em melhorar o produto com base em feedback e garantir o uso contnuo.","Escalabilidade e Estabilidade: Foco em otimizar a infraestrutura para escala e garantir a estabilidade e integrao."),"clientes-tracao":Vt("Sem Trao: Foco em adquirir os primeiros usurios e validar o interesse inicial.","Trao Inicial: Foco em converter usurios em clientes pagantes e estabelecer a recorrncia.","Crescimento Sustentvel: Foco em otimizar a reteno e escalar o crescimento de forma previsvel."),plg:Vt("PLG Hipottico: Foco em desenhar e testar as primeiras funcionalidades de PLG.","Validao do PLG: Foco em validar o onboarding, a viralidade e a converso.","Maturidade PLG: Foco em otimizar o PLG como principal motor de crescimento."),"modelo-de-negocio":Vt("Modelo Hipottico: Foco em definir e testar o modelo de receita e a precificao.","Validao do Modelo: Foco em validar a receita recorrente e calcular os unit economics.","Maturidade do Modelo: Foco em otimizar os unit economics e escalar o modelo de negcio."),equipe:Vt("Formao da Equipe: Foco em formar uma equipe complementar e com dedicao integral.","Estruturao da Equipe: Foco em definir a cultura e fazer as primeiras contrataes-chave.","Maturidade da Equipe: Foco em criar uma equipe de alta performance e uma liderana forte."),operacoes:Vt("Estruturao da Execuo: Foco em documentar e seguir os processos bsicos.","Otimizao da Execuo: Foco em otimizar e automatizar os processos e definir mtricas de eficincia.","Maturidade da Execuo: Foco em criar uma operao escalvel e orientada a dados, com excelncia operacional."),"marketing-canais":Vt("Estratgia de Marketing: Foco em definir a estratgia de marketing e testar os primeiros canais.","Validao de Canais: Foco em validar o canal principal e otimizar o ROI.","Maturidade de Marketing: Foco em escalar a aquisio, garantir a previsibilidade e construir uma marca forte."),"sustentacao-financeira":Vt("Controle Bsico: Foco em estabelecer o controle de fluxo de caixa e registrar as transaes.","Planejamento: Foco em analisar as entradas e sadas e prever o runway.","Maturidade Financeira: Foco em otimizar os unit economics e definir a estratgia de captao."),"estrategia-visao":Vt("Viso Inicial: Foco em definir a misso, viso e valores, e entender o mercado.","Alinhamento: Foco em alinhar a operao com a estratgia e definir o roadmap ttico.","Viso Estratgica: Foco em posicionamento competitivo e garantir que as mtricas impulsionem a viso de longo prazo."),"governanca-compliance":Vt("Estrutura Legal Bsica: Foco em formalizar o registro da empresa e o acordo entre fundadores.","Proteo Inicial: Foco em proteger a Propriedade Intelectual e iniciar o compliance legal.","Governana Robusta: Foco em estruturar o vesting, formar o conselho e garantir o compliance auditado.")},ln=[{id:1,key:"problema",interpretiveSummary:Wt.problema,name:"Problema / Oportunidade",shortLabel:"Problema",group:"fundacao",icon:"report_problem",color:"blue",objective:'Validar se a startup compreende profundamente o "trabalho" que o cliente est tentando realizar.',questions:["A dor do cliente  clara e real?",'H validao externa ou dados concretos que comprovem o "trabalho" (JTBD) [3] que o cliente deseja realizar?'],exampleTips:["Testes: Use Jobs-to-be-Done e Mapas de Empatia para encontrar a verdadeira causa da dor.","Documente: Colete depoimentos e evidncias que confirmem que o problema  frequente e doloroso para o pblico-alvo.","Dados: Faa pesquisas com amostragem estatisticamente relevante (para o Nvel 7+) para quantificar o tamanho da dor."],levels:Bt([{description:"Ideia vaga, sem definio clara do problema.",evidence:"Nenhuma interao registrada com clientes ou usurios."},{description:"Problema descrito genericamente, baseado em suposio.",evidence:"Anotaes internas ou hipteses em documentos, apresentaes ou planos iniciais."},{description:"Identificao qualitativa do problema com observaes ou hipteses.",evidence:"Relatos informais de conversas com clientes, sem roteiro estruturado ou registro sistemtico."},{description:"Realizao de entrevistas ou conversas com pblico-alvo.",evidence:"Transcries, gravaes ou notas estruturadas de entrevistas com clientes/usurios."},{description:"Feedback estruturado de potenciais clientes.",evidence:"Questionrios aplicados ou formulrios on-line com respostas consolidadas."},{description:"Problema documentado com padres recorrentes.",evidence:"Mapas de dor, Job Stories ou sntese estruturada das evidncias coletadas."},{description:"Validao quantitativa do problema com dados ou pesquisas.",evidence:"Pesquisa de satisfao (NPS/CSAT) ou survey quantitativo com amostra mnima relevante."},{description:"Evidncia ampla de que o problema  real e relevante no mercado.",evidence:"Dados de uso (analytics, logs, mtricas de comportamento) demonstrando recorrncia da dor ou do JTBD."},{description:"Dor bem conhecida, mensurada e reconhecida como significativa.",evidence:"Estudos de caso, depoimentos robustos (vdeo, texto), citaes em mdia ou relatrios setoriais."}])},{id:2,key:"proposta-de-valor",interpretiveSummary:Wt["proposta-de-valor"],name:"Proposta de Valor",shortLabel:"Valor",group:"fundacao",icon:"diamond",color:"blue",objective:"Entender se a soluo proposta resolve claramente o problema identificado.",questions:["A soluo atende diretamente  dor validada?","A proposta de valor  clara e percebida como valiosa pelo cliente?"],exampleTips:["Validao: Utilize o Value Proposition Canvas para garantir o alinhamento problema-soluo.","Testes: Crie uma Landing Page com a proposta de valor e mea o interesse (cadastros, cliques).","Mtricas: Acompanhe o NPS (Net Promoter Score) e a Taxa de Reteno para medir a satisfao e a fidelizao."],levels:Bt([{description:"Soluo confusa ou sem relao direta com o problema.",evidence:"Descrio vaga da soluo."},{description:"Ideia de soluo sem alinhamento com a dor validada.",evidence:"No h alinhamento entre problema e soluo no Value Proposition Canvas."},{description:"Descrio clara da proposta, mas ainda sem feedback real.",evidence:"Landing page com descrio clara."},{description:"Feedback positivo inicial de clientes sobre a soluo.",evidence:"Depoimentos de early adopters."},{description:"MVP funcional testado com casos reais.",evidence:"Relatrio de testes de usabilidade."},{description:"Proposta entendida e validada com grupo de usurios.",evidence:"Focus group ou pesquisa de clareza da proposta."},{description:"Alta adeso inicial e engajamento com a soluo.",evidence:"Mtricas de engajamento inicial (DAU/MAU)."},{description:"Reteno de usurios, percepo clara de valor.",evidence:"Taxa de Reteno inicial."},{description:"Proposta nica, difcil de substituir, com alto NPS ou fidelizao.",evidence:"NPS alto e churn baixo."}])},{id:3,key:"produto-tecnologia",interpretiveSummary:Wt["produto-tecnologia"],name:"Produto / Tecnologia",shortLabel:"Produto",group:"produtoMercado",icon:"inventory_2",color:"green",objective:"Avaliar a maturidade da soluo tcnica e sua capacidade de entregar a proposta de valor.",questions:["O produto/tecnologia  robusto e escalvel?","O processo de desenvolvimento  gil e orientado a feedback?"],exampleTips:["Infra: Considere a infraestrutura tcnica necessria para escala (Cloud, APIs, Segurana).","Design: Inclua etapas como prottipos navegveis e testes de usabilidade com usurios reais.","Ferramentas: Utilize ferramentas como Figma (design), Bubble ou Firebase (prototipagem e back-end inicial)."],levels:Bt([{description:"Ideia sem prottipo.",evidence:"Desenhos ou wireframes."},{description:"Prottipo de baixa fidelidade.",evidence:"Prottipo em papel ou Figma."},{description:"Prottipo navegvel.",evidence:"Link do prottipo navegvel."},{description:"MVP funcional, mas instvel.",evidence:"Acesso ao MVP."},{description:"Produto com funcionalidades bsicas estveis.",evidence:"Relatrios de bugs e estabilidade."},{description:"Ciclo de feedback e melhorias sendo aplicadas.",evidence:"Roadmap de produto e histrico de atualizaes."},{description:"Infraestrutura bsica e escalabilidade em desenvolvimento.",evidence:"Documentao de arquitetura de software."},{description:"Produto estvel, com performance adequada e automaes.",evidence:"Mtricas de uptime e performance."},{description:"Produto pronto para escala massiva e integrao com parceiros.",evidence:"APIs documentadas e acordos de parceria tcnica."}])},{id:4,key:"clientes-tracao",interpretiveSummary:Wt["clientes-tracao"],name:"Clientes / Trao",shortLabel:"Clientes",group:"produtoMercado",icon:"person_search",color:"green",objective:"Medir o engajamento com o mercado real, com nfase na Reteno (complementando o Bloco 9).",questions:["Existem clientes pagantes e satisfeitos?","A trao  crescente e sustentvel?"],exampleTips:["Funil: Monitore as taxas de converso de cada etapa do funil (AARRR: Aquisio, Ativao, Reteno, Receita, Recomendao) [4].","Indicadores: Diferencie claramente Leads (interessados) de Clientes Ativos (usando ou pagando).","Teste: Realize a primeira segmentao de clientes para identificar o ICP (Ideal Customer Profile)."],levels:Bt([{description:"Nenhum cliente ou usurio.",evidence:"N/A"},{description:"Primeiros usurios (no pagantes).",evidence:"Lista de usurios beta."},{description:"Primeiros clientes pagantes (early adopters).",evidence:"Recibos ou contratos iniciais."},{description:"Recorrncia de compra ou uso.",evidence:"Dados de recompra ou uso recorrente."},{description:"Base de clientes pequena, mas crescente.",evidence:"Grfico de crescimento de clientes."},{description:"Reteno inicial validada.",evidence:"Taxa de Reteno mensal."},{description:"Trao consistente e previsvel.",evidence:"Projeo de crescimento de receita."},{description:"Crescimento acelerado e sustentvel.",evidence:"Mtricas de crescimento (MoM, YoY)."},{description:"Liderana de nicho ou mercado.",evidence:"Market share ou reconhecimento de mercado."}])},{id:5,key:"plg",interpretiveSummary:Wt.plg,name:"Product-Led Growth (PLG)",shortLabel:"PLG",group:"produtoMercado",icon:"rocket_launch",color:"green",objective:"Avaliar a capacidade do produto de gerar crescimento de forma autnoma.",questions:["O produto em si  um motor de aquisio e reteno?","Existem mecanismos de viralidade ou recomendao no produto?"],exampleTips:["Onboarding: Crie um processo de onboarding que guie o usurio at o momento aha! (percepo de valor) o mais rpido possvel.","Viralidade: Implemente funcionalidades de compartilhamento ou recompensa por indicao.","Mtricas: Acompanhe a Taxa de Ativao, o K-fator e a Taxa de Converso Freemium-Premium."],levels:Bt([{description:"Crescimento totalmente dependente de vendas/marketing.",evidence:"N/A"},{description:"Ideias iniciais de como o produto pode gerar crescimento.",evidence:"Brainstorming sobre PLG."},{description:"Primeiros testes de funcionalidades de PLG.",evidence:"Testes A/B de funcionalidades de onboarding."},{description:"Onboarding automatizado e intuitivo.",evidence:"Taxa de Ativao."},{description:"Mecanismos de recomendao ou viralidade implementados.",evidence:"K-fator ou taxa de recomendao."},{description:"Modelo Freemium ou Trial com converso validada.",evidence:"Taxa de converso Freemium-Premium."},{description:"Ciclo de feedback do produto automatizado.",evidence:"Pesquisas de satisfao in-app."},{description:"Produto como principal canal de aquisio.",evidence:"% de clientes adquiridos via PLG."},{description:"PLG como cultura, com otimizao contnua.",evidence:"OKRs de PLG."}])},{id:6,key:"modelo-de-negocio",interpretiveSummary:Wt["modelo-de-negocio"],name:"Modelo de Negcio",shortLabel:"Modelo",group:"escala",icon:"monetization_on",color:"orange",objective:"Validar a forma como a startup captura valor e gera receita.",questions:["O modelo de receita  claro e validado?","Os unit economics (LTV/CAC) so saudveis?"],exampleTips:["Precificao: Teste diferentes modelos de precificao (assinatura, transacional, freemium) para encontrar o ideal.","Unit Economics: Calcule o LTV (Lifetime Value) e o CAC (Custo de Aquisio de Clientes) e garanta que o LTV seja pelo menos 3x maior que o CAC.","Escala: Analise a escalabilidade do modelo de negcio e identifique possveis gargalos."],levels:Bt([{description:"Modelo de negcio indefinido.",evidence:"N/A"},{description:"Ideias de como gerar receita.",evidence:"Brainstorming sobre modelos de receita."},{description:"Modelo de receita definido, mas no testado.",evidence:"Descrio do modelo de receita no pitch."},{description:"Primeiros testes de precificao.",evidence:"Testes A/B de preos."},{description:"Receita recorrente inicial.",evidence:"Primeiros contratos de assinatura."},{description:"Unit economics (LTV/CAC) calculados.",evidence:"Planilha de clculo de LTV e CAC."},{description:"LTV > 3x CAC.",evidence:"Relatrio de unit economics."},{description:"Modelo de receita escalvel e otimizado.",evidence:"Projeo de receita com base em dados."},{description:"Mltiplas fontes de receita ou modelo de negcio inovador.",evidence:"Diversificao de fontes de receita."}])},{id:7,key:"equipe",interpretiveSummary:Wt.equipe,name:"Equipe",shortLabel:"Equipe",group:"fundacao",icon:"groups",color:"blue",objective:"Avaliar a capacidade da equipe de executar a viso da startup.",questions:["A equipe  complementar e possui as habilidades necessrias?","A cultura da equipe  forte e alinhada com a viso?"],exampleTips:["Complementaridade: Mapeie as habilidades da equipe e identifique as lacunas a serem preenchidas.","Cultura: Defina os valores da empresa e pratique-os no dia a dia.","Gesto: Implemente processos de gesto de pessoas, como OKRs e feedbacks constantes."],levels:Bt([{description:"Fundador nico, sem equipe.",evidence:"N/A"},{description:"Equipe inicial, mas sem complementaridade.",evidence:"Currculos dos fundadores."},{description:"Equipe com habilidades complementares.",evidence:"Matriz de competncias da equipe."},{description:"Dedicao integral dos fundadores.",evidence:"Contrato social ou acordo de dedicao."},{description:"Primeiras contrataes-chave.",evidence:"Contratos de trabalho ou prestao de servios."},{description:"Cultura organizacional definida e praticada.",evidence:"Documento de cultura e valores."},{description:"Processos de gesto de pessoas implementados.",evidence:"Descries de cargos e responsabilidades."},{description:"Equipe de alta performance, com autonomia e responsabilidade.",evidence:"OKRs individuais e de equipe."},{description:"Liderana forte, capaz de atrair e reter talentos.",evidence:"Baixo turnover e alta satisfao da equipe."}])},{id:8,key:"operacoes",interpretiveSummary:Wt.operacoes,name:"Operaes / Execuo",shortLabel:"Operaes",group:"escala",icon:"engineering",color:"orange",objective:"Avaliar a capacidade da startup de entregar valor de forma consistente e eficiente.",questions:["Os processos internos so eficientes e escalveis?","A execuo  gil e orientada a dados?"],exampleTips:["Metodologias: Utilize metodologias geis, como Scrum ou Kanban, para gerenciar a execuo.","Ferramentas: Use ferramentas de gesto de projetos, como Trello, Jira ou Asana, para organizar as tarefas.","Mtricas: Defina e acompanhe KPIs de eficincia operacional para identificar gargalos e oportunidades de melhoria."],levels:Bt([{description:"Processos informais e caticos.",evidence:"N/A"},{description:"Primeiros processos definidos, mas no seguidos.",evidence:"Fluxogramas de processos."},{description:"Processos bsicos documentados e seguidos.",evidence:"Manuais de processos."},{description:"Uso de ferramentas de gesto de projetos.",evidence:"Quadros Kanban ou Scrum."},{description:"Mtricas de eficincia operacional definidas.",evidence:"KPIs de eficincia (e.g., tempo de ciclo)."},{description:"Processos otimizados e automatizados.",evidence:"Relatrios de automao de processos."},{description:"Execuo orientada a dados, com ciclos de feedback rpidos.",evidence:"Dashboards de mtricas operacionais."},{description:"Operao escalvel, com capacidade de atender a um grande volume de clientes.",evidence:"Testes de estresse da operao."},{description:"Excelncia operacional, com otimizao contnua.",evidence:"Certificaes de qualidade ou prmios de eficincia."}])},{id:9,key:"marketing-canais",interpretiveSummary:Wt["marketing-canais"],name:"Marketing / Canais",shortLabel:"Marketing",group:"produtoMercado",icon:"campaign",color:"green",objective:"Avaliar a capacidade da startup de alcanar e adquirir clientes de forma eficaz.",questions:["Os canais de marketing so eficientes e escalveis?","A mensagem de marketing  clara e ressoa com o pblico-alvo?"],exampleTips:["Canais: Teste diferentes canais de marketing (mdia paga, orgnico, referncia) para encontrar os mais eficientes.","Mensagem: Crie uma mensagem de marketing clara e que ressoe com o pblico-alvo.","Mtricas: Acompanhe o CAC, o ROI e a Taxa de Converso de cada canal para otimizar os investimentos."],levels:Bt([{description:"Nenhuma estratgia de marketing definida.",evidence:"N/A"},{description:"Primeiras aes de marketing pontuais.",evidence:"Posts em redes sociais ou anncios espordicos."},{description:"Estratgia de marketing definida, mas no testada.",evidence:"Plano de marketing."},{description:"Primeiros testes de canais de marketing.",evidence:"Relatrios de testes A/B de canais."},{description:"Canal principal validado com ROI positivo.",evidence:"Dados de CAC por canal."},{description:"Mix de canais com resultados consistentes.",evidence:"Taxa de Ativao."},{description:"Marketing orientado a dados, com otimizao de CAC.",evidence:"Relatrios de desempenho de canais (Google Analytics, Ads)."},{description:"Aquisio previsvel com mix de canais.",evidence:"Dashboard de mtricas A e A do AARRR."},{description:"Marca forte e reconhecida no mercado.",evidence:"Pesquisas de reconhecimento de marca."}])},{id:10,key:"sustentacao-financeira",interpretiveSummary:Wt["sustentacao-financeira"],name:"Sustentao Financeira",shortLabel:"Financeiro",group:"escala",icon:"account_balance",color:"orange",objective:"Verificar a capacidade de manter operao com flego financeiro.",questions:["Voc tem um runway previsvel?","Os unit economics (LTV e CAC) so analisados e saudveis?"],exampleTips:["Gesto: Mantenha um Controle de Fluxo de Caixa detalhado e mensalmente atualizado.","Projeo: Calcule o Runway (flego em meses antes do dinheiro acabar) e o Burn Rate (taxa de queima de caixa).","Valorao: Defina claramente a Estratgia de Captao e os milestones financeiros."],levels:Bt([{description:"Nenhum controle financeiro.",evidence:"N/A"},{description:"Estimativas informais de custos e receitas.",evidence:"Oramento inicial."},{description:"Primeiros registros em planilhas.",evidence:"Planilha de fluxo de caixa."},{description:"Controle de fluxo de caixa bsico.",evidence:"Extratos bancrios."},{description:"Anlise regular de entradas e sadas.",evidence:"DRE (Demonstrao do Resultado do Exerccio) mensal."},{description:"Planejamento financeiro com previso de runway.",evidence:"Clculo do Runway (flego em meses)."},{description:"Anlise de unit economics em uso.",evidence:"Clculo de LTV e CAC."},{description:"Estratgia de sustentabilidade ou captao definida.",evidence:"Projeo financeira de 3 anos."},{description:"Modelo financeiro validado, com indicadores saudveis.",evidence:"Auditoria financeira ou due diligence de investidores."}])},{id:11,key:"estrategia-visao",interpretiveSummary:Wt["estrategia-visao"],name:"Estratgia / Viso",shortLabel:"Estratgia",group:"governanca",icon:"checklist",color:"purple",objective:"Avaliar clareza de futuro e diferencial competitivo.",questions:["Existe viso clara, executvel e inspiradora?","O posicionamento competitivo  claro e diferenciado?"],exampleTips:["Viso: Utilize ferramentas como Golden Circle (Simon Sinek) para definir o propsito.","Estratgia: Use OKRs (Objectives and Key Results) para garantir o alinhamento entre a viso e a execuo.","Competio: Realize uma Anlise SWOT ou Competitive Landscape para definir o diferencial."],levels:Bt([{description:"Nenhuma viso de longo prazo definida.",evidence:"N/A"},{description:"Propsito genrico e pouco claro.",evidence:"Declarao de misso/viso."},{description:"Ideia inicial de mercado e impacto.",evidence:"Anlise de mercado."},{description:"Misso, viso e valores definidos.",evidence:"Documento de cultura e valores."},{description:"Roadmap ttico de curto prazo existente.",evidence:"Roadmap de 6 meses."},{description:"Alinhamento entre operao e estratgia.",evidence:"OKRs ou metas trimestrais."},{description:"Mtricas e metas alinhadas  viso de longo prazo.",evidence:"Dashboard de mtricas estratgicas."},{description:"Posicionamento competitivo claro e diferenciado.",evidence:"Anlise SWOT ou Competitive Landscape."},{description:"Viso inspiradora, executvel e com potencial de impacto massivo.",evidence:"Pitch deck de captao de Srie A."}])},{id:12,key:"governanca-compliance",interpretiveSummary:Wt["governanca-compliance"],name:"Governana & Compliance",shortLabel:"Governana",group:"governanca",icon:"gavel",color:"purple",objective:"Garantir que o negcio est legalmente protegido e tem estrutura para escalar.",questions:["O negcio est legalmente protegido (PI, contratos)?","Existe uma estrutura de governana (conselho, vesting) para a escala?"],exampleTips:["Legal: Formalize o Acordo de Fundadores e o Vesting o mais cedo possvel para evitar problemas futuros.","PI: Priorize o registro de marca e patentes (se aplicvel) para proteger a Propriedade Intelectual.","Governana: Considere a formao de um Conselho Consultivo para auxiliar nas decises estratgicas."],levels:Bt([{description:"Estrutura legal informal.",evidence:"N/A"},{description:"Registro de empresa bsico.",evidence:"CNPJ ou registro."},{description:"Acordo de fundadores verbal.",evidence:"Termo de confidencialidade (NDA)."},{description:"Acordo de fundadores formalizado (sem vesting).",evidence:"Contrato social."},{description:"Proteo de PI bsica (registro de marca).",evidence:"Registro de marca no INPI."},{description:"Estrutura de compliance inicial (LGPD, etc.).",evidence:"Poltica de privacidade."},{description:"Acordo de vesting e stock option formalizado.",evidence:"Contrato de vesting."},{description:"Governana corporativa inicial (conselho consultivo).",evidence:"Atas de reunies de conselho."},{description:"Governana robusta, proteo legal completa e compliance auditado.",evidence:"Due diligence legal e financeira."}])}],CS=ln.reduce((n,e)=>(n[e.id]=e,n),{}),Qy="srl-canvas-storage-v1",ES="srl-canvas-storage-v2",Hr="guest",Hd=()=>{const n=new Date,e=String(n.getDate()).padStart(2,"0"),t=String(n.getMonth()+1).padStart(2,"0"),r=String(n.getFullYear());return`${e}/${t}/${r}`},rl=()=>ln.reduce((n,e)=>(n[e.id]={score:null,notes:"",evidence:""},n),{}),Hu=()=>({startup:"",evaluator:"",date:Hd()}),zs=n=>typeof n=="object"&&n!==null,Xy=n=>{if(!zs(n))return null;const e=typeof n.startup=="string"?n.startup:"",t=typeof n.evaluator=="string"?n.evaluator:"",r=typeof n.date=="string"&&n.date.trim()?n.date:Hd();return{startup:e,evaluator:t,date:r}},Zy=n=>{if(!zs(n))return null;const e=rl();for(const t of ln){const r=n[String(t.id)];if(!zs(r))continue;const i=r.score,o=typeof i=="number"&&i>=1&&i<=9?i:null,l=typeof r.notes=="string"?r.notes:"",u=typeof r.evidence=="string"?r.evidence:"";e[t.id]={score:o,notes:l,evidence:u}}return e},RS=n=>{if(!n)return null;try{const e=JSON.parse(n);if(!zs(e))return null;const t=Xy(e.meta),r=Zy(e.blocks);if(!t||!r)return null;const i=typeof e.darkMode=="boolean"?e.darkMode:!1,o=typeof e.updatedAt=="string"?e.updatedAt:new Date().toISOString();return{meta:t,blocks:r,darkMode:i,updatedAt:o}}catch{return null}},PS=n=>{if(!n)return null;try{const e=JSON.parse(n);if(!zs(e)||!zs(e.state))return null;const t=Xy(e.state.meta),r=Zy(e.state.blocks);if(!t||!r)return null;const i=typeof e.state.darkMode=="boolean"?e.state.darkMode:!1;return{meta:t,blocks:r,darkMode:i,updatedAt:new Date().toISOString()}}catch{return null}},qd=n=>`${ES}:${n}`,ca=n=>RS(window.localStorage.getItem(qd(n))),hl=(n,e)=>{window.localStorage.setItem(qd(n),JSON.stringify(e))},jS=n=>{window.localStorage.removeItem(qd(n))},TS=()=>PS(window.localStorage.getItem(Qy)),OS=()=>{window.localStorage.removeItem(Qy)},ev=n=>{if(!n)return!1;const e=!!(n.meta.startup.trim()||n.meta.evaluator.trim()),t=ln.some(r=>{const i=n.blocks[r.id];return!!(typeof(i==null?void 0:i.score)=="number"||i!=null&&i.notes.trim()||i!=null&&i.evidence.trim())});return e||t},AS=n=>({meta:n.meta,blocks:n.blocks,darkMode:n.darkMode,updatedAt:new Date().toISOString()}),Tn=ca(Hr),vn=SS()((n,e)=>{const t=()=>{const r=e();hl(r.storageScope,AS(r))};return{meta:(Tn==null?void 0:Tn.meta)??Hu(),blocks:(Tn==null?void 0:Tn.blocks)??rl(),darkMode:(Tn==null?void 0:Tn.darkMode)??!1,storageScope:Hr,setMeta:r=>{n(i=>({meta:{...i.meta,...r}})),t()},updateBlock:(r,i)=>{n(o=>({blocks:{...o.blocks,[r]:{...o.blocks[r],...i}}})),t()},resetCanvas:()=>{n({meta:Hu(),blocks:rl()}),t()},toggleDarkMode:()=>{n(r=>({darkMode:!r.darkMode})),t()},loadCanvasScope:r=>{const i=ca(r);n(o=>({storageScope:r,meta:(i==null?void 0:i.meta)??Hu(),blocks:(i==null?void 0:i.blocks)??rl(),darkMode:(i==null?void 0:i.darkMode)??o.darkMode})),t()},replaceCanvas:({meta:r,blocks:i})=>{n({meta:r,blocks:i}),t()}}});let qu=0;const NS=n=>({meta:n.meta,blocks:n.blocks,darkMode:n.darkMode,updatedAt:new Date().toISOString()}),LS=()=>{const n=TS();if(!n)return;const e=ca(Hr);(!e||!ev(e))&&hl(Hr,n),OS()};async function IS(n){const e=++qu;if(LS(),!n.isAuthEnabled||!n.userId){if(e!==qu)return;vn.getState().loadCanvasScope(Hr);return}const t=n.userId,r=vn.getState().darkMode;let i=ca(t);const o=ca(Hr);if(!i&&o&&ev(o)){const l={meta:o.meta,blocks:o.blocks,darkMode:o.darkMode,updatedAt:new Date().toISOString()};i=l,hl(t,i),jS(Hr);try{await xS({userId:n.userId,meta:l.meta,blocks:l.blocks})}catch(u){console.error("Falha ao salvar migracao inicial do canvas no Supabase:",u)}}if(!i)try{const u=(await Yy(n.userId))[0];u&&(i=NS({meta:u.meta,blocks:u.blocks,darkMode:r}),hl(t,i))}catch(l){console.error("Falha ao carregar canvas remoto da sessao:",l)}e===qu&&vn.getState().loadCanvasScope(t)}const tv=T.createContext(void 0);function DS({children:n}){var l;const[e,t]=T.useState(null),[r,i]=T.useState(Vi);T.useEffect(()=>{if(!Vi||!Be)return;Be.auth.getSession().then(({data:d})=>{t(d.session),i(!1)});const{data:{subscription:u}}=Be.auth.onAuthStateChange((d,f)=>{t(f),i(!1)});return()=>u.unsubscribe()},[]),T.useEffect(()=>{var u;r||IS({userId:((u=e==null?void 0:e.user)==null?void 0:u.id)??null,isAuthEnabled:Vi})},[r,(l=e==null?void 0:e.user)==null?void 0:l.id]);const o=T.useMemo(()=>({user:(e==null?void 0:e.user)??null,session:e,loading:r,isEnabled:Vi,signIn:async(u,d)=>{if(!Be)return{error:"Supabase nao configurado."};const{error:f}=await Be.auth.signInWithPassword({email:u,password:d});return{error:(f==null?void 0:f.message)??null}},signUp:async(u,d)=>{if(!Be)return{error:"Supabase nao configurado."};const{error:f}=await Be.auth.signUp({email:u,password:d});return{error:(f==null?void 0:f.message)??null}},signOut:async()=>{if(!Be)return{error:"Supabase nao configurado."};const{error:u}=await Be.auth.signOut();return{error:(u==null?void 0:u.message)??null}}}),[e,r]);return g.jsx(tv.Provider,{value:o,children:n})}function wn(){const n=T.useContext(tv);if(!n)throw new Error("useAuth deve ser usado dentro de AuthProvider");return n}function Es({children:n}){const{user:e,loading:t,isEnabled:r}=wn(),i=Gt();return t?g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background-light dark:bg-background-dark",children:g.jsx("p",{className:"text-sm text-text-light-secondary dark:text-text-dark-secondary",children:"Carregando..."})}):r?e?g.jsx(g.Fragment,{children:n}):g.jsx(Kr,{replace:!0,state:{from:i},to:"/auth/login"}):g.jsx(g.Fragment,{children:n})}const nv="questionario_quantitativo_srl_canvas_revisado_2025-11-28",MS="tcle_v1_2025-11-28",rv=[1,2,3,4,5],zS={1:"Discordo totalmente",2:"Discordo",3:"Neutro",4:"Concordo",5:"Concordo totalmente"},xd=[{key:"problema_oportunidade",label:"Problema/Oportunidade"},{key:"proposta_valor",label:"Proposta de Valor"},{key:"produto_tecnologia",label:"Produto/Tecnologia"},{key:"clientes_tracao",label:"Clientes/Tracao"},{key:"plg",label:"Product-Led Growth (PLG)"},{key:"modelo_negocio",label:"Modelo de Negocio"},{key:"equipe",label:"Equipe"},{key:"operacoes_execucao",label:"Operacoes/Execucao"},{key:"marketing_canais",label:"Marketing/Canais"},{key:"sustentacao_financeira",label:"Sustentacao Financeira"},{key:"estrategia_visao",label:"Estrategia/Visao"},{key:"governanca_compliance",label:"Governanca & Compliance"}],bd=[{key:"definitionClarity",label:"A definicao do bloco esta clara."},{key:"levelCriteriaClarity",label:"Os criterios de niveis (1 a 9) para este bloco sao compreensiveis."},{key:"objectiveScoring",label:"Consigo pontuar este bloco de forma relativamente objetiva."},{key:"dimensionRelevance",label:"Este bloco e relevante para avaliar a maturidade de uma startup."}],FS=[{value:"empreendedor_fundador",label:"Empreendedor(a) / Fundador(a)"},{value:"mentor",label:"Mentor(a)"},{value:"investidor",label:"Investidor(a) (Anjo/VC/Corporate VC)"},{value:"gestor_incubadora_aceleradora",label:"Gestor(a) de incubadora/aceleradora"},{value:"consultor",label:"Consultor(a)"},{value:"pesquisador_docente",label:"Pesquisador(a)/Docente"},{value:"outro",label:"Outro"}],$S=[{value:"lt_1",label:"< 1 ano"},{value:"1_3",label:"1-3 anos"},{value:"4_6",label:"4-6 anos"},{value:"7_10",label:"7-10 anos"},{value:"gt_10",label:"> 10 anos"}],US=[{value:"saas_software",label:"SaaS / Software"},{value:"industria_hardware_iot",label:"Industria / Hardware / IoT"},{value:"health_biotech",label:"Health / Biotech"},{value:"fintech_insurtech",label:"FinTech / InsurTech"},{value:"agtech_food",label:"AgTech / Food"},{value:"gov_edtech_impacto",label:"Gov / EdTech / Impacto Social"},{value:"outro",label:"Outro"}],BS=[{value:"ideacao",label:"Ideacao"},{value:"validacao",label:"Validacao"},{value:"tracao",label:"Tracao"},{value:"escala",label:"Escala"}],VS=[{value:"1_3",label:"1-3 pessoas"},{value:"4_10",label:"4-10 pessoas"},{value:"11_30",label:"11-30 pessoas"},{value:"gt_30",label:"> 30 pessoas"}],WS=[{value:"nao",label:"Nao"},{value:"1_5",label:"1-5"},{value:"1_7",label:"1-7"},{value:"outro",label:"Outro"}],wd=[{key:1,label:"Eu usaria o SRL Canvas com frequencia no meu trabalho."},{key:2,label:"Achei o SRL Canvas desnecessariamente complexo."},{key:3,label:"Achei o SRL Canvas facil de usar."},{key:4,label:"Eu precisaria do apoio de um especialista para aplicar o SRL Canvas."},{key:5,label:"As funcionalidades/dimensoes do SRL Canvas estao bem integradas."},{key:6,label:"Ha muita inconsistenca entre os blocos."},{key:7,label:"A maioria das pessoas aprenderia a usar o SRL Canvas rapidamente."},{key:8,label:"Considerei o SRL Canvas pesado e trabalhoso de usar."},{key:9,label:"Senti-me confiante usando o SRL Canvas."},{key:10,label:"Precisei aprender muitas coisas antes de conseguir usar o SRL Canvas."}],HS=[{value:"autoavaliacao_startup",label:"Autoavaliacao de startup"},{value:"selecao_programas",label:"Selecao de startups em programas (aceleracao/incubacao)"},{value:"acompanhamento_portfolio",label:"Acompanhamento de portfolio"},{value:"analise_investimento",label:"Analise de investimento (due diligence)"},{value:"ensino_aprendizagem",label:"Ensino/aprendizagem"},{value:"outro",label:"Outro"}],qS=[{value:"ate_15",label:"<= 15 minutos"},{value:"16_30",label:"16-30 minutos"},{value:"31_45",label:"31-45 minutos"},{value:"gt_45",label:"> 45 minutos"}],Kd="tcle_v1_2025-11-28",pn={title:"Avaliacao do SRL Canvas - Diagnostico de Maturidade de Startups",researcher:"Marcelo Siqueira Alexandre da Silva - Mestrando no PROFNIT (ponto focal IFMS)",researcherContact:"marcelo.silva20@estudante.ifms.edu.br | (67) 98107-0505",advisor:"Prof. Dr. Jiyan Yari - Orientador (IFMS) | jiyan.yari@ifms.edu.br",institution:"Instituto Federal de Mato Grosso do Sul (IFMS)",program:"PROFNIT - Programa de Pos-Graduacao em Propriedade Intelectual e Transferencia de Tecnologia para a Inovacao",ethicsCommittee:{name:"Comite de Etica em Pesquisa em Seres Humanos - UFMS",contact:"cepconep.propp@ufms.br | (67) 3345-7187",address:"Av. Costa e Silva, s/n, Bairro Universitario, CEP 79070-900, Campo Grande/MS"},dpo:"Silvia Aratani Marinho - ouvidoria@ifms.edu.br - (67) 3378-9625"},KS=[{id:"1",title:"Objetivo da Pesquisa",paragraphs:["Este estudo avalia clareza, relevancia, usabilidade e potencial de uso do SRL Canvas (Startup Readiness Level Canvas), ferramenta visual para diagnostico de maturidade de startups.","As percepcoes coletadas serao usadas para aprimorar e validar a ferramenta, contribuindo para o ecossistema de inovacao e para a literatura academica em empreendedorismo e inovacao."]},{id:"2",title:"Justificativa da Pesquisa",paragraphs:["O ecossistema de startups e dinamico, complexo e possui altas taxas de mortalidade.","A avaliacao de maturidade e crucial para empreendedores, investidores e aceleradoras, porem muitas abordagens focam dimensoes isoladas.","O SRL Canvas busca fornecer avaliacao holistica e integrada. Sua participacao e essencial para validar a efetividade pratica da ferramenta."]},{id:"3",title:"Procedimentos da Pesquisa",paragraphs:["A participacao envolve preenchimento de questionario online (10 a 12 minutos).","Opcionalmente, pode haver convite para entrevista semiestruturada de aprofundamento (20 a 30 minutos)."]},{id:"4",title:"Riscos e Desconfortos",paragraphs:["Os riscos sao minimos, restritos a eventual desconforto pelo tempo dedicado ao questionario ou entrevista.","Voce pode pular perguntas e encerrar a participacao a qualquer momento, sem justificativa e sem prejuizo."]},{id:"5",title:"Beneficios",paragraphs:["Sua participacao contribui para o avancar do conhecimento em empreendedorismo e inovacao e para o aprimoramento do SRL Canvas.","Se desejar, voce podera receber a versao final do SRL Canvas e/ou relatorio-sintese dos resultados da pesquisa."]},{id:"6",title:"Confidencialidade e Anonimato",paragraphs:["As informacoes coletadas serao tratadas com confidencialidade e usadas exclusivamente para fins academicos.","As respostas serao analisadas de forma agregada, com preservacao da identidade, salvo autorizacao expressa para contato de retorno.","Os dados serao armazenados com acesso restrito ao pesquisador responsavel e orientador por ate 6 anos no IFMS e eliminados com seguranca apos esse prazo, em conformidade com a LGPD (Lei 13.709/2018).","Encarregada/DPO do IFMS: Silvia Aratani Marinho - ouvidoria@ifms.edu.br - (67) 3378-9625."]},{id:"7",title:"Direito de Recusa e Retirada",paragraphs:["A participacao e voluntaria e sem pagamento/compensacao financeira.","Voce pode recusar participar ou retirar consentimento a qualquer momento, sem necessidade de justificativa e sem prejuizo."]},{id:"8",title:"Contato do CEP",paragraphs:["Projeto submetido ao Comite de Etica em Pesquisa em Seres Humanos da UFMS (CEP/UFMS), vinculado a Plataforma Brasil.","Contato CEP/UFMS: cepconep.propp@ufms.br | (67) 3345-7187.","Endereco: Av. Costa e Silva, s/n, Bairro Universitario, CEP 79070-900, Campo Grande/MS."]},{id:"9",title:"Declaracao de Consentimento",paragraphs:["Declaro que fui informado(a) sobre objetivos, procedimentos, riscos, beneficios e confidencialidade da pesquisa 'Avaliacao do SRL Canvas - Diagnostico de Maturidade de Startups'.","Compreendi as informacoes apresentadas e tive oportunidade de esclarecer duvidas.","Consinto de forma livre e espontanea em participar da pesquisa.","CAAE: (a ser preenchido apos aprovacao do Comite de Etica)."]}],sv="srl-research-consent-v1";function iv(){const n=window.localStorage.getItem(sv);if(!n)return null;try{return JSON.parse(n)}catch{return null}}function av(n){window.localStorage.setItem(sv,JSON.stringify(n))}async function Gd(n){if(!Be||!n){const r=iv();return!r||r.revokedAt?{accepted:!1,acceptedAt:null,storage:"none",consentId:null}:{accepted:!0,acceptedAt:r.acceptedAt,storage:"local",consentId:"local"}}const{data:e,error:t}=await Be.from("research_consents").select("id,accepted,revoked_at,created_at").eq("user_id",n).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(t)throw new Error(t.message);return!e||!e.accepted||e.revoked_at?{accepted:!1,acceptedAt:null,storage:"none",consentId:null}:{accepted:!0,acceptedAt:e.created_at,storage:"supabase",consentId:e.id}}function GS(){const n=new Date().toISOString();return av({consentVersion:Kd,acceptedAt:n,revokedAt:null}),{id:n,storage:"local"}}async function YS(n){if(!Be||!n.userId)return GS();const e={user_id:n.userId,accepted:!0,consent_version:Kd,survey_version:nv,metadata:{next_path:n.nextPath,accepted_at_client:new Date().toISOString(),source_route:"/survey/consent",user_agent:typeof navigator<"u"?navigator.userAgent:"unknown"}},{data:t,error:r}=await Be.from("research_consents").insert(e).select("id").single();if(r)throw new Error(r.message);return{id:t.id,storage:"supabase"}}async function ov(n){if(!Be||!n){const i=iv();if(!i)return;av({...i,revokedAt:new Date().toISOString()});return}const{data:e,error:t}=await Be.from("research_consents").select("id").eq("user_id",n).eq("accepted",!0).is("revoked_at",null).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(t)throw new Error(t.message);if(!e)return;const{error:r}=await Be.from("research_consents").update({revoked_at:new Date().toISOString()}).eq("id",e.id).eq("user_id",n);if(r)throw new Error(r.message)}function Yd({as:n="section",className:e,nextPath:t,onNavigate:r}){const i=n,o=Yt(),{user:l}=wn(),[u,d]=T.useState(!1),[f,p]=T.useState(!0),[v,x]=T.useState(null),[b,_]=T.useState(null),[k,S]=T.useState(!1);T.useEffect(()=>{let I=!0;return Gd((l==null?void 0:l.id)??null).then(F=>{I&&(d(F.accepted),_(null))}).catch(F=>{I&&_(F instanceof Error?F.message:"Falha ao carregar consentimento.")}).finally(()=>{I&&p(!1)}),()=>{I=!1}},[l==null?void 0:l.id]);const R=()=>{r==null||r(),o(`/survey/consent?next=${encodeURIComponent(t)}`)},P=()=>{r==null||r(),o(`/survey?next=${encodeURIComponent(t)}`)},j=async()=>{S(!0),_(null),x(null);try{await ov((l==null?void 0:l.id)??null),d(!1),x("Consentimento revogado com sucesso.")}catch(I){_(I instanceof Error?I.message:"Falha ao revogar consentimento.")}finally{S(!1)}};return g.jsxs(i,{className:e??"rounded-xl border border-zinc-200/80 bg-card-light p-4 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsx("h2",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Pesquisa Academica"}),g.jsx("p",{className:"mt-2 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:"Este projeto faz parte de uma dissertacao de mestrado. Sua opiniao e essencial para medir impacto, clareza e utilidade do SRL Canvas."}),g.jsxs("p",{className:"mt-1 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:["Tempo estimado de resposta: ",g.jsx("strong",{children:"10 a 12 minutos"}),". As respostas sao fundamentais para a validacao cientifica do trabalho."]}),g.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[g.jsx("button",{type:"button",onClick:R,className:"inline-flex rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white hover:brightness-110",children:"Ler e aceitar TCLE"}),g.jsx("button",{type:"button",onClick:P,className:"inline-flex rounded-lg border border-zinc-300 px-4 py-2 text-sm font-semibold text-text-light-secondary hover:bg-zinc-100 dark:border-zinc-700 dark:text-text-dark-secondary dark:hover:bg-zinc-800",children:"Abrir questionario"})]}),g.jsxs("div",{className:"mt-3 space-y-1 text-xs",children:[f&&g.jsx("p",{className:"text-text-light-secondary dark:text-text-dark-secondary",children:"Carregando status do TCLE..."}),!f&&g.jsxs("p",{className:"text-text-light-secondary dark:text-text-dark-secondary",children:["Status do consentimento: ",g.jsx("strong",{children:u?"ativo":"nao ativo"})]}),v&&g.jsx("p",{className:"text-emerald-700 dark:text-emerald-300",children:v}),b&&g.jsx("p",{className:"text-red-600 dark:text-red-300",children:b})]}),u&&g.jsx("button",{type:"button",onClick:j,disabled:k,className:"mt-3 rounded-lg border border-red-300 px-4 py-2 text-sm font-semibold text-red-700 hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60 dark:border-red-700/50 dark:text-red-300 dark:hover:bg-red-900/20",children:k?"Revogando...":"Revogar consentimento"})]})}function lv({isOpen:n,nextPath:e,onClose:t}){return T.useEffect(()=>{if(!n)return;const r=i=>{i.key==="Escape"&&t()};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[n,t]),n?g.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black/45 p-4 sm:items-center",role:"dialog","aria-modal":"true",onClick:t,children:g.jsxs("div",{className:"w-full max-w-3xl rounded-2xl border border-zinc-200/80 bg-background-light p-4 shadow-2xl dark:border-zinc-800/80 dark:bg-background-dark",onClick:r=>r.stopPropagation(),children:[g.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[g.jsx("h2",{className:"text-base font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Formulario de opiniao"}),g.jsx("button",{type:"button",onClick:t,className:"flex h-9 w-9 items-center justify-center rounded-lg text-text-light-secondary hover:bg-zinc-100 dark:text-text-dark-secondary dark:hover:bg-zinc-800","aria-label":"Fechar",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),g.jsx(Yd,{as:"div",nextPath:e,onNavigate:t,className:"rounded-xl border border-zinc-200/80 bg-card-light p-4 dark:border-zinc-800/80 dark:bg-card-dark"})]})}):null}function ur({title:n,backTo:e="/canvas",backAriaLabel:t="Voltar",rightSlot:r}){const i=Yt(),o=Gt(),{user:l,isEnabled:u,signOut:d}=wn(),{darkMode:f,toggleDarkMode:p}=vn(),[v,x]=T.useState(!1),[b,_]=T.useState(!1),k=()=>{if(window.history.length>1){i(-1);return}i(e)},S=()=>{x(!0)},R=`${o.pathname}${o.search}`,P=u&&!!l,j=async()=>{_(!0);const{error:I}=await d();_(!1),I||i("/",{replace:!0})};return g.jsxs(g.Fragment,{children:[g.jsxs("header",{className:"sticky top-0 z-10 flex h-16 items-center border-b border-zinc-200/80 bg-background-light/85 px-4 backdrop-blur-sm dark:border-zinc-800/80 dark:bg-background-dark/85",children:[g.jsxs("div",{className:"flex w-36 items-center",children:[g.jsx("button",{type:"button",onClick:k,className:"flex h-12 w-12 items-center justify-center text-text-light-primary dark:text-text-dark-primary","aria-label":t,children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"arrow_back_ios_new"})}),g.jsx("div",{className:"h-12 w-12","aria-hidden":"true"}),g.jsx("div",{className:"h-12 w-12","aria-hidden":"true"})]}),g.jsx("h1",{className:"flex-1 text-center text-lg font-bold tracking-tight text-text-light-primary dark:text-text-dark-primary",children:n}),g.jsxs("div",{className:"flex w-36 items-center justify-end",children:[g.jsx("button",{type:"button",onClick:S,className:"flex h-12 w-12 items-center justify-center text-text-light-primary dark:text-text-dark-primary","aria-label":"Abrir formulario de opiniao",children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"rate_review"})}),g.jsx("button",{type:"button",onClick:p,className:"flex h-12 w-12 items-center justify-center text-text-light-primary dark:text-text-dark-primary","aria-label":"Alternar tema",children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:f?"light_mode":"dark_mode"})}),P&&g.jsx("button",{type:"button",onClick:j,disabled:b,className:"flex h-12 w-12 items-center justify-center text-text-light-primary disabled:opacity-60 dark:text-text-dark-primary","aria-label":"Sair da conta",children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"logout"})}),r]})]}),g.jsx(lv,{isOpen:v,nextPath:R,onClose:()=>x(!1)})]})}const Ht={title:"POR QUE O SRL CANVAS?",terminologyNote:"Nota Terminolgica: O acrnimo SRL neste framework refere-se exclusivamente a Startup Readiness Level (Nvel de Prontido da Startup), e no ao conceito de Self-Regulated Learning (Autorregulao da Aprendizagem) da psicologia educacional. A escolha e diferenciao terminolgica so detalhadas na Dissertao de Mestrado.",contextAndGap:"Contexto e Lacuna: Startups operam em ambientes de extrema incerteza. Frameworks como o Business Model Canvas (BMC) so excelentes para a gerao de hipteses, mas no medem o nvel de validao dessas hipteses. O Technology Readiness Level (TRL) foca no risco tcnico, ignorando o maior risco de uma startup: construir algo que ningum quer.",purpose:"O Propsito do SRL Canvas: O SRL Canvas foi desenvolvido como uma ferramenta visual e prtica que complementa o BMC. Enquanto o BMC  a ferramenta de gerao de hipteses, o SRL Canvas  a ferramenta de diagnstico e medio do nvel de validao dessas hipteses em 12 dimenses essenciais.",whoShouldUseTitle:"1. Quem Deve Usar Este Guia",whoShouldUseIntro:"O SRL Canvas foi desenhado para ser uma ferramenta verstil, atendendo a diferentes atores do ecossistema de inovao:",whoShouldUse:["Fundadores de Startups: Para autoavaliao, identificao de gargalos e priorizao de esforos de validao.","Aceleradoras e Incubadoras: Para diagnstico e acompanhamento do portflio, permitindo uma comparao objetiva da maturidade das startups.","Investidores Anjo e VCs: Como ferramenta de due diligence para avaliar o risco e o nvel de validao de um potencial investimento, com foco nas evidncias anexadas.","Pesquisadores e Acadmicos: Como instrumento de pesquisa para estudos sobre maturidade de startups e fatores de sucesso."],propositionTitle:"2. O que o SRL Canvas se Prope a Ser",propositionItems:["Uma ferramenta diagnstica baseada em evidncias que avalia a maturidade em nveis de 1 a 9.","Um instrumento que serve como bssola de aprendizado, guiando a experimentao e a tomada de deciso de empreendedores, aceleradoras, incubadoras e investidores.","Uma estrutura que adota uma abordagem market-first, onde a maturidade de mercado e cliente  o preditor mais crtico de sucesso."],propositionSummary:"Em sntese, o SRL Canvas se prope a ser uma ferramenta diagnstica baseada em evidncias. Por isso, este guia recomenda que as pontuaes do SRL sejam sempre sustentadas por evidncias concretas, detalhadas na Seo 5 (Protocolo de Evidncias).",notTitle:"O que o SRL Canvas No ",notDescription:"O SRL Canvas no substitui ferramentas de formulao estratgica (como o prprio BMC), planejamento financeiro detalhado ou modelagem jurdica. Ele funciona como um painel de diagnstico de maturidade que deve ser usado em conjunto com outras ferramentas de gesto."};function Jd({isOpen:n,onClose:e}){return T.useEffect(()=>{if(!n)return;const t=r=>{r.key==="Escape"&&e()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[n,e]),n?g.jsx("div",{className:"fixed inset-0 z-40 flex items-end justify-center bg-slate-900/55 p-4 md:items-center",role:"dialog","aria-modal":"true","aria-label":"Sobre o SRL Canvas",children:g.jsxs("div",{className:"max-h-[92vh] w-full max-w-4xl overflow-y-auto rounded-xl bg-card-light shadow-2xl dark:bg-card-dark",children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-zinc-200/80 p-4 dark:border-zinc-800/80",children:[g.jsx("h2",{className:"text-lg font-bold text-text-light-primary dark:text-text-dark-primary",children:"Sobre o SRL Canvas"}),g.jsx("button",{type:"button",className:"rounded-md p-2 text-text-light-secondary hover:bg-zinc-100 dark:text-text-dark-secondary dark:hover:bg-zinc-800",onClick:e,"aria-label":"Fechar",children:g.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),g.jsxs("div",{className:"space-y-4 p-4 md:p-6",children:[g.jsx("h3",{className:"text-base font-semibold text-text-light-primary dark:text-text-dark-primary",children:Ht.title}),g.jsx("p",{className:"text-sm text-text-light-secondary dark:text-text-dark-secondary",children:Ht.terminologyNote}),g.jsx("p",{className:"text-sm text-text-light-secondary dark:text-text-dark-secondary",children:Ht.contextAndGap}),g.jsx("p",{className:"text-sm text-text-light-secondary dark:text-text-dark-secondary",children:Ht.purpose}),g.jsxs("section",{className:"space-y-2",children:[g.jsx("h4",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:Ht.whoShouldUseTitle}),g.jsx("p",{className:"text-sm text-text-light-secondary dark:text-text-dark-secondary",children:Ht.whoShouldUseIntro}),g.jsx("ul",{className:"list-disc space-y-1 pl-5 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:Ht.whoShouldUse.map(t=>g.jsx("li",{children:t},t))})]}),g.jsxs("section",{className:"space-y-2",children:[g.jsx("h4",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:Ht.propositionTitle}),g.jsx("ul",{className:"list-disc space-y-1 pl-5 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:Ht.propositionItems.map(t=>g.jsx("li",{children:t},t))}),g.jsx("p",{className:"text-sm text-text-light-secondary dark:text-text-dark-secondary",children:Ht.propositionSummary})]}),g.jsxs("section",{className:"space-y-2 rounded-lg border border-zinc-200/80 bg-zinc-50 p-3 dark:border-zinc-800/80 dark:bg-zinc-800/60",children:[g.jsx("h4",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:Ht.notTitle}),g.jsx("p",{className:"text-sm text-text-light-secondary dark:text-text-dark-secondary",children:Ht.notDescription})]})]}),g.jsx("div",{className:"flex justify-end border-t border-zinc-200/80 p-4 dark:border-zinc-800/80",children:g.jsx("button",{type:"button",className:"rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white hover:brightness-110",onClick:e,children:"Fechar"})})]})}):null}const JS="flex flex-col items-center justify-center gap-1 text-center text-xs font-medium transition",Fo=({isActive:n})=>`${JS} ${n?"text-primary":"text-text-light-secondary dark:text-text-dark-secondary"}`;function Dn(){return g.jsxs("footer",{className:"fixed bottom-0 left-0 right-0 z-10 grid h-24 grid-cols-4 items-center border-t border-zinc-200/80 bg-background-light/95 px-2 pb-6 pt-2 backdrop-blur-sm dark:border-zinc-800/80 dark:bg-background-dark/95",children:[g.jsxs(Ui,{className:Fo,to:"/dashboard",children:[g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"grid_view"}),g.jsx("span",{children:"Dashboard"})]}),g.jsxs(Ui,{className:Fo,to:"/canvas",children:[g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"style"}),g.jsx("span",{children:"Meu SRL Canvas"})]}),g.jsxs(Ui,{className:Fo,to:"/canvas/new",children:[g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"add_circle"}),g.jsx("span",{children:"Novo SRL Canvas"})]}),g.jsxs(Ui,{className:Fo,to:"/account",children:[g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"account_circle"}),g.jsx("span",{children:"Minha Conta"})]})]})}function QS(){const{darkMode:n,toggleDarkMode:e}=vn(),{user:t,isEnabled:r,signOut:i}=wn(),[o,l]=T.useState(!1),u=Yt(),d=async()=>{const{error:f}=await i();f||u("/",{replace:!0})};return g.jsxs("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden bg-background-light font-display dark:bg-background-dark",children:[g.jsx(ur,{title:"Minha Conta"}),g.jsxs("main",{className:"flex-grow space-y-4 px-4 pb-28 pt-6",children:[g.jsxs("section",{className:"rounded-xl border border-zinc-200/80 bg-card-light p-4 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsx("h2",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Tema"}),g.jsxs("button",{className:"mt-3 rounded-lg border border-zinc-300 px-4 py-2 text-sm font-semibold text-text-light-secondary hover:bg-zinc-100 dark:border-zinc-700 dark:text-text-dark-secondary dark:hover:bg-zinc-800",onClick:e,type:"button",children:["Alternar para modo ",n?"claro":"escuro"]})]}),g.jsxs("section",{className:"rounded-xl border border-zinc-200/80 bg-card-light p-4 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsx("h2",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Autenticacao"}),!r&&g.jsx("p",{className:"mt-2 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:"Supabase nao configurado. O app esta em modo local/visitante."}),r&&t&&g.jsxs("div",{className:"mt-2 space-y-3",children:[g.jsxs("p",{className:"text-sm text-text-light-secondary dark:text-text-dark-secondary",children:["Logado como ",g.jsx("strong",{children:t.email})]}),g.jsx("button",{className:"rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white hover:brightness-110",onClick:d,type:"button",children:"Sair"})]}),r&&!t&&g.jsxs("div",{className:"mt-2 flex gap-2",children:[g.jsx(xn,{className:"rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white hover:brightness-110",to:"/auth/login",children:"Entrar"}),g.jsx(xn,{className:"rounded-lg border border-zinc-300 px-4 py-2 text-sm font-semibold text-text-light-secondary hover:bg-zinc-100 dark:border-zinc-700 dark:text-text-dark-secondary dark:hover:bg-zinc-800",to:"/auth/signup",children:"Criar conta"})]})]}),g.jsxs("section",{className:"rounded-xl border border-zinc-200/80 bg-card-light p-4 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsx("h2",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Sobre o Projeto"}),g.jsxs("p",{className:"mt-2 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:["O nome oficial da ferramenta  ",g.jsx("strong",{children:"SRL Canvas (Startup Readiness Level Canvas)"}),". Aqui voc encontra o contexto, propsito e pblico-alvo do framework."]}),g.jsx("button",{type:"button",onClick:()=>l(!0),className:"mt-3 rounded-lg border border-zinc-300 px-4 py-2 text-sm font-semibold text-text-light-secondary hover:bg-zinc-100 dark:border-zinc-700 dark:text-text-dark-secondary dark:hover:bg-zinc-800",children:"Ler: Por que o SRL Canvas?"})]}),g.jsx(Yd,{nextPath:"/account"})]}),g.jsx(Dn,{}),g.jsx(Jd,{isOpen:o,onClose:()=>l(!1)})]})}function XS({block:n,value:e,onClose:t,onSave:r}){const[i,o]=T.useState(e.notes),[l,u]=T.useState(e.evidence),[d,f]=T.useState(e.score??1);T.useEffect(()=>{const b=_=>{_.key==="Escape"&&t()};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[t]);const p=T.useMemo(()=>n.levels.find(b=>b.level===d),[n.levels,d]),v=()=>{r({score:d,notes:i.trim(),evidence:l.trim()})},x=d>3&&l.trim().length===0;return g.jsx("div",{className:"fixed inset-0 z-40 flex items-end justify-center bg-slate-900/55 p-4 md:items-center",role:"dialog","aria-modal":"true","aria-label":`Editar bloco ${n.name}`,children:g.jsxs("div",{className:"max-h-[92vh] w-full max-w-3xl overflow-y-auto rounded-xl bg-card-light shadow-2xl dark:bg-card-dark",children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-zinc-200/80 p-4 dark:border-zinc-800/80",children:[g.jsxs("h2",{className:"text-lg font-bold text-text-light-primary dark:text-text-dark-primary",children:[n.id,". ",n.name]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{type:"button",className:"inline-flex items-center gap-1 rounded-md bg-primary px-3 py-1.5 text-xs font-semibold text-white hover:brightness-110",onClick:v,children:[g.jsx("span",{className:"material-symbols-outlined text-sm","aria-hidden":"true",children:"save"}),"Salvar"]}),g.jsx("button",{type:"button",className:"rounded-md p-2 text-text-light-secondary hover:bg-zinc-100 dark:text-text-dark-secondary dark:hover:bg-zinc-800",onClick:t,"aria-label":"Fechar",children:g.jsx("span",{className:"material-symbols-outlined",children:"close"})})]})]}),g.jsxs("div",{className:"space-y-5 p-4 md:p-6",children:[g.jsxs("section",{children:[g.jsx("p",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Objetivo"}),g.jsx("p",{className:"mt-1 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:n.objective}),g.jsx("ul",{className:"mt-2 list-disc space-y-1 pl-5 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:n.questions.map(b=>g.jsx("li",{children:b},b))})]}),g.jsxs("section",{children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Nivel de maturidade"}),g.jsxs("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold text-primary dark:bg-primary/20",children:["Nivel ",d,"/9"]})]}),g.jsx("input",{type:"range",min:1,max:9,step:1,value:d,onChange:b=>f(Number(b.target.value)),className:"mt-3 h-2 w-full cursor-pointer appearance-none rounded-lg bg-zinc-200 dark:bg-zinc-700"}),g.jsx("div",{className:"mt-3 grid grid-cols-9 gap-1",children:Array.from({length:9},(b,_)=>_+1).map(b=>g.jsx("button",{type:"button",className:`rounded-md border px-2 py-1 text-xs font-semibold transition ${d===b?"border-primary bg-primary text-white":"border-zinc-300 text-text-light-secondary hover:border-primary dark:border-zinc-700 dark:text-text-dark-secondary"}`,onClick:()=>f(b),children:b},b))}),p&&g.jsxs("div",{className:"mt-4 rounded-lg border border-primary/25 bg-primary/5 p-4 dark:border-primary/35 dark:bg-primary/10",children:[g.jsxs("p",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:["Descricao do nivel ",p.level]}),g.jsx("p",{className:"mt-1 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:p.description}),g.jsxs("p",{className:"mt-3 text-xs text-text-light-secondary dark:text-text-dark-secondary",children:[g.jsx("strong",{children:"Evidencia sugerida:"})," ",p.evidence]})]}),x&&g.jsx("p",{className:"mt-4 rounded-lg border border-amber-200 bg-amber-50 p-3 text-xs text-amber-800 dark:border-amber-700/40 dark:bg-amber-900/20 dark:text-amber-300",children:"Regra pratica do guia: evite notas acima de 3 sem registrar evidencia minima."})]}),n.exampleTips&&n.exampleTips.length>0&&g.jsxs("section",{className:"rounded-lg border border-zinc-200/80 bg-zinc-50 p-4 dark:border-zinc-800/80 dark:bg-zinc-800/60",children:[g.jsx("p",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Dicas de Exemplos:"}),g.jsx("ul",{className:"mt-2 list-disc space-y-1 pl-5 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:n.exampleTips.map(b=>g.jsx("li",{children:b},b))})]}),g.jsxs("label",{className:"block",children:[g.jsx("span",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Evidencias"}),g.jsx("textarea",{value:l,onChange:b=>u(b.target.value),rows:4,placeholder:"Inclua links, metricas, entrevistas ou documentos que sustentem a nota.",className:"mt-2 w-full rounded-lg border-zinc-300 bg-zinc-50 p-3 text-sm text-text-light-primary focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary"})]}),g.jsxs("label",{className:"block",children:[g.jsx("span",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Notas do bloco"}),g.jsx("textarea",{value:i,onChange:b=>o(b.target.value),rows:4,placeholder:"Descreva a situacao atual deste bloco...",className:"mt-2 w-full rounded-lg border-zinc-300 bg-zinc-50 p-3 text-sm text-text-light-primary focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary"})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 border-t border-zinc-200/80 p-4 dark:border-zinc-800/80",children:[g.jsx("button",{type:"button",className:"rounded-lg border border-zinc-300 px-4 py-2 text-sm font-semibold text-text-light-secondary hover:bg-zinc-100 dark:border-zinc-700 dark:text-text-dark-secondary dark:hover:bg-zinc-800",onClick:t,children:"Cancelar"}),g.jsxs("button",{type:"button",className:"inline-flex items-center gap-1 rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white hover:brightness-110",onClick:v,children:[g.jsx("span",{className:"material-symbols-outlined text-base","aria-hidden":"true",children:"save"}),"Salvar"]})]})]})})}function ZS({group:n,onClose:e}){return T.useEffect(()=>{const t=r=>{r.key==="Escape"&&e()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e]),g.jsx("div",{className:"fixed inset-0 z-40 flex items-end justify-center bg-slate-900/55 p-4 md:items-center",role:"dialog","aria-modal":"true","aria-label":`Detalhamento do agrupamento ${n.name}`,children:g.jsxs("div",{className:"w-full max-w-2xl rounded-xl bg-card-light shadow-2xl dark:bg-card-dark",children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-zinc-200/80 p-4 dark:border-zinc-800/80",children:[g.jsx("h2",{className:"text-lg font-bold text-text-light-primary dark:text-text-dark-primary",children:"Detalhamento do Agrupamento"}),g.jsx("button",{type:"button",className:"rounded-md p-2 text-text-light-secondary hover:bg-zinc-100 dark:text-text-dark-secondary dark:hover:bg-zinc-800",onClick:e,"aria-label":"Fechar",children:g.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),g.jsxs("div",{className:"space-y-4 p-4 md:p-6",children:[g.jsx("p",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:n.detailTitle}),g.jsxs("div",{className:"space-y-3 rounded-lg border border-zinc-200/80 bg-zinc-50 p-4 dark:border-zinc-800/80 dark:bg-zinc-800/60",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-text-light-secondary dark:text-text-dark-secondary",children:"Agrupamento"}),g.jsx("p",{className:"mt-1 text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:n.detailTitle})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-text-light-secondary dark:text-text-dark-secondary",children:"Foco Conceitual"}),g.jsx("p",{className:"mt-1 text-sm text-text-light-primary dark:text-text-dark-primary",children:n.conceptualFocus})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-text-light-secondary dark:text-text-dark-secondary",children:"Blocos Includos"}),g.jsx("p",{className:"mt-1 text-sm text-text-light-primary dark:text-text-dark-primary",children:n.includedBlocks})]})]})]}),g.jsx("div",{className:"flex justify-end border-t border-zinc-200/80 p-4 dark:border-zinc-800/80",children:g.jsx("button",{type:"button",className:"rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white hover:brightness-110",onClick:e,children:"Fechar"})})]})})}const eC="modulepreload",tC=function(n){return"/"+n},qm={},Ku=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let l=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(t.map(f=>{if(f=tC(f),f in qm)return;qm[f]=!0;const p=f.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":eC,p||(x.as="script"),x.crossOrigin="",x.href=f,d&&x.setAttribute("nonce",d),document.head.appendChild(x),p)return new Promise((b,_)=>{x.addEventListener("load",b),x.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ya(n){return n+.5|0}const dr=(n,e,t)=>Math.max(Math.min(n,t),e);function Wi(n){return dr(ya(n*2.55),0,255)}function mr(n){return dr(ya(n*255),0,255)}function In(n){return dr(ya(n/2.55)/100,0,1)}function Km(n){return dr(ya(n*100),0,100)}const qt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_d=[..."0123456789ABCDEF"],nC=n=>_d[n&15],rC=n=>_d[(n&240)>>4]+_d[n&15],$o=n=>(n&240)>>4===(n&15),sC=n=>$o(n.r)&&$o(n.g)&&$o(n.b)&&$o(n.a);function iC(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&qt[n[1]]*17,g:255&qt[n[2]]*17,b:255&qt[n[3]]*17,a:e===5?qt[n[4]]*17:255}:(e===7||e===9)&&(t={r:qt[n[1]]<<4|qt[n[2]],g:qt[n[3]]<<4|qt[n[4]],b:qt[n[5]]<<4|qt[n[6]],a:e===9?qt[n[7]]<<4|qt[n[8]]:255})),t}const aC=(n,e)=>n<255?e(n):"";function oC(n){var e=sC(n)?nC:rC;return n?"#"+e(n.r)+e(n.g)+e(n.b)+aC(n.a,e):void 0}const lC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function cv(n,e,t){const r=e*Math.min(t,1-t),i=(o,l=(o+n/30)%12)=>t-r*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function cC(n,e,t){const r=(i,o=(i+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function uC(n,e,t){const r=cv(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function dC(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function Qd(n){const t=n.r/255,r=n.g/255,i=n.b/255,o=Math.max(t,r,i),l=Math.min(t,r,i),u=(o+l)/2;let d,f,p;return o!==l&&(p=o-l,f=u>.5?p/(2-o-l):p/(o+l),d=dC(t,r,i,p,o),d=d*60+.5),[d|0,f||0,u]}function Xd(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(mr)}function Zd(n,e,t){return Xd(cv,n,e,t)}function hC(n,e,t){return Xd(uC,n,e,t)}function fC(n,e,t){return Xd(cC,n,e,t)}function uv(n){return(n%360+360)%360}function pC(n){const e=lC.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Wi(+e[5]):mr(+e[5]));const i=uv(+e[2]),o=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=hC(i,o,l):e[1]==="hsv"?r=fC(i,o,l):r=Zd(i,o,l),{r:r[0],g:r[1],b:r[2],a:t}}function mC(n,e){var t=Qd(n);t[0]=uv(t[0]+e),t=Zd(t),n.r=t[0],n.g=t[1],n.b=t[2]}function gC(n){if(!n)return;const e=Qd(n),t=e[0],r=Km(e[1]),i=Km(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${In(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const Gm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ym={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function yC(){const n={},e=Object.keys(Ym),t=Object.keys(Gm);let r,i,o,l,u;for(r=0;r<e.length;r++){for(l=u=e[r],i=0;i<t.length;i++)o=t[i],u=u.replace(o,Gm[o]);o=parseInt(Ym[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let Uo;function vC(n){Uo||(Uo=yC(),Uo.transparent=[0,0,0,0]);const e=Uo[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const xC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function bC(n){const e=xC.exec(n);let t=255,r,i,o;if(e){if(e[7]!==r){const l=+e[7];t=e[8]?Wi(l):dr(l*255,0,255)}return r=+e[1],i=+e[3],o=+e[5],r=255&(e[2]?Wi(r):dr(r,0,255)),i=255&(e[4]?Wi(i):dr(i,0,255)),o=255&(e[6]?Wi(o):dr(o,0,255)),{r,g:i,b:o,a:t}}}function wC(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${In(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Gu=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Rs=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function _C(n,e,t){const r=Rs(In(n.r)),i=Rs(In(n.g)),o=Rs(In(n.b));return{r:mr(Gu(r+t*(Rs(In(e.r))-r))),g:mr(Gu(i+t*(Rs(In(e.g))-i))),b:mr(Gu(o+t*(Rs(In(e.b))-o))),a:n.a+t*(e.a-n.a)}}function Bo(n,e,t){if(n){let r=Qd(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=Zd(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function dv(n,e){return n&&Object.assign(e||{},n)}function Jm(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=mr(n[3]))):(e=dv(n,{r:0,g:0,b:0,a:1}),e.a=mr(e.a)),e}function kC(n){return n.charAt(0)==="r"?bC(n):pC(n)}class ua{constructor(e){if(e instanceof ua)return e;const t=typeof e;let r;t==="object"?r=Jm(e):t==="string"&&(r=iC(e)||vC(e)||kC(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=dv(this._rgb);return e&&(e.a=In(e.a)),e}set rgb(e){this._rgb=Jm(e)}rgbString(){return this._valid?wC(this._rgb):void 0}hexString(){return this._valid?oC(this._rgb):void 0}hslString(){return this._valid?gC(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let o;const l=t===o?.5:t,u=2*l-1,d=r.a-i.a,f=((u*d===-1?u:(u+d)/(1+u*d))+1)/2;o=1-f,r.r=255&f*r.r+o*i.r+.5,r.g=255&f*r.g+o*i.g+.5,r.b=255&f*r.b+o*i.b+.5,r.a=l*r.a+(1-l)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=_C(this._rgb,e._rgb,t)),this}clone(){return new ua(this.rgb)}alpha(e){return this._rgb.a=mr(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=ya(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Bo(this._rgb,2,e),this}darken(e){return Bo(this._rgb,2,-e),this}saturate(e){return Bo(this._rgb,1,e),this}desaturate(e){return Bo(this._rgb,1,-e),this}rotate(e){return mC(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function On(){}const SC=(()=>{let n=0;return()=>n++})();function Ne(n){return n==null}function Ve(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function be(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function dt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function mn(n,e){return dt(n)?n:e}function xe(n,e){return typeof n>"u"?e:n}const CC=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Te(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Ee(n,e,t,r){let i,o,l;if(Ve(n))for(o=n.length,i=0;i<o;i++)e.call(t,n[i],i);else if(be(n))for(l=Object.keys(n),o=l.length,i=0;i<o;i++)e.call(t,n[l[i]],l[i])}function fl(n,e){let t,r,i,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],o=e[t],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function pl(n){if(Ve(n))return n.map(pl);if(be(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=pl(n[t[i]]);return e}return n}function hv(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function EC(n,e,t,r){if(!hv(n))return;const i=e[n],o=t[n];be(i)&&be(o)?da(i,o,r):e[n]=pl(o)}function da(n,e,t){const r=Ve(e)?e:[e],i=r.length;if(!be(n))return n;t=t||{};const o=t.merger||EC;let l;for(let u=0;u<i;++u){if(l=r[u],!be(l))continue;const d=Object.keys(l);for(let f=0,p=d.length;f<p;++f)o(d[f],n,l,t)}return n}function Ji(n,e){return da(n,e,{merger:RC})}function RC(n,e,t){if(!hv(n))return;const r=e[n],i=t[n];be(r)&&be(i)?Ji(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=pl(i))}const Qm={"":n=>n,x:n=>n.x,y:n=>n.y};function PC(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function jC(n){const e=PC(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function ha(n,e){return(Qm[e]||(Qm[e]=jC(e)))(n)}function eh(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ml=n=>typeof n<"u",gr=n=>typeof n=="function",Xm=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function TC(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const tt=Math.PI,Lt=2*tt,OC=Lt+tt,gl=Number.POSITIVE_INFINITY,AC=tt/180,Nt=tt/2,Lr=tt/4,Zm=tt*2/3,fv=Math.log10,Fs=Math.sign;function Qi(n,e,t){return Math.abs(n-e)<t}function eg(n){const e=Math.round(n);n=Qi(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(fv(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function NC(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,o)=>i-o).pop(),e}function LC(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function yl(n){return!LC(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function IC(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function DC(n,e,t){let r,i,o;for(r=0,i=n.length;r<i;r++)o=n[r][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Wr(n){return n*(tt/180)}function th(n){return n*(180/tt)}function tg(n){if(!dt(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function MC(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let o=Math.atan2(r,t);return o<-.5*tt&&(o+=Lt),{angle:o,distance:i}}function kd(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function zC(n,e){return(n-e+OC)%Lt-tt}function Ot(n){return(n%Lt+Lt)%Lt}function pv(n,e,t,r){const i=Ot(n),o=Ot(e),l=Ot(t),u=Ot(o-i),d=Ot(l-i),f=Ot(i-o),p=Ot(i-l);return i===o||i===l||r&&o===l||u>d&&f<p}function Mn(n,e,t){return Math.max(e,Math.min(t,n))}function FC(n){return Mn(n,-32768,32767)}function Ls(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function nh(n,e,t){t=t||(l=>n[l]<e);let r=n.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,t(o)?i=o:r=o;return{lo:i,hi:r}}const Sd=(n,e,t,r)=>nh(n,t,r?i=>{const o=n[i][e];return o<t||o===t&&n[i+1][e]===t}:i=>n[i][e]<t),$C=(n,e,t)=>nh(n,t,r=>n[r][e]>=t);function UC(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const mv=["push","pop","shift","splice","unshift"];function BC(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),mv.forEach(t=>{const r="_onData"+eh(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const l=i.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[r]=="function"&&u[r](...o)}),l}})})}function ng(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(mv.forEach(o=>{delete n[o]}),delete n._chartjs)}function VC(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const gv=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function yv(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,gv.call(window,()=>{r=!1,n.apply(e,t)}))}}function WC(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const vv=n=>n==="start"?"left":n==="end"?"right":"center",Tt=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,HC=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e,Vo=n=>n===0||n===1,rg=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Lt/t)),sg=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Lt/t)+1,Xi={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Nt)+1,easeOutSine:n=>Math.sin(n*Nt),easeInOutSine:n=>-.5*(Math.cos(tt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Vo(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Vo(n)?n:rg(n,.075,.3),easeOutElastic:n=>Vo(n)?n:sg(n,.075,.3),easeInOutElastic(n){return Vo(n)?n:n<.5?.5*rg(n*2,.1125,.45):.5+.5*sg(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Xi.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Xi.easeInBounce(n*2)*.5:Xi.easeOutBounce(n*2-1)*.5+.5};function rh(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ig(n){return rh(n)?n:new ua(n)}function Yu(n){return rh(n)?n:new ua(n).saturate(.5).darken(.1).hexString()}const qC=["x","y","borderWidth","radius","tension"],KC=["color","borderColor","backgroundColor"];function GC(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:KC},numbers:{type:"number",properties:qC}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function YC(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ag=new Map;function JC(n,e){e=e||{};const t=n+JSON.stringify(e);let r=ag.get(t);return r||(r=new Intl.NumberFormat(n,e),ag.set(t,r)),r}function xv(n,e,t){return JC(e,t).format(n)}const QC={values(n){return Ve(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,o=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(i="scientific"),o=XC(n,t)}const l=fv(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:i,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(d,this.options.ticks.format),xv(n,r,d)}};function XC(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var bv={formatters:QC};function ZC(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:bv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Gr=Object.create(null),Cd=Object.create(null);function Zi(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const o=t[r];n=n[o]||(n[o]=Object.create(null))}return n}function Ju(n,e,t){return typeof e=="string"?da(Zi(n,e),t):da(Zi(n,""),e)}class eE{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Yu(i.backgroundColor),this.hoverBorderColor=(r,i)=>Yu(i.borderColor),this.hoverColor=(r,i)=>Yu(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Ju(this,e,t)}get(e){return Zi(this,e)}describe(e,t){return Ju(Cd,e,t)}override(e,t){return Ju(Gr,e,t)}route(e,t,r,i){const o=Zi(this,e),l=Zi(this,r),u="_"+t;Object.defineProperties(o,{[u]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[u],f=l[i];return be(d)?Object.assign({},f,d):xe(d,f)},set(d){this[u]=d}}})}apply(e){e.forEach(t=>t(this))}}var We=new eE({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[GC,YC,ZC]);function tE(n){return!n||Ne(n.size)||Ne(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function vl(n,e,t,r,i){let o=e[i];return o||(o=e[i]=n.measureText(i).width,t.push(i)),o>r&&(r=o),r}function nE(n,e,t,r){r=r||{};let i=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),n.save(),n.font=e;let l=0;const u=t.length;let d,f,p,v,x;for(d=0;d<u;d++)if(v=t[d],v!=null&&!Ve(v))l=vl(n,i,o,l,v);else if(Ve(v))for(f=0,p=v.length;f<p;f++)x=v[f],x!=null&&!Ve(x)&&(l=vl(n,i,o,l,x));n.restore();const b=o.length/2;if(b>t.length){for(d=0;d<b;d++)delete i[o[d]];o.splice(0,b)}return l}function Ir(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function og(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Ed(n,e,t,r){wv(n,e,t,r,null)}function wv(n,e,t,r,i){let o,l,u,d,f,p,v,x;const b=e.pointStyle,_=e.rotation,k=e.radius;let S=(_||0)*AC;if(b&&typeof b=="object"&&(o=b.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(S),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),n.restore();return}if(!(isNaN(k)||k<=0)){switch(n.beginPath(),b){default:i?n.ellipse(t,r,i/2,k,0,0,Lt):n.arc(t,r,k,0,Lt),n.closePath();break;case"triangle":p=i?i/2:k,n.moveTo(t+Math.sin(S)*p,r-Math.cos(S)*k),S+=Zm,n.lineTo(t+Math.sin(S)*p,r-Math.cos(S)*k),S+=Zm,n.lineTo(t+Math.sin(S)*p,r-Math.cos(S)*k),n.closePath();break;case"rectRounded":f=k*.516,d=k-f,l=Math.cos(S+Lr)*d,v=Math.cos(S+Lr)*(i?i/2-f:d),u=Math.sin(S+Lr)*d,x=Math.sin(S+Lr)*(i?i/2-f:d),n.arc(t-v,r-u,f,S-tt,S-Nt),n.arc(t+x,r-l,f,S-Nt,S),n.arc(t+v,r+u,f,S,S+Nt),n.arc(t-x,r+l,f,S+Nt,S+tt),n.closePath();break;case"rect":if(!_){d=Math.SQRT1_2*k,p=i?i/2:d,n.rect(t-p,r-d,2*p,2*d);break}S+=Lr;case"rectRot":v=Math.cos(S)*(i?i/2:k),l=Math.cos(S)*k,u=Math.sin(S)*k,x=Math.sin(S)*(i?i/2:k),n.moveTo(t-v,r-u),n.lineTo(t+x,r-l),n.lineTo(t+v,r+u),n.lineTo(t-x,r+l),n.closePath();break;case"crossRot":S+=Lr;case"cross":v=Math.cos(S)*(i?i/2:k),l=Math.cos(S)*k,u=Math.sin(S)*k,x=Math.sin(S)*(i?i/2:k),n.moveTo(t-v,r-u),n.lineTo(t+v,r+u),n.moveTo(t+x,r-l),n.lineTo(t-x,r+l);break;case"star":v=Math.cos(S)*(i?i/2:k),l=Math.cos(S)*k,u=Math.sin(S)*k,x=Math.sin(S)*(i?i/2:k),n.moveTo(t-v,r-u),n.lineTo(t+v,r+u),n.moveTo(t+x,r-l),n.lineTo(t-x,r+l),S+=Lr,v=Math.cos(S)*(i?i/2:k),l=Math.cos(S)*k,u=Math.sin(S)*k,x=Math.sin(S)*(i?i/2:k),n.moveTo(t-v,r-u),n.lineTo(t+v,r+u),n.moveTo(t+x,r-l),n.lineTo(t-x,r+l);break;case"line":l=i?i/2:Math.cos(S)*k,u=Math.sin(S)*k,n.moveTo(t-l,r-u),n.lineTo(t+l,r+u);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(S)*(i?i/2:k),r+Math.sin(S)*k);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function zn(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Tl(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Ol(n){n.restore()}function rE(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const o=(e.x+t.x)/2;n.lineTo(o,e.y),n.lineTo(o,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function sE(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function iE(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Ne(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function aE(n,e,t,r,i){if(i.strikethrough||i.underline){const o=n.measureText(r),l=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,d=t-o.actualBoundingBoxAscent,f=t+o.actualBoundingBoxDescent,p=i.strikethrough?(d+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function oE(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function $s(n,e,t,r,i,o={}){const l=Ve(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let d,f;for(n.save(),n.font=i.string,iE(n,o),d=0;d<l.length;++d)f=l[d],o.backdrop&&oE(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Ne(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(f,t,r,o.maxWidth)),n.fillText(f,t,r,o.maxWidth),aE(n,t,r,f,o),r+=Number(i.lineHeight);n.restore()}function xl(n,e){const{x:t,y:r,w:i,h:o,radius:l}=e;n.arc(t+l.topLeft,r+l.topLeft,l.topLeft,1.5*tt,tt,!0),n.lineTo(t,r+o-l.bottomLeft),n.arc(t+l.bottomLeft,r+o-l.bottomLeft,l.bottomLeft,tt,Nt,!0),n.lineTo(t+i-l.bottomRight,r+o),n.arc(t+i-l.bottomRight,r+o-l.bottomRight,l.bottomRight,Nt,0,!0),n.lineTo(t+i,r+l.topRight),n.arc(t+i-l.topRight,r+l.topRight,l.topRight,0,-Nt,!0),n.lineTo(t+l.topLeft,r)}const lE=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,cE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function uE(n,e){const t=(""+n).match(lE);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const dE=n=>+n||0;function _v(n,e){const t={},r=be(e),i=r?Object.keys(e):e,o=be(n)?r?l=>xe(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of i)t[l]=dE(o(l));return t}function hE(n){return _v(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ds(n){return _v(n,["topLeft","topRight","bottomLeft","bottomRight"])}function mt(n){const e=hE(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function at(n,e){n=n||{},e=e||We.font;let t=xe(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=xe(n.style,e.style);r&&!(""+r).match(cE)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:xe(n.family,e.family),lineHeight:uE(xe(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:xe(n.weight,e.weight),string:""};return i.string=tE(i),i}function Wo(n,e,t,r){let i,o,l;for(i=0,o=n.length;i<o;++i)if(l=n[i],l!==void 0&&l!==void 0)return l}function fE(n,e,t){const{min:r,max:i}=n,o=CC(e,(i-r)/2),l=(u,d)=>t&&u===0?0:u+d;return{min:l(r,-Math.abs(o)),max:l(i,o)}}function vr(n,e){return Object.assign(Object.create(n),e)}function sh(n,e=[""],t,r,i=()=>n[0]){const o=t||n;typeof r>"u"&&(r=Ev("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:r,_getTarget:i,override:u=>sh([u,...n],e,o,r)};return new Proxy(l,{deleteProperty(u,d){return delete u[d],delete u._keys,delete n[0][d],!0},get(u,d){return Sv(u,d,()=>wE(d,e,n,u))},getOwnPropertyDescriptor(u,d){return Reflect.getOwnPropertyDescriptor(u._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,d){return cg(u).includes(d)},ownKeys(u){return cg(u)},set(u,d,f){const p=u._storage||(u._storage=i());return u[d]=p[d]=f,delete u._keys,!0}})}function Us(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:kv(n,r),setContext:o=>Us(n,o,t,r),override:o=>Us(n.override(o),e,t,r)};return new Proxy(i,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return Sv(o,l,()=>mE(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function kv(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:gr(t)?t:()=>t,isIndexable:gr(r)?r:()=>r}}const pE=(n,e)=>n?n+eh(e):e,ih=(n,e)=>be(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Sv(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function mE(n,e,t){const{_proxy:r,_context:i,_subProxy:o,_descriptors:l}=n;let u=r[e];return gr(u)&&l.isScriptable(e)&&(u=gE(e,u,n,t)),Ve(u)&&u.length&&(u=yE(e,u,n,l.isIndexable)),ih(e,u)&&(u=Us(u,i,o&&o[e],l)),u}function gE(n,e,t,r){const{_proxy:i,_context:o,_subProxy:l,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let d=e(o,l||r);return u.delete(n),ih(n,d)&&(d=ah(i._scopes,i,n,d)),d}function yE(n,e,t,r){const{_proxy:i,_context:o,_subProxy:l,_descriptors:u}=t;if(typeof o.index<"u"&&r(n))return e[o.index%e.length];if(be(e[0])){const d=e,f=i._scopes.filter(p=>p!==d);e=[];for(const p of d){const v=ah(f,i,n,p);e.push(Us(v,o,l&&l[n],u))}}return e}function Cv(n,e,t){return gr(n)?n(e,t):n}const vE=(n,e)=>n===!0?e:typeof n=="string"?ha(e,n):void 0;function xE(n,e,t,r,i){for(const o of e){const l=vE(t,o);if(l){n.add(l);const u=Cv(l._fallback,t,i);if(typeof u<"u"&&u!==t&&u!==r)return u}else if(l===!1&&typeof r<"u"&&t!==r)return null}return!1}function ah(n,e,t,r){const i=e._rootScopes,o=Cv(e._fallback,t,r),l=[...n,...i],u=new Set;u.add(r);let d=lg(u,l,t,o||t,r);return d===null||typeof o<"u"&&o!==t&&(d=lg(u,l,o,d,r),d===null)?!1:sh(Array.from(u),[""],i,o,()=>bE(e,t,r))}function lg(n,e,t,r,i){for(;t;)t=xE(n,e,t,r,i);return t}function bE(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return Ve(i)&&be(t)?t:i||{}}function wE(n,e,t,r){let i;for(const o of e)if(i=Ev(pE(o,n),t),typeof i<"u")return ih(n,i)?ah(t,r,n,i):i}function Ev(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function cg(n){let e=n._keys;return e||(e=n._keys=_E(n._scopes)),e}function _E(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function kE(n,e,t,r){const{iScale:i}=n,{key:o="r"}=this._parsing,l=new Array(r);let u,d,f,p;for(u=0,d=r;u<d;++u)f=u+t,p=e[f],l[u]={r:i.parse(ha(p,o),f)};return l}const SE=Number.EPSILON||1e-14,Bs=(n,e)=>e<n.length&&!n[e].skip&&n[e],Rv=n=>n==="x"?"y":"x";function CE(n,e,t,r){const i=n.skip?e:n,o=e,l=t.skip?e:t,u=kd(o,i),d=kd(l,o);let f=u/(u+d),p=d/(u+d);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const v=r*f,x=r*p;return{previous:{x:o.x-v*(l.x-i.x),y:o.y-v*(l.y-i.y)},next:{x:o.x+x*(l.x-i.x),y:o.y+x*(l.y-i.y)}}}function EE(n,e,t){const r=n.length;let i,o,l,u,d,f=Bs(n,0);for(let p=0;p<r-1;++p)if(d=f,f=Bs(n,p+1),!(!d||!f)){if(Qi(e[p],0,SE)){t[p]=t[p+1]=0;continue}i=t[p]/e[p],o=t[p+1]/e[p],u=Math.pow(i,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),t[p]=i*l*e[p],t[p+1]=o*l*e[p])}}function RE(n,e,t="x"){const r=Rv(t),i=n.length;let o,l,u,d=Bs(n,0);for(let f=0;f<i;++f){if(l=u,u=d,d=Bs(n,f+1),!u)continue;const p=u[t],v=u[r];l&&(o=(p-l[t])/3,u[`cp1${t}`]=p-o,u[`cp1${r}`]=v-o*e[f]),d&&(o=(d[t]-p)/3,u[`cp2${t}`]=p+o,u[`cp2${r}`]=v+o*e[f])}}function PE(n,e="x"){const t=Rv(e),r=n.length,i=Array(r).fill(0),o=Array(r);let l,u,d,f=Bs(n,0);for(l=0;l<r;++l)if(u=d,d=f,f=Bs(n,l+1),!!d){if(f){const p=f[e]-d[e];i[l]=p!==0?(f[t]-d[t])/p:0}o[l]=u?f?Fs(i[l-1])!==Fs(i[l])?0:(i[l-1]+i[l])/2:i[l-1]:i[l]}EE(n,i,o),RE(n,o,e)}function Ho(n,e,t){return Math.max(Math.min(n,t),e)}function jE(n,e){let t,r,i,o,l,u=zn(n[0],e);for(t=0,r=n.length;t<r;++t)l=o,o=u,u=t<r-1&&zn(n[t+1],e),o&&(i=n[t],l&&(i.cp1x=Ho(i.cp1x,e.left,e.right),i.cp1y=Ho(i.cp1y,e.top,e.bottom)),u&&(i.cp2x=Ho(i.cp2x,e.left,e.right),i.cp2y=Ho(i.cp2y,e.top,e.bottom)))}function TE(n,e,t,r,i){let o,l,u,d;if(e.spanGaps&&(n=n.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")PE(n,i);else{let f=r?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)u=n[o],d=CE(f,u,n[Math.min(o+1,l-(r?0:1))%l],e.tension),u.cp1x=d.previous.x,u.cp1y=d.previous.y,u.cp2x=d.next.x,u.cp2y=d.next.y,f=u}e.capBezierPoints&&jE(n,t)}function oh(){return typeof window<"u"&&typeof document<"u"}function lh(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function bl(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const Al=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function OE(n,e){return Al(n).getPropertyValue(e)}const AE=["top","right","bottom","left"];function qr(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const o=AE[i];r[o]=parseFloat(n[e+"-"+o+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const NE=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function LE(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:o}=r;let l=!1,u,d;if(NE(i,o,n.target))u=i,d=o;else{const f=e.getBoundingClientRect();u=r.clientX-f.left,d=r.clientY-f.top,l=!0}return{x:u,y:d,box:l}}function Fr(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=Al(t),o=i.boxSizing==="border-box",l=qr(i,"padding"),u=qr(i,"border","width"),{x:d,y:f,box:p}=LE(n,t),v=l.left+(p&&u.left),x=l.top+(p&&u.top);let{width:b,height:_}=e;return o&&(b-=l.width+u.width,_-=l.height+u.height),{x:Math.round((d-v)/b*t.width/r),y:Math.round((f-x)/_*t.height/r)}}function IE(n,e,t){let r,i;if(e===void 0||t===void 0){const o=n&&lh(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const l=o.getBoundingClientRect(),u=Al(o),d=qr(u,"border","width"),f=qr(u,"padding");e=l.width-f.width-d.width,t=l.height-f.height-d.height,r=bl(u.maxWidth,o,"clientWidth"),i=bl(u.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:r||gl,maxHeight:i||gl}}const hr=n=>Math.round(n*10)/10;function DE(n,e,t,r){const i=Al(n),o=qr(i,"margin"),l=bl(i.maxWidth,n,"clientWidth")||gl,u=bl(i.maxHeight,n,"clientHeight")||gl,d=IE(n,e,t);let{width:f,height:p}=d;if(i.boxSizing==="content-box"){const x=qr(i,"border","width"),b=qr(i,"padding");f-=b.width+x.width,p-=b.height+x.height}return f=Math.max(0,f-o.width),p=Math.max(0,r?f/r:p-o.height),f=hr(Math.min(f,l,d.maxWidth)),p=hr(Math.min(p,u,d.maxHeight)),f&&!p&&(p=hr(f/2)),(e!==void 0||t!==void 0)&&r&&d.height&&p>d.height&&(p=d.height,f=hr(Math.floor(p*r))),{width:f,height:p}}function ug(n,e,t){const r=e||1,i=hr(n.height*r),o=hr(n.width*r);n.height=hr(n.height),n.width=hr(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||l.height!==i||l.width!==o?(n.currentDevicePixelRatio=r,l.height=i,l.width=o,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const ME=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};oh()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function dg(n,e){const t=OE(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function $r(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function zE(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function FE(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},l=$r(n,i,t),u=$r(i,o,t),d=$r(o,e,t),f=$r(l,u,t),p=$r(u,d,t);return $r(f,p,t)}const $E=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},UE=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Ms(n,e,t){return n?$E(e,t):UE()}function Pv(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function jv(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Tv(n){return n==="angle"?{between:pv,compare:zC,normalize:Ot}:{between:Ls,compare:(e,t)=>e-t,normalize:e=>e}}function hg({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function BE(n,e,t){const{property:r,start:i,end:o}=t,{between:l,normalize:u}=Tv(r),d=e.length;let{start:f,end:p,loop:v}=n,x,b;if(v){for(f+=d,p+=d,x=0,b=d;x<b&&l(u(e[f%d][r]),i,o);++x)f--,p--;f%=d,p%=d}return p<f&&(p+=d),{start:f,end:p,loop:v,style:n.style}}function Ov(n,e,t){if(!t)return[n];const{property:r,start:i,end:o}=t,l=e.length,{compare:u,between:d,normalize:f}=Tv(r),{start:p,end:v,loop:x,style:b}=BE(n,e,t),_=[];let k=!1,S=null,R,P,j;const I=()=>d(i,j,R)&&u(i,j)!==0,F=()=>u(o,R)===0||d(o,j,R),$=()=>k||I(),M=()=>!k||F();for(let B=p,G=p;B<=v;++B)P=e[B%l],!P.skip&&(R=f(P[r]),R!==j&&(k=d(R,i,o),S===null&&$()&&(S=u(R,i)===0?B:G),S!==null&&M()&&(_.push(hg({start:S,end:B,loop:x,count:l,style:b})),S=null),G=B,j=R));return S!==null&&_.push(hg({start:S,end:v,loop:x,count:l,style:b})),_}function Av(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const o=Ov(r[i],n.points,e);o.length&&t.push(...o)}return t}function VE(n,e,t,r){let i=0,o=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(o+=i);o>i&&n[o%e].skip;)o--;return o%=e,{start:i,end:o}}function WE(n,e,t,r){const i=n.length,o=[];let l=e,u=n[e],d;for(d=e+1;d<=t;++d){const f=n[d%i];f.skip||f.stop?u.skip||(r=!1,o.push({start:e%i,end:(d-1)%i,loop:r}),e=l=f.stop?d:null):(l=d,u.skip&&(e=d)),u=f}return l!==null&&o.push({start:e%i,end:l%i,loop:r}),o}function HE(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const o=!!n._loop,{start:l,end:u}=VE(t,i,o,r);if(r===!0)return fg(n,[{start:l,end:u,loop:o}],t,e);const d=u<l?u+i:u,f=!!n._fullLoop&&l===0&&u===i-1;return fg(n,WE(t,l,d,f),t,e)}function fg(n,e,t,r){return!r||!r.setContext||!t?e:qE(n,e,t,r)}function qE(n,e,t,r){const i=n._chart.getContext(),o=pg(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,d=t.length,f=[];let p=o,v=e[0].start,x=v;function b(_,k,S,R){const P=u?-1:1;if(_!==k){for(_+=d;t[_%d].skip;)_-=P;for(;t[k%d].skip;)k+=P;_%d!==k%d&&(f.push({start:_%d,end:k%d,loop:S,style:R}),p=R,v=k%d)}}for(const _ of e){v=u?v:_.start;let k=t[v%d],S;for(x=v+1;x<=_.end;x++){const R=t[x%d];S=pg(r.setContext(vr(i,{type:"segment",p0:k,p1:R,p0DataIndex:(x-1)%d,p1DataIndex:x%d,datasetIndex:l}))),KE(S,p)&&b(v,x-1,_.loop,p),k=R,p=S}v<x-1&&b(v,x-1,_.loop,p)}return f}function pg(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function KE(n,e){if(!e)return!1;const t=[],r=function(i,o){return rh(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function qo(n,e,t){return n.options.clip?n[t]:e[t]}function GE(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:qo(t,e,"left"),right:qo(t,e,"right"),top:qo(r,e,"top"),bottom:qo(r,e,"bottom")}:e}function Nv(n,e){const t=e._clip;if(t.disabled)return!1;const r=GE(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class YE{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const o=t.listeners[i],l=t.duration;o.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(r-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=gv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const o=r.items;let l=o.length-1,u=!1,d;for(;l>=0;--l)d=o[l],d._active?(d._total>r.duration&&(r.duration=d._total),d.tick(e),u=!0):(o[l]=o[o.length-1],o.pop());u&&(i.draw(),this._notify(i,r,e,"progress")),o.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var An=new YE;const mg="transparent",JE={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=ig(n||mg),i=r.valid&&ig(e||mg);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class QE{constructor(e,t,r,i){const o=t[r];i=Wo([e.to,i,o,e.from]);const l=Wo([e.from,o,i]);this._active=!0,this._fn=e.fn||JE[e.type||typeof l],this._easing=Xi[e.easing]||Xi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],o=r-this._start,l=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Wo([e.to,t,i,e.from]),this._from=Wo([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,o=this._from,l=this._loop,u=this._to;let d;if(this._active=o!==u&&(l||t<r),!this._active){this._target[i]=u,this._notify(!0);return}if(t<0){this._target[i]=o;return}d=t/r%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[i]=this._fn(o,u,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class Lv{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!be(e))return;const t=Object.keys(We.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const o=e[i];if(!be(o))return;const l={};for(const u of t)l[u]=o[u];(Ve(o.properties)&&o.properties||[i]).forEach(u=>{(u===i||!r.has(u))&&r.set(u,l)})})}_animateOptions(e,t){const r=t.options,i=ZE(e,r);if(!i)return[];const o=this._createAnimations(i,r);return r.$shared&&XE(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,t){const r=this._properties,i=[],o=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let d;for(d=l.length-1;d>=0;--d){const f=l[d];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(e,t));continue}const p=t[f];let v=o[f];const x=r.get(f);if(v)if(x&&v.active()){v.update(x,p,u);continue}else v.cancel();if(!x||!x.duration){e[f]=p;continue}o[f]=v=new QE(x,e,f,p),i.push(v)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return An.add(this._chart,r),!0}}function XE(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const o=n[r[i]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function ZE(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function gg(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:r?o:i,end:r?i:o}}function e1(n,e,t){if(t===!1)return!1;const r=gg(n,t),i=gg(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function t1(n){let e,t,r,i;return be(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function Iv(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)t.push(r[i].index);return t}function yg(n,e,t,r={}){const i=n.keys,o=r.mode==="single";let l,u,d,f;if(e===null)return;let p=!1;for(l=0,u=i.length;l<u;++l){if(d=+i[l],d===t){if(p=!0,r.all)continue;break}f=n.values[d],dt(f)&&(o||e===0||Fs(e)===Fs(f))&&(e+=f)}return!p&&!r.all?0:e}function n1(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let d,f,p;for(d=0,f=l.length;d<f;++d)p=l[d],u[d]={[i]:p,[o]:n[p]};return u}function Qu(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function r1(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function s1(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function i1(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function vg(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const o=n[i.index];if(t&&o>0||!t&&o<0)return i.index}return null}function xg(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:o,vScale:l,index:u}=r,d=o.axis,f=l.axis,p=r1(o,l,r),v=e.length;let x;for(let b=0;b<v;++b){const _=e[b],{[d]:k,[f]:S}=_,R=_._stacks||(_._stacks={});x=R[f]=i1(i,p,k),x[u]=S,x._top=vg(x,l,!0,r.type),x._bottom=vg(x,l,!1,r.type);const P=x._visualValues||(x._visualValues={});P[u]=S}}function Xu(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function a1(n,e){return vr(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function o1(n,e,t){return vr(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Ii(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const o=i._stacks;if(!o||o[r]===void 0||o[r][t]===void 0)return;delete o[r][t],o[r]._visualValues!==void 0&&o[r]._visualValues[t]!==void 0&&delete o[r]._visualValues[t]}}}const Zu=n=>n==="reset"||n==="none",bg=(n,e)=>e?n:Object.assign({},n),l1=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Iv(t,!0),values:null};class ea{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Qu(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ii(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(v,x,b,_)=>v==="x"?x:v==="r"?_:b,o=t.xAxisID=xe(r.xAxisID,Xu(e,"x")),l=t.yAxisID=xe(r.yAxisID,Xu(e,"y")),u=t.rAxisID=xe(r.rAxisID,Xu(e,"r")),d=t.indexAxis,f=t.iAxisID=i(d,o,l,u),p=t.vAxisID=i(d,l,o,u);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ng(this._data,this),e._stacked&&Ii(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(be(t)){const i=this._cachedMeta;this._data=n1(t,i)}else if(r!==t){if(r){ng(r,this);const i=this._cachedMeta;Ii(i),i._parsed=[]}t&&Object.isExtensible(t)&&BC(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const o=t._stacked;t._stacked=Qu(t.vScale,t),t.stack!==r.stack&&(i=!0,Ii(t),t.stack=r.stack),this._resyncElements(e),(i||o!==t._stacked)&&(xg(this,t._parsed),t._stacked=Qu(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:o,_stacked:l}=r,u=o.axis;let d=e===0&&t===i.length?!0:r._sorted,f=e>0&&r._parsed[e-1],p,v,x;if(this._parsing===!1)r._parsed=i,r._sorted=!0,x=i;else{Ve(i[e])?x=this.parseArrayData(r,i,e,t):be(i[e])?x=this.parseObjectData(r,i,e,t):x=this.parsePrimitiveData(r,i,e,t);const b=()=>v[u]===null||f&&v[u]<f[u];for(p=0;p<t;++p)r._parsed[p+e]=v=x[p],d&&(b()&&(d=!1),f=v);r._sorted=d}l&&xg(this,x)}parsePrimitiveData(e,t,r,i){const{iScale:o,vScale:l}=e,u=o.axis,d=l.axis,f=o.getLabels(),p=o===l,v=new Array(i);let x,b,_;for(x=0,b=i;x<b;++x)_=x+r,v[x]={[u]:p||o.parse(f[_],_),[d]:l.parse(t[_],_)};return v}parseArrayData(e,t,r,i){const{xScale:o,yScale:l}=e,u=new Array(i);let d,f,p,v;for(d=0,f=i;d<f;++d)p=d+r,v=t[p],u[d]={x:o.parse(v[0],p),y:l.parse(v[1],p)};return u}parseObjectData(e,t,r,i){const{xScale:o,yScale:l}=e,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=new Array(i);let p,v,x,b;for(p=0,v=i;p<v;++p)x=p+r,b=t[x],f[p]={x:o.parse(ha(b,u),x),y:l.parse(ha(b,d),x)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,o=this._cachedMeta,l=t[e.axis],u={keys:Iv(i,!0),values:t._stacks[e.axis]._visualValues};return yg(u,l,o.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const o=r[t.axis];let l=o===null?NaN:o;const u=i&&r._stacks[t.axis];i&&u&&(i.values=u,l=yg(i,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,o=r._sorted&&e===r.iScale,l=i.length,u=this._getOtherScale(e),d=l1(t,r,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:v}=s1(u);let x,b;function _(){b=i[x];const k=b[u.axis];return!dt(b[e.axis])||p>k||v<k}for(x=0;x<l&&!(!_()&&(this.updateRangeFromParsed(f,e,b,d),o));++x);if(o){for(x=l-1;x>=0;--x)if(!_()){this.updateRangeFromParsed(f,e,b,d);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,o,l;for(i=0,o=t.length;i<o;++i)l=t[i][e.axis],dt(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=t1(xe(this.options.clip,e1(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],o=t.chartArea,l=[],u=this._drawStart||0,d=this._drawCount||i.length-u,f=this.options.drawActiveElementsOnTop;let p;for(r.dataset&&r.dataset.draw(e,o,u,d),p=u;p<u+d;++p){const v=i[p];v.hidden||(v.active&&f?l.push(v):v.draw(e,o))}for(p=0;p<l.length;++p)l[p].draw(e,o)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];o=l.$context||(l.$context=o1(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=i.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=a1(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",o=this._cachedDataOpts,l=e+"-"+t,u=o[l],d=this.enableOptionSharing&&ml(r);if(u)return bg(u,d);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),v=i?[`${e}Hover`,"hover",e,""]:[e,""],x=f.getOptionScopes(this.getDataset(),p),b=Object.keys(We.elements[e]),_=()=>this.getContext(r,i,t),k=f.resolveNamedOptions(x,b,_,v);return k.$shared&&(k.$shared=d,o[l]=Object.freeze(bg(k,d))),k}_resolveAnimations(e,t,r){const i=this.chart,o=this._cachedDataOpts,l=`animation-${t}`,u=o[l];if(u)return u;let d;if(i.options.animation!==!1){const p=this.chart.config,v=p.datasetAnimationScopeKeys(this._type,t),x=p.getOptionScopes(this.getDataset(),v);d=p.createResolver(x,this.getContext(e,r,t))}const f=new Lv(i,d&&d.animations);return d&&d._cacheable&&(o[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Zu(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,o=this.getSharedOptions(r),l=this.includeOptions(t,o)||o!==i;return this.updateSharedOptions(o,t,r),{sharedOptions:o,includeOptions:l}}updateElement(e,t,r,i){Zu(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!Zu(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const o=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[u,d,f]of this._syncList)this[u](d,f);this._syncList=[];const i=r.length,o=t.length,l=Math.min(o,i);l&&this.parse(0,l),o>i?this._insertElements(i,o-i,e):o<i&&this._removeElements(o,i-o)}_insertElements(e,t,r=!0){const i=this._cachedMeta,o=i.data,l=e+t;let u;const d=f=>{for(f.length+=t,u=f.length-1;u>=l;u--)f[u]=f[u-t]};for(d(o),u=e;u<l;++u)o[u]=new this.dataElementType;this._parsing&&d(i._parsed),this.parse(e,t),r&&this.updateElements(o,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&Ii(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}me(ea,"defaults",{}),me(ea,"datasetElementType",null),me(ea,"dataElementType",null);class sl extends ea{getLabelAndValue(e){const t=this._cachedMeta.vScale,r=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(r[t.axis])}}parseObjectData(e,t,r,i){return kE.bind(this)(e,t,r,i)}update(e){const t=this._cachedMeta,r=t.dataset,i=t.data||[],o=t.iScale.getLabels();if(r.points=i,e!=="resize"){const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0);const u={_loop:!0,_fullLoop:o.length===i.length,options:l};this.updateElement(r,void 0,u,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,r,i){const o=this._cachedMeta.rScale,l=i==="reset";for(let u=t;u<t+r;u++){const d=e[u],f=this.resolveDataElementOptions(u,d.active?"active":i),p=o.getPointPositionForValue(u,this.getParsed(u).r),v=l?o.xCenter:p.x,x=l?o.yCenter:p.y,b={x:v,y:x,angle:p.angle,skip:isNaN(v)||isNaN(x),options:f};this.updateElement(d,u,b,i)}}}me(sl,"id","radar"),me(sl,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),me(sl,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});function Dr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ch{constructor(e){me(this,"options");this.options=e||{}}static override(e){Object.assign(ch.prototype,e)}init(){}formats(){return Dr()}parse(){return Dr()}format(){return Dr()}add(){return Dr()}diff(){return Dr()}startOf(){return Dr()}endOf(){return Dr()}}var c1={_date:ch};function u1(n,e,t,r){const{controller:i,data:o,_sorted:l}=n,u=i._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&o.length){const f=u._reversePixels?$C:Sd;if(r){if(i._sharedOptions){const p=o[0],v=typeof p.getRange=="function"&&p.getRange(e);if(v){const x=f(o,e,t-v),b=f(o,e,t+v);return{lo:x.lo,hi:b.hi}}}}else{const p=f(o,e,t);if(d){const{vScale:v}=i._cachedMeta,{_parsed:x}=n,b=x.slice(0,p.lo+1).reverse().findIndex(k=>!Ne(k[v.axis]));p.lo-=Math.max(0,b);const _=x.slice(p.hi).findIndex(k=>!Ne(k[v.axis]));p.hi+=Math.max(0,_)}return p}}return{lo:0,hi:o.length-1}}function Nl(n,e,t,r,i){const o=n.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,d=o.length;u<d;++u){const{index:f,data:p}=o[u],{lo:v,hi:x}=u1(o[u],e,l,i);for(let b=v;b<=x;++b){const _=p[b];_.skip||r(_,f,b)}}}function d1(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const o=e?Math.abs(r.x-i.x):0,l=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function ed(n,e,t,r,i){const o=[];return!i&&!n.isPointInArea(e)||Nl(n,t,e,function(u,d,f){!i&&!zn(u,n.chartArea,0)||u.inRange(e.x,e.y,r)&&o.push({element:u,datasetIndex:d,index:f})},!0),o}function h1(n,e,t,r){let i=[];function o(l,u,d){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],r),{angle:v}=MC(l,{x:e.x,y:e.y});pv(v,f,p)&&i.push({element:l,datasetIndex:u,index:d})}return Nl(n,t,e,o),i}function f1(n,e,t,r,i,o){let l=[];const u=d1(t);let d=Number.POSITIVE_INFINITY;function f(p,v,x){const b=p.inRange(e.x,e.y,i);if(r&&!b)return;const _=p.getCenterPoint(i);if(!(!!o||n.isPointInArea(_))&&!b)return;const S=u(e,_);S<d?(l=[{element:p,datasetIndex:v,index:x}],d=S):S===d&&l.push({element:p,datasetIndex:v,index:x})}return Nl(n,t,e,f),l}function td(n,e,t,r,i,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!r?h1(n,e,t,i):f1(n,e,t,r,i,o)}function wg(n,e,t,r,i){const o=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return Nl(n,t,e,(d,f,p)=>{d[l]&&d[l](e[t],i)&&(o.push({element:d,datasetIndex:f,index:p}),u=u||d.inRange(e.x,e.y,i))}),r&&!u?[]:o}var p1={modes:{index(n,e,t,r){const i=Fr(e,n),o=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?ed(n,i,o,r,l):td(n,i,o,!1,r,l),d=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,v=f.data[p];v&&!v.skip&&d.push({element:v,datasetIndex:f.index,index:p})}),d):[]},dataset(n,e,t,r){const i=Fr(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?ed(n,i,o,r,l):td(n,i,o,!1,r,l);if(u.length>0){const d=u[0].datasetIndex,f=n.getDatasetMeta(d).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:d,index:p})}return u},point(n,e,t,r){const i=Fr(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return ed(n,i,o,r,l)},nearest(n,e,t,r){const i=Fr(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return td(n,i,o,t.intersect,r,l)},x(n,e,t,r){const i=Fr(e,n);return wg(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=Fr(e,n);return wg(n,i,"y",t.intersect,r)}}};const Dv=["left","top","right","bottom"];function Di(n,e){return n.filter(t=>t.pos===e)}function _g(n,e){return n.filter(t=>Dv.indexOf(t.pos)===-1&&t.box.axis===e)}function Mi(n,e){return n.sort((t,r)=>{const i=e?r:t,o=e?t:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function m1(n){const e=[];let t,r,i,o,l,u;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:o,options:{stack:l,stackWeight:u=1}}=i,e.push({index:t,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&o+l,stackWeight:u});return e}function g1(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:o}=t;if(!r||!Dv.includes(i))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return e}function y1(n,e){const t=g1(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:d}=u.box,f=t[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*r:d&&e.availableWidth,u.height=i):(u.width=r,u.height=p?p*i:d&&e.availableHeight)}return t}function v1(n){const e=m1(n),t=Mi(e.filter(f=>f.box.fullSize),!0),r=Mi(Di(e,"left"),!0),i=Mi(Di(e,"right")),o=Mi(Di(e,"top"),!0),l=Mi(Di(e,"bottom")),u=_g(e,"x"),d=_g(e,"y");return{fullSize:t,leftAndTop:r.concat(o),rightAndBottom:i.concat(d).concat(l).concat(u),chartArea:Di(e,"chartArea"),vertical:r.concat(i).concat(d),horizontal:o.concat(l).concat(u)}}function kg(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function Mv(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function x1(n,e,t,r){const{pos:i,box:o}=t,l=n.maxPadding;if(!be(i)){t.size&&(n[i]-=t.size);const v=r[t.stack]||{size:0,count:1};v.size=Math.max(v.size,t.horizontal?o.height:o.width),t.size=v.size/v.count,n[i]+=t.size}o.getPadding&&Mv(l,o.getPadding());const u=Math.max(0,e.outerWidth-kg(l,n,"left","right")),d=Math.max(0,e.outerHeight-kg(l,n,"top","bottom")),f=u!==n.w,p=d!==n.h;return n.w=u,n.h=d,t.horizontal?{same:f,other:p}:{same:p,other:f}}function b1(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function w1(n,e){const t=e.maxPadding;function r(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{o[l]=Math.max(e[l],t[l])}),o}return r(n?["left","right"]:["top","bottom"])}function Hi(n,e,t,r){const i=[];let o,l,u,d,f,p;for(o=0,l=n.length,f=0;o<l;++o){u=n[o],d=u.box,d.update(u.width||e.w,u.height||e.h,w1(u.horizontal,e));const{same:v,other:x}=x1(e,t,u,r);f|=v&&i.length,p=p||x,d.fullSize||i.push(u)}return f&&Hi(i,e,t,r)||p}function Ko(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function Sg(n,e,t,r){const i=t.padding;let{x:o,y:l}=e;for(const u of n){const d=u.box,f=r[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const v=e.w*p,x=f.size||d.height;ml(f.start)&&(l=f.start),d.fullSize?Ko(d,i.left,l,t.outerWidth-i.right-i.left,x):Ko(d,e.left+f.placed,l,v,x),f.start=l,f.placed+=v,l=d.bottom}else{const v=e.h*p,x=f.size||d.width;ml(f.start)&&(o=f.start),d.fullSize?Ko(d,o,i.top,x,t.outerHeight-i.bottom-i.top):Ko(d,o,e.top+f.placed,x,v),f.start=o,f.placed+=v,o=d.right}}e.x=o,e.y=l}var fr={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=mt(n.options.layout.padding),o=Math.max(e-i.width,0),l=Math.max(t-i.height,0),u=v1(n.boxes),d=u.vertical,f=u.horizontal;Ee(n.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const p=d.reduce((k,S)=>S.box.options&&S.box.options.display===!1?k:k+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),x=Object.assign({},i);Mv(x,mt(r));const b=Object.assign({maxPadding:x,w:o,h:l,x:i.left,y:i.top},i),_=y1(d.concat(f),v);Hi(u.fullSize,b,v,_),Hi(d,b,v,_),Hi(f,b,v,_)&&Hi(d,b,v,_),b1(b),Sg(u.leftAndTop,b,v,_),b.x+=b.w,b.y+=b.h,Sg(u.rightAndBottom,b,v,_),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Ee(u.chartArea,k=>{const S=k.box;Object.assign(S,n.chartArea),S.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class zv{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class _1 extends zv{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const il="$chartjs",k1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Cg=n=>n===null||n==="";function S1(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[il]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Cg(i)){const o=dg(n,"width");o!==void 0&&(n.width=o)}if(Cg(r))if(n.style.height==="")n.height=n.width/(e||2);else{const o=dg(n,"height");o!==void 0&&(n.height=o)}return n}const Fv=ME?{passive:!0}:!1;function C1(n,e,t){n&&n.addEventListener(e,t,Fv)}function E1(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Fv)}function R1(n,e){const t=k1[n.type]||n.type,{x:r,y:i}=Fr(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function wl(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function P1(n,e,t){const r=n.canvas,i=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||wl(u.addedNodes,r),l=l&&!wl(u.removedNodes,r);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function j1(n,e,t){const r=n.canvas,i=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||wl(u.removedNodes,r),l=l&&!wl(u.addedNodes,r);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const fa=new Map;let Eg=0;function $v(){const n=window.devicePixelRatio;n!==Eg&&(Eg=n,fa.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function T1(n,e){fa.size||window.addEventListener("resize",$v),fa.set(n,e)}function O1(n){fa.delete(n),fa.size||window.removeEventListener("resize",$v)}function A1(n,e,t){const r=n.canvas,i=r&&lh(r);if(!i)return;const o=yv((u,d)=>{const f=i.clientWidth;t(u,d),f<i.clientWidth&&t()},window),l=new ResizeObserver(u=>{const d=u[0],f=d.contentRect.width,p=d.contentRect.height;f===0&&p===0||o(f,p)});return l.observe(i),T1(n,o),l}function nd(n,e,t){t&&t.disconnect(),e==="resize"&&O1(n)}function N1(n,e,t){const r=n.canvas,i=yv(o=>{n.ctx!==null&&t(R1(o,n))},n);return C1(r,e,i),i}class L1 extends zv{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(S1(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[il])return!1;const r=t[il].initial;["height","width"].forEach(o=>{const l=r[o];Ne(l)?t.removeAttribute(o):t.setAttribute(o,l)});const i=r.style||{};return Object.keys(i).forEach(o=>{t.style[o]=i[o]}),t.width=t.width,delete t[il],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),l={attach:P1,detach:j1,resize:A1}[t]||N1;i[t]=l(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:nd,detach:nd,resize:nd}[t]||E1)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return DE(e,t,r,i)}isAttached(e){const t=e&&lh(e);return!!(t&&t.isConnected)}}function I1(n){return!oh()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?_1:L1}class yr{constructor(){me(this,"x");me(this,"y");me(this,"active",!1);me(this,"options");me(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return yl(this.x)&&yl(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}}me(yr,"defaults",{}),me(yr,"defaultRoutes");function D1(n,e){const t=n.options.ticks,r=M1(n),i=Math.min(t.maxTicksLimit||r,r),o=t.major.enabled?F1(e):[],l=o.length,u=o[0],d=o[l-1],f=[];if(l>i)return $1(e,f,o,l/i),f;const p=z1(o,e,i);if(l>0){let v,x;const b=l>1?Math.round((d-u)/(l-1)):null;for(Go(e,f,p,Ne(b)?0:u-b,u),v=0,x=l-1;v<x;v++)Go(e,f,p,o[v],o[v+1]);return Go(e,f,p,d,Ne(b)?e.length:d+b),f}return Go(e,f,p),f}function M1(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function z1(n,e,t){const r=U1(n),i=e.length/t;if(!r)return Math.max(i,1);const o=NC(r);for(let l=0,u=o.length-1;l<u;l++){const d=o[l];if(d>i)return d}return Math.max(i,1)}function F1(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function $1(n,e,t,r){let i=0,o=t[0],l;for(r=Math.ceil(r),l=0;l<n.length;l++)l===o&&(e.push(n[l]),i++,o=t[i*r])}function Go(n,e,t,r,i){const o=xe(r,0),l=Math.min(xe(i,n.length),n.length);let u=0,d,f,p;for(t=Math.ceil(t),i&&(d=i-r,t=d/Math.floor(d/t)),p=o;p<0;)u++,p=Math.round(o+u*t);for(f=Math.max(o,0);f<l;f++)f===p&&(e.push(n[f]),u++,p=Math.round(o+u*t))}function U1(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const B1=n=>n==="left"?"right":n==="right"?"left":n,Rg=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Pg=(n,e)=>Math.min(e||n,n);function jg(n,e){const t=[],r=n.length/e,i=n.length;let o=0;for(;o<i;o+=r)t.push(n[Math.floor(o)]);return t}function V1(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),o=n._startPixel,l=n._endPixel,u=1e-6;let d=n.getPixelForTick(i),f;if(!(t&&(r===1?f=Math.max(d-o,l-d):e===0?f=(n.getPixelForTick(1)-d)/2:f=(d-n.getPixelForTick(i-1))/2,d+=i<e?f:-f,d<o-u||d>l+u)))return d}function W1(n,e){Ee(n,t=>{const r=t.gc,i=r.length/2;let o;if(i>e){for(o=0;o<i;++o)delete t.data[r[o]];r.splice(0,i)}})}function zi(n){return n.drawTicks?n.tickLength:0}function Tg(n,e){if(!n.display)return 0;const t=at(n.font,e),r=mt(n.padding);return(Ve(n.text)?n.text.length:1)*t.lineHeight+r.height}function H1(n,e){return vr(n,{scale:e,type:"scale"})}function q1(n,e,t){return vr(n,{tick:t,index:e,type:"tick"})}function K1(n,e,t){let r=vv(n);return(t&&e!=="right"||!t&&e==="right")&&(r=B1(r)),r}function G1(n,e,t,r){const{top:i,left:o,bottom:l,right:u,chart:d}=n,{chartArea:f,scales:p}=d;let v=0,x,b,_;const k=l-i,S=u-o;if(n.isHorizontal()){if(b=Tt(r,o,u),be(t)){const R=Object.keys(t)[0],P=t[R];_=p[R].getPixelForValue(P)+k-e}else t==="center"?_=(f.bottom+f.top)/2+k-e:_=Rg(n,t,e);x=u-o}else{if(be(t)){const R=Object.keys(t)[0],P=t[R];b=p[R].getPixelForValue(P)-S+e}else t==="center"?b=(f.left+f.right)/2-S+e:b=Rg(n,t,e);_=Tt(r,l,i),v=t==="left"?-Nt:Nt}return{titleX:b,titleY:_,maxWidth:x,rotation:v}}class va extends yr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=mn(e,Number.POSITIVE_INFINITY),t=mn(t,Number.NEGATIVE_INFINITY),r=mn(r,Number.POSITIVE_INFINITY),i=mn(i,Number.NEGATIVE_INFINITY),{min:mn(e,r),max:mn(t,i),minDefined:dt(e),maxDefined:dt(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),l;if(i&&o)return{min:t,max:r};const u=this.getMatchingVisibleMetas();for(let d=0,f=u.length;d<f;++d)l=u[d].controller.getMinMax(this,e),i||(t=Math.min(t,l.min)),o||(r=Math.max(r,l.max));return t=o&&t>r?r:t,r=i&&t>r?t:r,{min:mn(t,mn(r,t)),max:mn(r,mn(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Te(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=fE(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=u<this.ticks.length;this._convertTicksToLabels(d?jg(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=D1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Te(this.options.afterUpdate,[this])}beforeSetDimensions(){Te(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Te(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Te(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Te(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r],o.label=Te(t.callback,[o.value,r,e],this)}afterTickToLabelConversion(){Te(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Te(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=Pg(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,o=t.maxRotation;let l=i,u,d,f;if(!this._isVisible()||!t.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const p=this._getLabelSizes(),v=p.widest.width,x=p.highest.height,b=Mn(this.chart.width-v,0,this.maxWidth);u=e.offset?this.maxWidth/r:b/(r-1),v+6>u&&(u=b/(r-(e.offset?.5:1)),d=this.maxHeight-zi(e.grid)-t.padding-Tg(e.title,this.chart.options.font),f=Math.sqrt(v*v+x*x),l=th(Math.min(Math.asin(Mn((p.highest.height+6)/u,-1,1)),Math.asin(Mn(d/f,-1,1))-Math.asin(Mn(x/f,-1,1)))),l=Math.max(i,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){Te(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Te(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const d=Tg(i,t.options.font);if(u?(e.width=this.maxWidth,e.height=zi(o)+d):(e.height=this.maxHeight,e.width=zi(o)+d),r.display&&this.ticks.length){const{first:f,last:p,widest:v,highest:x}=this._getLabelSizes(),b=r.padding*2,_=Wr(this.labelRotation),k=Math.cos(_),S=Math.sin(_);if(u){const R=r.mirror?0:S*v.width+k*x.height;e.height=Math.min(this.maxHeight,e.height+R+b)}else{const R=r.mirror?0:k*v.width+S*x.height;e.width=Math.min(this.maxWidth,e.width+R+b)}this._calculatePadding(f,p,S,k)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:o,padding:l},position:u}=this.options,d=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,b=0;d?f?(x=i*e.width,b=r*t.height):(x=r*e.height,b=i*t.width):o==="start"?b=t.width:o==="end"?x=e.width:o!=="inner"&&(x=e.width/2,b=t.width/2),this.paddingLeft=Math.max((x-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-v+l)*this.width/(this.width-v),0)}else{let p=t.height/2,v=e.height/2;o==="start"?(p=0,v=e.height):o==="end"&&(p=t.height,v=0),this.paddingTop=p+l,this.paddingBottom=v+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Te(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Ne(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=jg(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:o}=this,l=[],u=[],d=Math.floor(t/Pg(t,r));let f=0,p=0,v,x,b,_,k,S,R,P,j,I,F;for(v=0;v<t;v+=d){if(_=e[v].label,k=this._resolveTickFontOptions(v),i.font=S=k.string,R=o[S]=o[S]||{data:{},gc:[]},P=k.lineHeight,j=I=0,!Ne(_)&&!Ve(_))j=vl(i,R.data,R.gc,j,_),I=P;else if(Ve(_))for(x=0,b=_.length;x<b;++x)F=_[x],!Ne(F)&&!Ve(F)&&(j=vl(i,R.data,R.gc,j,F),I+=P);l.push(j),u.push(I),f=Math.max(j,f),p=Math.max(I,p)}W1(o,t);const $=l.indexOf(f),M=u.indexOf(p),B=G=>({width:l[G]||0,height:u[G]||0});return{first:B(0),last:B(t-1),widest:B($),highest:B(M),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return FC(this._alignToPixels?Ir(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=q1(this.getContext(),e,r))}return this.$context||(this.$context=H1(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Wr(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,u=o?o.widest.width+l:0,d=o?o.highest.height+l:0;return this.isHorizontal()?d*r>u*i?u/r:d/i:d*i<u*r?d/r:u/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:o,position:l,border:u}=i,d=o.offset,f=this.isHorizontal(),v=this.ticks.length+(d?1:0),x=zi(o),b=[],_=u.setContext(this.getContext()),k=_.display?_.width:0,S=k/2,R=function(ne){return Ir(r,ne,k)};let P,j,I,F,$,M,B,G,le,he,fe,ke;if(l==="top")P=R(this.bottom),M=this.bottom-x,G=P-S,he=R(e.top)+S,ke=e.bottom;else if(l==="bottom")P=R(this.top),he=e.top,ke=R(e.bottom)-S,M=P+S,G=this.top+x;else if(l==="left")P=R(this.right),$=this.right-x,B=P-S,le=R(e.left)+S,fe=e.right;else if(l==="right")P=R(this.left),le=e.left,fe=R(e.right)-S,$=P+S,B=this.left+x;else if(t==="x"){if(l==="center")P=R((e.top+e.bottom)/2+.5);else if(be(l)){const ne=Object.keys(l)[0],ye=l[ne];P=R(this.chart.scales[ne].getPixelForValue(ye))}he=e.top,ke=e.bottom,M=P+S,G=M+x}else if(t==="y"){if(l==="center")P=R((e.left+e.right)/2);else if(be(l)){const ne=Object.keys(l)[0],ye=l[ne];P=R(this.chart.scales[ne].getPixelForValue(ye))}$=P-S,B=$-x,le=e.left,fe=e.right}const Le=xe(i.ticks.maxTicksLimit,v),ve=Math.max(1,Math.ceil(v/Le));for(j=0;j<v;j+=ve){const ne=this.getContext(j),ye=o.setContext(ne),q=u.setContext(ne),se=ye.lineWidth,K=ye.color,C=q.dash||[],z=q.dashOffset,Z=ye.tickWidth,re=ye.tickColor,de=ye.tickBorderDash||[],pe=ye.tickBorderDashOffset;I=V1(this,j,d),I!==void 0&&(F=Ir(r,I,se),f?$=B=le=fe=F:M=G=he=ke=F,b.push({tx1:$,ty1:M,tx2:B,ty2:G,x1:le,y1:he,x2:fe,y2:ke,width:se,color:K,borderDash:C,borderDashOffset:z,tickWidth:Z,tickColor:re,tickBorderDash:de,tickBorderDashOffset:pe}))}return this._ticksLength=v,this._borderValue=P,b}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:o}=r,l=this.isHorizontal(),u=this.ticks,{align:d,crossAlign:f,padding:p,mirror:v}=o,x=zi(r.grid),b=x+p,_=v?-p:b,k=-Wr(this.labelRotation),S=[];let R,P,j,I,F,$,M,B,G,le,he,fe,ke="middle";if(i==="top")$=this.bottom-_,M=this._getXAxisLabelAlignment();else if(i==="bottom")$=this.top+_,M=this._getXAxisLabelAlignment();else if(i==="left"){const ve=this._getYAxisLabelAlignment(x);M=ve.textAlign,F=ve.x}else if(i==="right"){const ve=this._getYAxisLabelAlignment(x);M=ve.textAlign,F=ve.x}else if(t==="x"){if(i==="center")$=(e.top+e.bottom)/2+b;else if(be(i)){const ve=Object.keys(i)[0],ne=i[ve];$=this.chart.scales[ve].getPixelForValue(ne)+b}M=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")F=(e.left+e.right)/2-b;else if(be(i)){const ve=Object.keys(i)[0],ne=i[ve];F=this.chart.scales[ve].getPixelForValue(ne)}M=this._getYAxisLabelAlignment(x).textAlign}t==="y"&&(d==="start"?ke="top":d==="end"&&(ke="bottom"));const Le=this._getLabelSizes();for(R=0,P=u.length;R<P;++R){j=u[R],I=j.label;const ve=o.setContext(this.getContext(R));B=this.getPixelForTick(R)+o.labelOffset,G=this._resolveTickFontOptions(R),le=G.lineHeight,he=Ve(I)?I.length:1;const ne=he/2,ye=ve.color,q=ve.textStrokeColor,se=ve.textStrokeWidth;let K=M;l?(F=B,M==="inner"&&(R===P-1?K=this.options.reverse?"left":"right":R===0?K=this.options.reverse?"right":"left":K="center"),i==="top"?f==="near"||k!==0?fe=-he*le+le/2:f==="center"?fe=-Le.highest.height/2-ne*le+le:fe=-Le.highest.height+le/2:f==="near"||k!==0?fe=le/2:f==="center"?fe=Le.highest.height/2-ne*le:fe=Le.highest.height-he*le,v&&(fe*=-1),k!==0&&!ve.showLabelBackdrop&&(F+=le/2*Math.sin(k))):($=B,fe=(1-he)*le/2);let C;if(ve.showLabelBackdrop){const z=mt(ve.backdropPadding),Z=Le.heights[R],re=Le.widths[R];let de=fe-z.top,pe=0-z.left;switch(ke){case"middle":de-=Z/2;break;case"bottom":de-=Z;break}switch(M){case"center":pe-=re/2;break;case"right":pe-=re;break;case"inner":R===P-1?pe-=re:R>0&&(pe-=re/2);break}C={left:pe,top:de,width:re+z.width,height:Z+z.height,color:ve.backdropColor}}S.push({label:I,font:G,textOffset:fe,options:{rotation:k,color:ye,strokeColor:q,strokeWidth:se,textAlign:K,textBaseline:ke,translation:[F,$],backdrop:C}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Wr(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,l=this._getLabelSizes(),u=e+o,d=l.widest.width;let f,p;return t==="left"?i?(p=this.right+o,r==="near"?f="left":r==="center"?(f="center",p+=d/2):(f="right",p+=d)):(p=this.right-u,r==="near"?f="right":r==="center"?(f="center",p-=d/2):(f="left",p=this.left)):t==="right"?i?(p=this.left+o,r==="near"?f="right":r==="center"?(f="center",p-=d/2):(f="left",p-=d)):(p=this.left+u,r==="near"?f="left":r==="center"?(f="center",p+=d/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:o,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,o,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(o=>o.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,l;const u=(d,f,p)=>{!p.width||!p.color||(r.save(),r.lineWidth=p.width,r.strokeStyle=p.color,r.setLineDash(p.borderDash||[]),r.lineDashOffset=p.borderDashOffset,r.beginPath(),r.moveTo(d.x,d.y),r.lineTo(f.x,f.y),r.stroke(),r.restore())};if(t.display)for(o=0,l=i.length;o<l;++o){const d=i[o];t.drawOnChartArea&&u({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&u({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),l=r.display?o.width:0;if(!l)return;const u=i.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,p,v,x;this.isHorizontal()?(f=Ir(e,this.left,l)-l/2,p=Ir(e,this.right,u)+u/2,v=x=d):(v=Ir(e,this.top,l)-l/2,x=Ir(e,this.bottom,u)+u/2,f=p=d),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(f,v),t.lineTo(p,x),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Tl(r,i);const o=this.getLabelItems(e);for(const l of o){const u=l.options,d=l.font,f=l.label,p=l.textOffset;$s(r,f,0,p,d,u)}i&&Ol(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const o=at(r.font),l=mt(r.padding),u=r.align;let d=o.lineHeight/2;t==="bottom"||t==="center"||be(t)?(d+=l.bottom,Ve(r.text)&&(d+=o.lineHeight*(r.text.length-1))):d+=l.top;const{titleX:f,titleY:p,maxWidth:v,rotation:x}=G1(this,d,t,u);$s(e,r.text,0,0,o,{color:r.color,maxWidth:v,rotation:x,textAlign:K1(u,t,i),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=xe(e.grid&&e.grid.z,-1),i=xe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==va.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let o,l;for(o=0,l=t.length;o<l;++o){const u=t[o];u[r]===this.id&&(!e||u.type===e)&&i.push(u)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return at(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Yo{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;Q1(t)&&(r=this.register(t));const i=this.items,o=e.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,Y1(e,l,r),this.override&&We.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in We[i]&&(delete We[i][r],this.override&&delete Gr[r])}}function Y1(n,e,t){const r=da(Object.create(null),[t?We.get(t):{},We.get(e),n.defaults]);We.set(e,r),n.defaultRoutes&&J1(e,n.defaultRoutes),n.descriptors&&We.describe(e,n.descriptors)}function J1(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),o=[n].concat(r).join("."),l=e[t].split("."),u=l.pop(),d=l.join(".");We.route(o,i,d,u)})}function Q1(n){return"id"in n&&"defaults"in n}class X1{constructor(){this.controllers=new Yo(ea,"datasets",!0),this.elements=new Yo(yr,"elements"),this.plugins=new Yo(Object,"plugins"),this.scales=new Yo(va,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):Ee(i,l=>{const u=r||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,r){const i=eh(e);Te(r["before"+i],[],r),t[e](r),Te(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var yn=new X1;class Z1{constructor(){this._init=void 0}notify(e,t,r,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=i?this._descriptors(e).filter(i):this._descriptors(e),l=this._notify(o,e,t,r);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,t,r,i){i=i||{};for(const o of e){const l=o.plugin,u=l[r],d=[t,i,o.options];if(Te(u,d,l)===!1&&i.cancelable)return!1}return!0}invalidate(){Ne(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=xe(r.options&&r.options.plugins,{}),o=eR(r);return i===!1&&!t?[]:nR(e,o,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(o,l)=>o.filter(u=>!l.some(d=>u.plugin.id===d.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function eR(n){const e={},t=[],r=Object.keys(yn.plugins.items);for(let o=0;o<r.length;o++)t.push(yn.getPlugin(r[o]));const i=n.plugins||[];for(let o=0;o<i.length;o++){const l=i[o];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function tR(n,e){return!e&&n===!1?null:n===!0?{}:n}function nR(n,{plugins:e,localIds:t},r,i){const o=[],l=n.getContext();for(const u of e){const d=u.id,f=tR(r[d],i);f!==null&&o.push({plugin:u,options:rR(n.config,{plugin:u,local:t[d]},f,l)})}return o}function rR(n,{plugin:e,local:t},r,i){const o=n.pluginScopeKeys(e),l=n.getOptionScopes(r,o);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Rd(n,e){const t=We.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function sR(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function iR(n,e){return n===e?"_index_":"_value_"}function Og(n){if(n==="x"||n==="y"||n==="r")return n}function aR(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Pd(n,...e){if(Og(n))return n;for(const t of e){const r=t.axis||aR(t.position)||n.length>1&&Og(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Ag(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function oR(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return Ag(n,"x",t[0])||Ag(n,"y",t[0])}return{}}function lR(n,e){const t=Gr[n.type]||{scales:{}},r=e.scales||{},i=Rd(n.type,e),o=Object.create(null);return Object.keys(r).forEach(l=>{const u=r[l];if(!be(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=Pd(l,u,oR(l,n),We.scales[u.type]),f=iR(d,i),p=t.scales||{};o[l]=Ji(Object.create(null),[{axis:d},u,p[d],p[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,d=l.indexAxis||Rd(u,e),p=(Gr[u]||{}).scales||{};Object.keys(p).forEach(v=>{const x=sR(v,d),b=l[x+"AxisID"]||x;o[b]=o[b]||Object.create(null),Ji(o[b],[{axis:x},r[b],p[v]])})}),Object.keys(o).forEach(l=>{const u=o[l];Ji(u,[We.scales[u.type],We.scale])}),o}function Uv(n){const e=n.options||(n.options={});e.plugins=xe(e.plugins,{}),e.scales=lR(n,e)}function Bv(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function cR(n){return n=n||{},n.data=Bv(n.data),Uv(n),n}const Ng=new Map,Vv=new Set;function Jo(n,e){let t=Ng.get(n);return t||(t=e(),Ng.set(n,t),Vv.add(t)),t}const Fi=(n,e,t)=>{const r=ha(e,t);r!==void 0&&n.add(r)};class uR{constructor(e){this._config=cR(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Bv(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Uv(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Jo(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Jo(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Jo(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Jo(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:o}=this,l=this._cachedScopes(e,r),u=l.get(t);if(u)return u;const d=new Set;t.forEach(p=>{e&&(d.add(e),p.forEach(v=>Fi(d,e,v))),p.forEach(v=>Fi(d,i,v)),p.forEach(v=>Fi(d,Gr[o]||{},v)),p.forEach(v=>Fi(d,We,v)),p.forEach(v=>Fi(d,Cd,v))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),Vv.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,Gr[t]||{},We.datasets[t]||{},{type:t},We,Cd]}resolveNamedOptions(e,t,r,i=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=Lg(this._resolverCache,e,i);let d=l;if(hR(l,t)){o.$shared=!1,r=gr(r)?r():r;const f=this.createResolver(e,r,u);d=Us(l,r,f)}for(const f of t)o[f]=d[f];return o}createResolver(e,t,r=[""],i){const{resolver:o}=Lg(this._resolverCache,e,r);return be(t)?Us(o,t,void 0,i):o}}function Lg(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let o=r.get(i);return o||(o={resolver:sh(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},r.set(i,o)),o}const dR=n=>be(n)&&Object.getOwnPropertyNames(n).some(e=>gr(n[e]));function hR(n,e){const{isScriptable:t,isIndexable:r}=kv(n);for(const i of e){const o=t(i),l=r(i),u=(l||o)&&n[i];if(o&&(gr(u)||dR(u))||l&&Ve(u))return!0}return!1}var fR="4.5.1";const pR=["top","bottom","left","right","chartArea"];function Ig(n,e){return n==="top"||n==="bottom"||pR.indexOf(n)===-1&&e==="x"}function Dg(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function Mg(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Te(t&&t.onComplete,[n],e)}function mR(n){const e=n.chart,t=e.options.animation;Te(t&&t.onProgress,[n],e)}function Wv(n){return oh()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const al={},zg=n=>{const e=Wv(n);return Object.values(al).filter(t=>t.canvas===e).pop()};function gR(n,e,t){const r=Object.keys(n);for(const i of r){const o=+i;if(o>=e){const l=n[i];delete n[i],(t>0||o>e)&&(n[o+t]=l)}}}function yR(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var or;let Ll=(or=class{static register(...e){yn.add(...e),Fg()}static unregister(...e){yn.remove(...e),Fg()}constructor(e,t){const r=this.config=new uR(t),i=Wv(e),o=zg(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||I1(i)),this.platform.updateConfig(r);const u=this.platform.acquireContext(i,l.aspectRatio),d=u&&u.canvas,f=d&&d.height,p=d&&d.width;if(this.id=SC(),this.ctx=u,this.canvas=d,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Z1,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=WC(v=>this.update(v),l.resizeDelay||0),this._dataChanges=[],al[this.id]=this,!u||!d){console.error("Failed to create chart: can't acquire context from the given item");return}An.listen(this,"complete",Mg),An.listen(this,"progress",mR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:o}=this;return Ne(e)?t&&o?o:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return yn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ug(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return og(this.canvas,this.ctx),this}stop(){return An.stop(this),this}resize(e,t){An.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,e,t,o),u=r.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,ug(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),Te(r.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Ee(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((l,u)=>(l[u]=!1,l),{});let o=[];t&&(o=o.concat(Object.keys(t).map(l=>{const u=t[l],d=Pd(l,u),f=d==="r",p=d==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),Ee(o,l=>{const u=l.options,d=u.id,f=Pd(d,u),p=xe(u.type,l.dtype);(u.position===void 0||Ig(u.position,f)!==Ig(l.dposition))&&(u.position=l.dposition),i[d]=!0;let v=null;if(d in r&&r[d].type===p)v=r[d];else{const x=yn.getScale(p);v=new x({id:d,type:p,ctx:this.ctx,chart:this}),r[v.id]=v}v.init(u,e)}),Ee(i,(l,u)=>{l||delete r[u]}),Ee(r,l=>{fr.configure(this,l,l.options),fr.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,o)=>i.index-o.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(Dg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const o=t[r];let l=this.getDatasetMeta(r);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=u,l.indexAxis=o.indexAxis||Rd(u,this.options),l.order=o.order||0,l.index=r,l.label=""+o.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const d=yn.getController(u),{datasetElementType:f,dataElementType:p}=We.datasets[u];Object.assign(d,{dataElementType:yn.getElement(p),datasetElementType:f&&yn.getElement(f)}),l.controller=new d(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Ee(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:v}=this.getDatasetMeta(f),x=!i&&o.indexOf(v)===-1;v.buildOrUpdateElements(x),l=Math.max(+v.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),i||Ee(o,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Dg("z","_idx"));const{_active:u,_lastEvent:d}=this;d?this._eventHandler(d,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Ee(this.scales,e=>{fr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Xm(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:o}of t){const l=r==="_removeElements"?-o:o;gR(e,i,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=o=>new Set(e.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),i=r(0);for(let o=1;o<t;o++)if(!Xm(i,r(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;fr.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Ee(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,gr(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(An.has(this)?this.attached&&!An.running(this)&&An.start(this):(this.draw(),Mg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,o;for(i=0,o=t.length;i<o;++i){const l=t[i];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=Nv(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Tl(t,i),e.controller.draw(),i&&Ol(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return zn(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const o=p1.modes[t];return typeof o=="function"?o(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(o=>o&&o._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=vr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,i);ml(t)?(o.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(o,{visible:r}),this.update(u=>u.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),An.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),og(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete al[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(o,l)=>{t.addEventListener(this,o,l),e[o]=l},i=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};Ee(this.options.events,o=>r(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(d,f)=>{t.addEventListener(this,d,f),e[d]=f},i=(d,f)=>{e[d]&&(t.removeEventListener(this,d,f),delete e[d])},o=(d,f)=>{this.canvas&&this.resize(d,f)};let l;const u=()=>{i("attach",u),this.attached=!0,this.resize(),r("resize",o),r("detach",l)};l=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),r("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){Ee(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ee(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let o,l,u,d;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),u=0,d=e.length;u<d;++u){l=e[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!fl(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,o=(d,f)=>d.filter(p=>!f.some(v=>p.datasetIndex===v.datasetIndex&&p.index===v.index)),l=o(t,e),u=r?e:o(e,t);l.length&&this.updateHoverStyle(l,i.mode,!1),u.length&&i.mode&&this.updateHoverStyle(u,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const o=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(o||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:o}=this,l=t,u=this._getActiveElements(e,i,r,l),d=TC(e),f=yR(e,this._lastEvent,r,d);r&&(this._lastEvent=null,Te(o.onHover,[e,u,this],this),d&&Te(o.onClick,[e,u,this],this));const p=!fl(u,i);return(p||t)&&(this._active=u,this._updateHoverStyles(u,i,t)),this._lastEvent=f,p}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,i)}},me(or,"defaults",We),me(or,"instances",al),me(or,"overrides",Gr),me(or,"registry",yn),me(or,"version",fR),me(or,"getChart",zg),or);function Fg(){return Ee(Ll.instances,n=>n._plugins.invalidate())}function Hv(n,e,t=e){n.lineCap=xe(t.borderCapStyle,e.borderCapStyle),n.setLineDash(xe(t.borderDash,e.borderDash)),n.lineDashOffset=xe(t.borderDashOffset,e.borderDashOffset),n.lineJoin=xe(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=xe(t.borderWidth,e.borderWidth),n.strokeStyle=xe(t.borderColor,e.borderColor)}function vR(n,e,t){n.lineTo(t.x,t.y)}function xR(n){return n.stepped?rE:n.tension||n.cubicInterpolationMode==="monotone"?sE:vR}function qv(n,e,t={}){const r=n.length,{start:i=0,end:o=r-1}=t,{start:l,end:u}=e,d=Math.max(i,l),f=Math.min(o,u),p=i<l&&o<l||i>u&&o>u;return{count:r,start:d,loop:e.loop,ilen:f<d&&!p?r+f-d:f-d}}function bR(n,e,t,r){const{points:i,options:o}=e,{count:l,start:u,loop:d,ilen:f}=qv(i,t,r),p=xR(o);let{move:v=!0,reverse:x}=r||{},b,_,k;for(b=0;b<=f;++b)_=i[(u+(x?f-b:b))%l],!_.skip&&(v?(n.moveTo(_.x,_.y),v=!1):p(n,k,_,x,o.stepped),k=_);return d&&(_=i[(u+(x?f:0))%l],p(n,k,_,x,o.stepped)),!!d}function wR(n,e,t,r){const i=e.points,{count:o,start:l,ilen:u}=qv(i,t,r),{move:d=!0,reverse:f}=r||{};let p=0,v=0,x,b,_,k,S,R;const P=I=>(l+(f?u-I:I))%o,j=()=>{k!==S&&(n.lineTo(p,S),n.lineTo(p,k),n.lineTo(p,R))};for(d&&(b=i[P(0)],n.moveTo(b.x,b.y)),x=0;x<=u;++x){if(b=i[P(x)],b.skip)continue;const I=b.x,F=b.y,$=I|0;$===_?(F<k?k=F:F>S&&(S=F),p=(v*p+I)/++v):(j(),n.lineTo(I,F),_=$,v=0,k=S=F),R=F}j()}function jd(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?wR:bR}function _R(n){return n.stepped?zE:n.tension||n.cubicInterpolationMode==="monotone"?FE:$r}function kR(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),Hv(n,e.options),n.stroke(i)}function SR(n,e,t,r){const{segments:i,options:o}=e,l=jd(e);for(const u of i)Hv(n,o,u.style),n.beginPath(),l(n,e,u,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const CR=typeof Path2D=="function";function ER(n,e,t,r){CR&&!e.options.segment?kR(n,e,t,r):SR(n,e,t,r)}class pr extends yr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;TE(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=HE(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,i=e[t],o=this.points,l=Av(this,{property:t,start:i,end:i});if(!l.length)return;const u=[],d=_R(r);let f,p;for(f=0,p=l.length;f<p;++f){const{start:v,end:x}=l[f],b=o[v],_=o[x];if(b===_){u.push(b);continue}const k=Math.abs((i-b[t])/(_[t]-b[t])),S=d(b,_,k,r.stepped);S[t]=e[t],u.push(S)}return u.length===1?u[0]:u}pathSegment(e,t,r){return jd(this)(e,this,t,r)}path(e,t,r){const i=this.segments,o=jd(this);let l=this._loop;t=t||0,r=r||this.points.length-t;for(const u of i)l&=o(e,this,u,{start:t,end:t+r-1});return!!l}draw(e,t,r,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),ER(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}me(pr,"id","line"),me(pr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),me(pr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),me(pr,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function $g(n,e,t,r){const i=n.options,{[t]:o}=n.getProps([t],r);return Math.abs(e-o)<i.radius+i.hitRadius}class ol extends yr{constructor(t){super();me(this,"parsed");me(this,"skip");me(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){const o=this.options,{x:l,y:u}=this.getProps(["x","y"],i);return Math.pow(t-l,2)+Math.pow(r-u,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,r){return $g(this,t,"x",r)}inYRange(t,r){return $g(this,t,"y",r)}getCenterPoint(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){const i=this.options;this.skip||i.radius<.1||!zn(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Ed(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}me(ol,"id","point"),me(ol,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),me(ol,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function RR(n,e,t){const r=n.segments,i=n.points,o=e.points,l=[];for(const u of r){let{start:d,end:f}=u;f=Il(d,f,i);const p=Td(t,i[d],i[f],u.loop);if(!e.segments){l.push({source:u,target:p,start:i[d],end:i[f]});continue}const v=Av(e,p);for(const x of v){const b=Td(t,o[x.start],o[x.end],x.loop),_=Ov(u,i,b);for(const k of _)l.push({source:k,target:x,start:{[t]:Ug(p,b,"start",Math.max)},end:{[t]:Ug(p,b,"end",Math.min)}})}}return l}function Td(n,e,t,r){if(r)return;let i=e[n],o=t[n];return n==="angle"&&(i=Ot(i),o=Ot(o)),{property:n,start:i,end:o}}function PR(n,e){const{x:t=null,y:r=null}=n||{},i=e.points,o=[];return e.segments.forEach(({start:l,end:u})=>{u=Il(l,u,i);const d=i[l],f=i[u];r!==null?(o.push({x:d.x,y:r}),o.push({x:f.x,y:r})):t!==null&&(o.push({x:t,y:d.y}),o.push({x:t,y:f.y}))}),o}function Il(n,e,t){for(;e>n;e--){const r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function Ug(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function Kv(n,e){let t=[],r=!1;return Ve(n)?(r=!0,t=n):t=PR(n,e),t.length?new pr({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function Bg(n){return n&&n.fill!==!1}function jR(n,e,t){let i=n[e].fill;const o=[e];let l;if(!t)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!dt(i))return i;if(l=n[i],!l)return!1;if(l.visible)return i;o.push(i),i=l.fill}return!1}function TR(n,e,t){const r=LR(n);if(be(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return dt(i)&&Math.floor(i)===i?OR(r[0],e,i,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function OR(n,e,t,r){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=r?!1:t}function AR(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:be(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function NR(n,e,t){let r;return n==="start"?r=t:n==="end"?r=e.options.reverse?e.min:e.max:be(n)?r=n.value:r=e.getBaseValue(),r}function LR(n){const e=n.options,t=e.fill;let r=xe(t&&t.target,t);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function IR(n){const{scale:e,index:t,line:r}=n,i=[],o=r.segments,l=r.points,u=DR(e,t);u.push(Kv({x:null,y:e.bottom},r));for(let d=0;d<o.length;d++){const f=o[d];for(let p=f.start;p<=f.end;p++)MR(i,l[p],u)}return new pr({points:i,options:{}})}function DR(n,e){const t=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const o=r[i];if(o.index===e)break;o.hidden||t.unshift(o.dataset)}return t}function MR(n,e,t){const r=[];for(let i=0;i<t.length;i++){const o=t[i],{first:l,last:u,point:d}=zR(o,e,"x");if(!(!d||l&&u)){if(l)r.unshift(d);else if(n.push(d),!u)break}}n.push(...r)}function zR(n,e,t){const r=n.interpolate(e,t);if(!r)return{};const i=r[t],o=n.segments,l=n.points;let u=!1,d=!1;for(let f=0;f<o.length;f++){const p=o[f],v=l[p.start][t],x=l[p.end][t];if(Ls(i,v,x)){u=i===v,d=i===x;break}}return{first:u,last:d,point:r}}class Gv{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:i,y:o,radius:l}=this;return t=t||{start:0,end:Lt},e.arc(i,o,l,t.end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:i}=this,o=e.angle;return{x:t+Math.cos(o)*i,y:r+Math.sin(o)*i,angle:o}}}function FR(n){const{chart:e,fill:t,line:r}=n;if(dt(t))return $R(e,t);if(t==="stack")return IR(n);if(t==="shape")return!0;const i=UR(n);return i instanceof Gv?i:Kv(i,r)}function $R(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function UR(n){return(n.scale||{}).getPointPositionForValue?VR(n):BR(n)}function BR(n){const{scale:e={},fill:t}=n,r=AR(t,e);if(dt(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function VR(n){const{scale:e,fill:t}=n,r=e.options,i=e.getLabels().length,o=r.reverse?e.max:e.min,l=NR(t,e,o),u=[];if(r.grid.circular){const d=e.getPointPositionForValue(0,o);return new Gv({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(l)})}for(let d=0;d<i;++d)u.push(e.getPointPositionForValue(d,l));return u}function rd(n,e,t){const r=FR(e),{chart:i,index:o,line:l,scale:u,axis:d}=e,f=l.options,p=f.fill,v=f.backgroundColor,{above:x=v,below:b=v}=p||{},_=i.getDatasetMeta(o),k=Nv(i,_);r&&l.points.length&&(Tl(n,t),WR(n,{line:l,target:r,above:x,below:b,area:t,scale:u,axis:d,clip:k}),Ol(n))}function WR(n,e){const{line:t,target:r,above:i,below:o,area:l,scale:u,clip:d}=e,f=t._loop?"angle":e.axis;n.save();let p=o;o!==i&&(f==="x"?(Vg(n,r,l.top),sd(n,{line:t,target:r,color:i,scale:u,property:f,clip:d}),n.restore(),n.save(),Vg(n,r,l.bottom)):f==="y"&&(Wg(n,r,l.left),sd(n,{line:t,target:r,color:o,scale:u,property:f,clip:d}),n.restore(),n.save(),Wg(n,r,l.right),p=i)),sd(n,{line:t,target:r,color:p,scale:u,property:f,clip:d}),n.restore()}function Vg(n,e,t){const{segments:r,points:i}=e;let o=!0,l=!1;n.beginPath();for(const u of r){const{start:d,end:f}=u,p=i[d],v=i[Il(d,f,i)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(p.x,t),n.lineTo(p.x,p.y)),l=!!e.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(v.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function Wg(n,e,t){const{segments:r,points:i}=e;let o=!0,l=!1;n.beginPath();for(const u of r){const{start:d,end:f}=u,p=i[d],v=i[Il(d,f,i)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(t,p.y),n.lineTo(p.x,p.y)),l=!!e.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(t,v.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function sd(n,e){const{line:t,target:r,property:i,color:o,scale:l,clip:u}=e,d=RR(t,r,i);for(const{source:f,target:p,start:v,end:x}of d){const{style:{backgroundColor:b=o}={}}=f,_=r!==!0;n.save(),n.fillStyle=b,HR(n,l,u,_&&Td(i,v,x)),n.beginPath();const k=!!t.pathSegment(n,f);let S;if(_){k?n.closePath():Hg(n,r,x,i);const R=!!r.pathSegment(n,p,{move:k,reverse:!0});S=k&&R,S||Hg(n,r,v,i)}n.closePath(),n.fill(S?"evenodd":"nonzero"),n.restore()}}function HR(n,e,t,r){const i=e.chart.chartArea,{property:o,start:l,end:u}=r||{};if(o==="x"||o==="y"){let d,f,p,v;o==="x"?(d=l,f=i.top,p=u,v=i.bottom):(d=i.left,f=l,p=i.right,v=u),n.beginPath(),t&&(d=Math.max(d,t.left),p=Math.min(p,t.right),f=Math.max(f,t.top),v=Math.min(v,t.bottom)),n.rect(d,f,p-d,v-f),n.clip()}}function Hg(n,e,t,r){const i=e.interpolate(t,r);i&&n.lineTo(i.x,i.y)}var qR={id:"filler",afterDatasetsUpdate(n,e,t){const r=(n.data.datasets||[]).length,i=[];let o,l,u,d;for(l=0;l<r;++l)o=n.getDatasetMeta(l),u=o.dataset,d=null,u&&u.options&&u instanceof pr&&(d={visible:n.isDatasetVisible(l),index:l,fill:TR(u,l,r),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=d,i.push(d);for(l=0;l<r;++l)d=i[l],!(!d||d.fill===!1)&&(d.fill=jR(i,l,t.propagate))},beforeDraw(n,e,t){const r=t.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=i.length-1;l>=0;--l){const u=i[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),r&&u.fill&&rd(n.ctx,u,o))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const o=r[i].$filler;Bg(o)&&rd(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,e,t){const r=e.meta.$filler;!Bg(r)||t.drawTime!=="beforeDatasetDraw"||rd(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const qg=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},KR=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Kg extends yr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Te(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=at(r.font),o=i.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:d}=qg(r,o);let f,p;t.font=i.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,o,u,d)+10):(p=this.maxHeight,f=this._fitCols(l,i,u,d)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],p=i+u;let v=e;o.textAlign="left",o.textBaseline="middle";let x=-1,b=-p;return this.legendItems.forEach((_,k)=>{const S=r+t/2+o.measureText(_.text).width;(k===0||f[f.length-1]+S+2*u>l)&&(v+=p,f[f.length-(k>0?0:1)]=0,b+=p,x++),d[k]={left:0,top:b,row:x,width:S,height:i},f[f.length-1]+=S+u}),v}_fitCols(e,t,r,i){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-e;let v=u,x=0,b=0,_=0,k=0;return this.legendItems.forEach((S,R)=>{const{itemWidth:P,itemHeight:j}=GR(r,t,o,S,i);R>0&&b+j+2*u>p&&(v+=x+u,f.push({width:x,height:b}),_+=x+u,k++,x=b=0),d[R]={left:_,top:b,col:k,width:P,height:j},x=Math.max(x,P),b+=j+u}),v+=x,f.push({width:x,height:b}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:o}}=this,l=Ms(o,this.left,this.width);if(this.isHorizontal()){let u=0,d=Tt(r,this.left+i,this.right-this.lineWidths[u]);for(const f of t)u!==f.row&&(u=f.row,d=Tt(r,this.left+i,this.right-this.lineWidths[u])),f.top+=this.top+e+i,f.left=l.leftForLtr(l.x(d),f.width),d+=f.width+i}else{let u=0,d=Tt(r,this.top+e+i,this.bottom-this.columnSizes[u].height);for(const f of t)f.col!==u&&(u=f.col,d=Tt(r,this.top+e+i,this.bottom-this.columnSizes[u].height)),f.top=d,f.left+=this.left+i,f.left=l.leftForLtr(l.x(f.left),f.width),d+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Tl(e,this),this._draw(),Ol(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:o,labels:l}=e,u=We.color,d=Ms(e.rtl,this.left,this.width),f=at(l.font),{padding:p}=l,v=f.size,x=v/2;let b;this.drawTitle(),i.textAlign=d.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:_,boxHeight:k,itemHeight:S}=qg(l,v),R=function($,M,B){if(isNaN(_)||_<=0||isNaN(k)||k<0)return;i.save();const G=xe(B.lineWidth,1);if(i.fillStyle=xe(B.fillStyle,u),i.lineCap=xe(B.lineCap,"butt"),i.lineDashOffset=xe(B.lineDashOffset,0),i.lineJoin=xe(B.lineJoin,"miter"),i.lineWidth=G,i.strokeStyle=xe(B.strokeStyle,u),i.setLineDash(xe(B.lineDash,[])),l.usePointStyle){const le={radius:k*Math.SQRT2/2,pointStyle:B.pointStyle,rotation:B.rotation,borderWidth:G},he=d.xPlus($,_/2),fe=M+x;wv(i,le,he,fe,l.pointStyleWidth&&_)}else{const le=M+Math.max((v-k)/2,0),he=d.leftForLtr($,_),fe=Ds(B.borderRadius);i.beginPath(),Object.values(fe).some(ke=>ke!==0)?xl(i,{x:he,y:le,w:_,h:k,radius:fe}):i.rect(he,le,_,k),i.fill(),G!==0&&i.stroke()}i.restore()},P=function($,M,B){$s(i,B.text,$,M+S/2,f,{strikethrough:B.hidden,textAlign:d.textAlign(B.textAlign)})},j=this.isHorizontal(),I=this._computeTitleHeight();j?b={x:Tt(o,this.left+p,this.right-r[0]),y:this.top+p+I,line:0}:b={x:this.left+p,y:Tt(o,this.top+I+p,this.bottom-t[0].height),line:0},Pv(this.ctx,e.textDirection);const F=S+p;this.legendItems.forEach(($,M)=>{i.strokeStyle=$.fontColor,i.fillStyle=$.fontColor;const B=i.measureText($.text).width,G=d.textAlign($.textAlign||($.textAlign=l.textAlign)),le=_+x+B;let he=b.x,fe=b.y;d.setWidth(this.width),j?M>0&&he+le+p>this.right&&(fe=b.y+=F,b.line++,he=b.x=Tt(o,this.left+p,this.right-r[b.line])):M>0&&fe+F>this.bottom&&(he=b.x=he+t[b.line].width+p,b.line++,fe=b.y=Tt(o,this.top+I+p,this.bottom-t[b.line].height));const ke=d.x(he);if(R(ke,fe,$),he=HC(G,he+_+x,j?he+le:this.right,e.rtl),P(d.x(he),fe,$),j)b.x+=le+p;else if(typeof $.text!="string"){const Le=f.lineHeight;b.y+=Yv($,Le)+p}else b.y+=F}),jv(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=at(t.font),i=mt(t.padding);if(!t.display)return;const o=Ms(e.rtl,this.left,this.width),l=this.ctx,u=t.position,d=r.size/2,f=i.top+d;let p,v=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),p=this.top+f,v=Tt(e.align,v,this.right-x);else{const _=this.columnSizes.reduce((k,S)=>Math.max(k,S.height),0);p=f+Tt(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const b=Tt(u,v,v+x);l.textAlign=o.textAlign(vv(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=r.string,$s(l,t.text,b,p,r)}_computeTitleHeight(){const e=this.options.title,t=at(e.font),r=mt(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,o;if(Ls(e,this.left,this.right)&&Ls(t,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],Ls(e,i.left,i.left+i.width)&&Ls(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!QR(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,o=KR(i,r);i&&!o&&Te(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!o&&Te(t.onHover,[e,r,this],this)}else r&&Te(t.onClick,[e,r,this],this)}}function GR(n,e,t,r,i){const o=YR(r,n,e,t),l=JR(i,r,e.lineHeight);return{itemWidth:o,itemHeight:l}}function YR(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((o,l)=>o.length>l.length?o:l)),e+t.size/2+r.measureText(i).width}function JR(n,e,t){let r=n;return typeof e.text!="string"&&(r=Yv(e,t)),r}function Yv(n,e){const t=n.text?n.text.length:0;return e*t}function QR(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var XR={id:"legend",_element:Kg,start(n,e,t){const r=n.legend=new Kg({ctx:n.ctx,options:t,chart:n});fr.configure(n,r,t),fr.addBox(n,r)},stop(n){fr.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;fr.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(t?0:void 0),p=mt(f.borderWidth);return{text:e[d.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:r||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const qi={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,o=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const d=u.tooltipPosition();r.add(d.x),i+=d.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((u,d)=>u+d)/r.size,y:i/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const d=n[o].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),p=kd(e,f);p<i&&(i=p,u=d)}}if(u){const d=u.tooltipPosition();t=d.x,r=d.y}return{x:t,y:r}}};function gn(n,e){return e&&(Ve(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Nn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function ZR(n,e){const{element:t,datasetIndex:r,index:i}=e,o=n.getDatasetMeta(r).controller,{label:l,value:u}=o.getLabelAndValue(i);return{chart:n,label:l,parsed:o.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:u,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function Gg(n,e){const t=n.chart.ctx,{body:r,footer:i,title:o}=n,{boxWidth:l,boxHeight:u}=e,d=at(e.bodyFont),f=at(e.titleFont),p=at(e.footerFont),v=o.length,x=i.length,b=r.length,_=mt(e.padding);let k=_.height,S=0,R=r.reduce((I,F)=>I+F.before.length+F.lines.length+F.after.length,0);if(R+=n.beforeBody.length+n.afterBody.length,v&&(k+=v*f.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),R){const I=e.displayColors?Math.max(u,d.lineHeight):d.lineHeight;k+=b*I+(R-b)*d.lineHeight+(R-1)*e.bodySpacing}x&&(k+=e.footerMarginTop+x*p.lineHeight+(x-1)*e.footerSpacing);let P=0;const j=function(I){S=Math.max(S,t.measureText(I).width+P)};return t.save(),t.font=f.string,Ee(n.title,j),t.font=d.string,Ee(n.beforeBody.concat(n.afterBody),j),P=e.displayColors?l+2+e.boxPadding:0,Ee(r,I=>{Ee(I.before,j),Ee(I.lines,j),Ee(I.after,j)}),P=0,t.font=p.string,Ee(n.footer,j),t.restore(),S+=_.width,{width:S,height:k}}function eP(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function tP(n,e,t,r){const{x:i,width:o}=r,l=t.caretSize+t.caretPadding;if(n==="left"&&i+o+l>e.width||n==="right"&&i-o-l<0)return!0}function nP(n,e,t,r){const{x:i,width:o}=t,{width:l,chartArea:{left:u,right:d}}=n;let f="center";return r==="center"?f=i<=(u+d)/2?"left":"right":i<=o/2?f="left":i>=l-o/2&&(f="right"),tP(f,n,e,t)&&(f="center"),f}function Yg(n,e,t){const r=t.yAlign||e.yAlign||eP(n,t);return{xAlign:t.xAlign||e.xAlign||nP(n,e,t,r),yAlign:r}}function rP(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function sP(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function Jg(n,e,t,r){const{caretSize:i,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:d}=t,f=i+o,{topLeft:p,topRight:v,bottomLeft:x,bottomRight:b}=Ds(l);let _=rP(e,u);const k=sP(e,d,f);return d==="center"?u==="left"?_+=f:u==="right"&&(_-=f):u==="left"?_-=Math.max(p,x)+i:u==="right"&&(_+=Math.max(v,b)+i),{x:Mn(_,0,r.width-e.width),y:Mn(k,0,r.height-e.height)}}function Qo(n,e,t){const r=mt(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function Qg(n){return gn([],Nn(n))}function iP(n,e,t){return vr(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Xg(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const Jv={beforeTitle:On,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:On,beforeBody:On,beforeLabel:On,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Ne(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:On,afterBody:On,beforeFooter:On,footer:On,afterFooter:On};function _t(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?Jv[e].call(t,r):i}class Od extends yr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,o=new Lv(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=iP(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=_t(r,"beforeTitle",this,e),o=_t(r,"title",this,e),l=_t(r,"afterTitle",this,e);let u=[];return u=gn(u,Nn(i)),u=gn(u,Nn(o)),u=gn(u,Nn(l)),u}getBeforeBody(e,t){return Qg(_t(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return Ee(e,o=>{const l={before:[],lines:[],after:[]},u=Xg(r,o);gn(l.before,Nn(_t(u,"beforeLabel",this,o))),gn(l.lines,_t(u,"label",this,o)),gn(l.after,Nn(_t(u,"afterLabel",this,o))),i.push(l)}),i}getAfterBody(e,t){return Qg(_t(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=_t(r,"beforeFooter",this,e),o=_t(r,"footer",this,e),l=_t(r,"afterFooter",this,e);let u=[];return u=gn(u,Nn(i)),u=gn(u,Nn(o)),u=gn(u,Nn(l)),u}_createItems(e){const t=this._active,r=this.chart.data,i=[],o=[],l=[];let u=[],d,f;for(d=0,f=t.length;d<f;++d)u.push(ZR(this.chart,t[d]));return e.filter&&(u=u.filter((p,v,x)=>e.filter(p,v,x,r))),e.itemSort&&(u=u.sort((p,v)=>e.itemSort(p,v,r))),Ee(u,p=>{const v=Xg(e.callbacks,p);i.push(_t(v,"labelColor",this,p)),o.push(_t(v,"labelPointStyle",this,p)),l.push(_t(v,"labelTextColor",this,p))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let o,l=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const u=qi[r.position].call(this,i,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const d=this._size=Gg(this,r),f=Object.assign({},u,d),p=Yg(this.chart,r,f),v=Jg(r,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:v.x,y:v.y,width:d.width,height:d.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const o=this.getCaretPosition(e,r,i);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:o}=this,{caretSize:l,cornerRadius:u}=r,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:v}=Ds(u),{x,y:b}=e,{width:_,height:k}=t;let S,R,P,j,I,F;return o==="center"?(I=b+k/2,i==="left"?(S=x,R=S-l,j=I+l,F=I-l):(S=x+_,R=S+l,j=I-l,F=I+l),P=S):(i==="left"?R=x+Math.max(d,p)+l:i==="right"?R=x+_-Math.max(f,v)-l:R=this.caretX,o==="top"?(j=b,I=j-l,S=R-l,P=R+l):(j=b+k,I=j+l,S=R+l,P=R-l),F=j),{x1:S,x2:R,x3:P,y1:j,y2:I,y3:F}}drawTitle(e,t,r){const i=this.title,o=i.length;let l,u,d;if(o){const f=Ms(r.rtl,this.x,this.width);for(e.x=Qo(this,r.titleAlign,r),t.textAlign=f.textAlign(r.titleAlign),t.textBaseline="middle",l=at(r.titleFont),u=r.titleSpacing,t.fillStyle=r.titleColor,t.font=l.string,d=0;d<o;++d)t.fillText(i[d],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,d+1===o&&(e.y+=r.titleMarginBottom-u)}}_drawColorBox(e,t,r,i,o){const l=this.labelColors[r],u=this.labelPointStyles[r],{boxHeight:d,boxWidth:f}=o,p=at(o.bodyFont),v=Qo(this,"left",o),x=i.x(v),b=d<p.lineHeight?(p.lineHeight-d)/2:0,_=t.y+b;if(o.usePointStyle){const k={radius:Math.min(f,d)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},S=i.leftForLtr(x,f)+f/2,R=_+d/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Ed(e,k,S,R),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Ed(e,k,S,R)}else{e.lineWidth=be(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const k=i.leftForLtr(x,f),S=i.leftForLtr(i.xPlus(x,1),f-2),R=Ds(l.borderRadius);Object.values(R).some(P=>P!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,xl(e,{x:k,y:_,w:f,h:d,radius:R}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),xl(e,{x:S,y:_+1,w:f-2,h:d-2,radius:R}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(k,_,f,d),e.strokeRect(k,_,f,d),e.fillStyle=l.backgroundColor,e.fillRect(S,_+1,f-2,d-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:d,boxWidth:f,boxPadding:p}=r,v=at(r.bodyFont);let x=v.lineHeight,b=0;const _=Ms(r.rtl,this.x,this.width),k=function(B){t.fillText(B,_.x(e.x+b),e.y+x/2),e.y+=x+o},S=_.textAlign(l);let R,P,j,I,F,$,M;for(t.textAlign=l,t.textBaseline="middle",t.font=v.string,e.x=Qo(this,S,r),t.fillStyle=r.bodyColor,Ee(this.beforeBody,k),b=u&&S!=="right"?l==="center"?f/2+p:f+2+p:0,I=0,$=i.length;I<$;++I){for(R=i[I],P=this.labelTextColors[I],t.fillStyle=P,Ee(R.before,k),j=R.lines,u&&j.length&&(this._drawColorBox(t,e,I,_,r),x=Math.max(v.lineHeight,d)),F=0,M=j.length;F<M;++F)k(j[F]),x=v.lineHeight;Ee(R.after,k)}b=0,x=v.lineHeight,Ee(this.afterBody,k),e.y-=o}drawFooter(e,t,r){const i=this.footer,o=i.length;let l,u;if(o){const d=Ms(r.rtl,this.x,this.width);for(e.x=Qo(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=d.textAlign(r.footerAlign),t.textBaseline="middle",l=at(r.footerFont),t.fillStyle=r.footerColor,t.font=l.string,u=0;u<o;++u)t.fillText(i[u],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:o,yAlign:l}=this,{x:u,y:d}=e,{width:f,height:p}=r,{topLeft:v,topRight:x,bottomLeft:b,bottomRight:_}=Ds(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(u+v,d),l==="top"&&this.drawCaret(e,t,r,i),t.lineTo(u+f-x,d),t.quadraticCurveTo(u+f,d,u+f,d+x),l==="center"&&o==="right"&&this.drawCaret(e,t,r,i),t.lineTo(u+f,d+p-_),t.quadraticCurveTo(u+f,d+p,u+f-_,d+p),l==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(u+b,d+p),t.quadraticCurveTo(u,d+p,u,d+p-b),l==="center"&&o==="left"&&this.drawCaret(e,t,r,i),t.lineTo(u,d+v),t.quadraticCurveTo(u,d,u+v,d),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,o=r&&r.y;if(i||o){const l=qi[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=Gg(this,e),d=Object.assign({},l,this._size),f=Yg(t,e,d),p=Jg(e,d,f,t);(i._to!==p.x||o._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=mt(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,i,t),Pv(e,t.textDirection),o.y+=l.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),jv(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:u,index:d})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[d],index:d}}),o=!fl(r,i),l=this._positionChanged(i,t);(o||l)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],l=this._getActiveElements(e,o,t,r),u=this._positionChanged(l,e),d=t||!fl(l,o)||u;return d&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,r,i){const o=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:r,caretY:i,options:o}=this,l=qi[o.position].call(this,e,t);return l!==!1&&(r!==l.x||i!==l.y)}}me(Od,"positioners",qi);var aP={id:"tooltip",_element:Od,positioners:qi,afterInit(n,e,t){t&&(n.tooltip=new Od({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Jv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function oP(n,e){const t=[],{bounds:i,step:o,min:l,max:u,precision:d,count:f,maxTicks:p,maxDigits:v,includeBounds:x}=n,b=o||1,_=p-1,{min:k,max:S}=e,R=!Ne(l),P=!Ne(u),j=!Ne(f),I=(S-k)/(v+1);let F=eg((S-k)/_/b)*b,$,M,B,G;if(F<1e-14&&!R&&!P)return[{value:k},{value:S}];G=Math.ceil(S/F)-Math.floor(k/F),G>_&&(F=eg(G*F/_/b)*b),Ne(d)||($=Math.pow(10,d),F=Math.ceil(F*$)/$),i==="ticks"?(M=Math.floor(k/F)*F,B=Math.ceil(S/F)*F):(M=k,B=S),R&&P&&o&&IC((u-l)/o,F/1e3)?(G=Math.round(Math.min((u-l)/F,p)),F=(u-l)/G,M=l,B=u):j?(M=R?l:M,B=P?u:B,G=f-1,F=(B-M)/G):(G=(B-M)/F,Qi(G,Math.round(G),F/1e3)?G=Math.round(G):G=Math.ceil(G));const le=Math.max(tg(F),tg(M));$=Math.pow(10,Ne(d)?le:d),M=Math.round(M*$)/$,B=Math.round(B*$)/$;let he=0;for(R&&(x&&M!==l?(t.push({value:l}),M<l&&he++,Qi(Math.round((M+he*F)*$)/$,l,Zg(l,I,n))&&he++):M<l&&he++);he<G;++he){const fe=Math.round((M+he*F)*$)/$;if(P&&fe>u)break;t.push({value:fe})}return P&&x&&B!==u?t.length&&Qi(t[t.length-1].value,u,Zg(u,I,n))?t[t.length-1].value=u:t.push({value:u}):(!P||B===u)&&t.push({value:B}),t}function Zg(n,e,{horizontal:t,minRotation:r}){const i=Wr(r),o=(t?Math.sin(i):Math.cos(i))||.001,l=.75*e*(""+n).length;return Math.min(e/o,l)}class ey extends va{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ne(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:o}=this;const l=d=>i=t?i:d,u=d=>o=r?o:d;if(e){const d=Fs(i),f=Fs(o);d<0&&f<0?u(0):d>0&&f>0&&l(0)}if(i===o){let d=o===0?1:Math.abs(o*.05);u(o+d),e||l(i-d)}this.min=i,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,l=oP(i,o);return e.bounds==="ticks"&&DC(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return xv(e,this.chart.options.locale,this.options.ticks.format)}}function Ad(n){const e=n.ticks;if(e.display&&n.display){const t=mt(e.backdropPadding);return xe(e.font&&e.font.size,We.font.size)+t.height}return 0}function lP(n,e,t){return t=Ve(t)?t:[t],{w:nE(n,e.string,t),h:t.length*e.lineHeight}}function ty(n,e,t,r,i){return n===r||n===i?{start:e-t/2,end:e+t/2}:n<r||n>i?{start:e-t,end:e}:{start:e,end:e+t}}function cP(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),r=[],i=[],o=n._pointLabels.length,l=n.options.pointLabels,u=l.centerPointLabels?tt/o:0;for(let d=0;d<o;d++){const f=l.setContext(n.getPointLabelContext(d));i[d]=f.padding;const p=n.getPointPosition(d,n.drawingArea+i[d],u),v=at(f.font),x=lP(n.ctx,v,n._pointLabels[d]);r[d]=x;const b=Ot(n.getIndexAngle(d)+u),_=Math.round(th(b)),k=ty(_,p.x,x.w,0,180),S=ty(_,p.y,x.h,90,270);uP(t,e,b,k,S)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=fP(n,r,i)}function uP(n,e,t,r,i){const o=Math.abs(Math.sin(t)),l=Math.abs(Math.cos(t));let u=0,d=0;r.start<e.l?(u=(e.l-r.start)/o,n.l=Math.min(n.l,e.l-u)):r.end>e.r&&(u=(r.end-e.r)/o,n.r=Math.max(n.r,e.r+u)),i.start<e.t?(d=(e.t-i.start)/l,n.t=Math.min(n.t,e.t-d)):i.end>e.b&&(d=(i.end-e.b)/l,n.b=Math.max(n.b,e.b+d))}function dP(n,e,t){const r=n.drawingArea,{extra:i,additionalAngle:o,padding:l,size:u}=t,d=n.getPointPosition(e,r+i+l,o),f=Math.round(th(Ot(d.angle+Nt))),p=gP(d.y,u.h,f),v=pP(f),x=mP(d.x,u.w,v);return{visible:!0,x:d.x,y:p,textAlign:v,left:x,top:p,right:x+u.w,bottom:p+u.h}}function hP(n,e){if(!e)return!0;const{left:t,top:r,right:i,bottom:o}=n;return!(zn({x:t,y:r},e)||zn({x:t,y:o},e)||zn({x:i,y:r},e)||zn({x:i,y:o},e))}function fP(n,e,t){const r=[],i=n._pointLabels.length,o=n.options,{centerPointLabels:l,display:u}=o.pointLabels,d={extra:Ad(o)/2,additionalAngle:l?tt/i:0};let f;for(let p=0;p<i;p++){d.padding=t[p],d.size=e[p];const v=dP(n,p,d);r.push(v),u==="auto"&&(v.visible=hP(v,f),v.visible&&(f=v))}return r}function pP(n){return n===0||n===180?"center":n<180?"left":"right"}function mP(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function gP(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function yP(n,e,t){const{left:r,top:i,right:o,bottom:l}=t,{backdropColor:u}=e;if(!Ne(u)){const d=Ds(e.borderRadius),f=mt(e.backdropPadding);n.fillStyle=u;const p=r-f.left,v=i-f.top,x=o-r+f.width,b=l-i+f.height;Object.values(d).some(_=>_!==0)?(n.beginPath(),xl(n,{x:p,y:v,w:x,h:b,radius:d}),n.fill()):n.fillRect(p,v,x,b)}}function vP(n,e){const{ctx:t,options:{pointLabels:r}}=n;for(let i=e-1;i>=0;i--){const o=n._pointLabelItems[i];if(!o.visible)continue;const l=r.setContext(n.getPointLabelContext(i));yP(t,l,o);const u=at(l.font),{x:d,y:f,textAlign:p}=o;$s(t,n._pointLabels[i],d,f+u.lineHeight/2,u,{color:l.color,textAlign:p,textBaseline:"middle"})}}function Qv(n,e,t,r){const{ctx:i}=n;if(t)i.arc(n.xCenter,n.yCenter,e,0,Lt);else{let o=n.getPointPosition(0,e);i.moveTo(o.x,o.y);for(let l=1;l<r;l++)o=n.getPointPosition(l,e),i.lineTo(o.x,o.y)}}function xP(n,e,t,r,i){const o=n.ctx,l=e.circular,{color:u,lineWidth:d}=e;!l&&!r||!u||!d||t<0||(o.save(),o.strokeStyle=u,o.lineWidth=d,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),Qv(n,t,l,r),o.closePath(),o.stroke(),o.restore())}function bP(n,e,t){return vr(n,{label:t,index:e,type:"pointLabel"})}class Ki extends ey{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=mt(Ad(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=dt(e)&&!isNaN(e)?e:0,this.max=dt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ad(this.options))}generateTickLabels(e){ey.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,r)=>{const i=Te(this.options.pointLabels.callback,[t,r],this);return i||i===0?i:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?cP(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,i))}getIndexAngle(e){const t=Lt/(this._pointLabels.length||1),r=this.options.startAngle||0;return Ot(e*t+Wr(r))}getDistanceFromCenterForValue(e){if(Ne(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Ne(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const r=t[e];return bP(this.getContext(),e,r)}}getPointPosition(e,t,r=0){const i=this.getIndexAngle(e)-Nt+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:r,right:i,bottom:o}=this._pointLabelItems[e];return{left:t,top:r,right:i,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),Qv(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:r,grid:i,border:o}=t,l=this._pointLabels.length;let u,d,f;if(t.pointLabels.display&&vP(this,l),i.display&&this.ticks.forEach((p,v)=>{if(v!==0||v===0&&this.min<0){d=this.getDistanceFromCenterForValue(p.value);const x=this.getContext(v),b=i.setContext(x),_=o.setContext(x);xP(this,b,d,l,_)}}),r.display){for(e.save(),u=l-1;u>=0;u--){const p=r.setContext(this.getPointLabelContext(u)),{color:v,lineWidth:x}=p;!x||!v||(e.lineWidth=x,e.strokeStyle=v,e.setLineDash(p.borderDash),e.lineDashOffset=p.borderDashOffset,d=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),f=this.getPointPosition(u,d),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(f.x,f.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let o,l;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((u,d)=>{if(d===0&&this.min>=0&&!t.reverse)return;const f=r.setContext(this.getContext(d)),p=at(f.font);if(o=this.getDistanceFromCenterForValue(this.ticks[d].value),f.showLabelBackdrop){e.font=p.string,l=e.measureText(u.label).width,e.fillStyle=f.backdropColor;const v=mt(f.backdropPadding);e.fillRect(-l/2-v.left,-o-p.size/2-v.top,l+v.width,p.size+v.height)}$s(e,u.label,0,-o,p,{color:f.color,strokeColor:f.textStrokeColor,strokeWidth:f.textStrokeWidth})}),e.restore()}drawTitle(){}}me(Ki,"id","radialLinear"),me(Ki,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:bv.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),me(Ki,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),me(Ki,"descriptors",{angleLines:{_fallback:"grid"}});const Dl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},kt=Object.keys(Dl);function ny(n,e){return n-e}function ry(n,e){if(Ne(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:o}=n._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),dt(l)||(l=typeof r=="string"?t.parse(l,r):t.parse(l)),l===null?null:(i&&(l=i==="week"&&(yl(o)||o===!0)?t.startOf(l,"isoWeek",o):t.startOf(l,i)),+l)}function sy(n,e,t,r){const i=kt.length;for(let o=kt.indexOf(n);o<i-1;++o){const l=Dl[kt[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=r)return kt[o]}return kt[i-1]}function wP(n,e,t,r,i){for(let o=kt.length-1;o>=kt.indexOf(t);o--){const l=kt[o];if(Dl[l].common&&n._adapter.diff(i,r,l)>=e-1)return l}return kt[t?kt.indexOf(t):0]}function _P(n){for(let e=kt.indexOf(n)+1,t=kt.length;e<t;++e)if(Dl[kt[e]].common)return kt[e]}function iy(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=nh(t,e),o=t[r]>=e?t[r]:t[i];n[o]=!0}}function kP(n,e,t,r){const i=n._adapter,o=+i.startOf(e[0].value,r),l=e[e.length-1].value;let u,d;for(u=o;u<=l;u=+i.add(u,1,r))d=t[u],d>=0&&(e[d].major=!0);return e}function ay(n,e,t){const r=[],i={},o=e.length;let l,u;for(l=0;l<o;++l)u=e[l],i[u]=l,r.push({value:u,major:!1});return o===0||!t?r:kP(n,r,i,t)}class _l extends va{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new c1._date(e.adapters.date);i.init(t),Ji(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:ry(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function d(f){!l&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!u&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!l||!u)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),i=dt(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),o=dt(o)&&!isNaN(o)?o:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,l=this.max,u=UC(i,o,l);return this._unit=t.unit||(r.autoSkip?sy(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):wP(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:_P(this._unit),this.initOffsets(i),e.reverse&&u.reverse(),ay(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,o;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?r=o:r=(o-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=Mn(t,0,l),r=Mn(r,0,l),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,o=i.time,l=o.unit||sy(o.minUnit,t,r,this._getLabelCapacity(t)),u=xe(i.ticks.stepSize,1),d=l==="week"?o.isoWeekday:!1,f=yl(d)||d===!0,p={};let v=t,x,b;if(f&&(v=+e.startOf(v,"isoWeek",d)),v=+e.startOf(v,f?"day":l),e.diff(r,t,l)>1e5*u)throw new Error(t+" and "+r+" are too far apart with stepSize of "+u+" "+l);const _=i.ticks.source==="data"&&this.getDataTimestamps();for(x=v,b=0;x<r;x=+e.add(x,u,l),b++)iy(p,x,_);return(x===r||i.bounds==="ticks"||b===1)&&iy(p,x,_),Object.keys(p).sort(ny).map(k=>+k)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,o=this._unit,l=t||i[o];return this._adapter.format(e,l)}_tickFormatFunction(e,t,r,i){const o=this.options,l=o.ticks.callback;if(l)return Te(l,[e,t,r],this);const u=o.time.displayFormats,d=this._unit,f=this._majorUnit,p=d&&u[d],v=f&&u[f],x=r[t],b=f&&v&&x&&x.major;return this._adapter.format(e,i||(b?v:p))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=Wr(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(i),l=Math.sin(i),u=this._resolveTickFontOptions(0).size;return{w:r*o+u*l,h:r*l+u*o}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,o=this._tickFormatFunction(e,0,ay(this,[e],this._majorUnit),i),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(ry(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return VC(e.sort(ny))}}me(_l,"id","time"),me(_l,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Xo(n,e,t){let r=0,i=n.length-1,o,l,u,d;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=Sd(n,"pos",e)),{pos:o,time:u}=n[r],{pos:l,time:d}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=Sd(n,"time",e)),{time:o,pos:u}=n[r],{time:l,pos:d}=n[i]);const f=l-o;return f?u+(d-u)*(e-o)/f:u}class oy extends _l{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Xo(t,this.min),this._tableRange=Xo(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],o=[];let l,u,d,f,p;for(l=0,u=e.length;l<u;++l)f=e[l],f>=t&&f<=r&&i.push(f);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(l=0,u=i.length;l<u;++l)p=i[l+1],d=i[l-1],f=i[l],Math.round((p+d)/2)!==f&&o.push({time:f,pos:l/(u-1)});return o}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Xo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Xo(this._table,r*this._tableRange+this._minPos,!0)}}me(oy,"id","timeseries"),me(oy,"defaults",_l.defaults);const Xv="label";function ly(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function SP(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function Zv(n,e){n.labels=e}function ex(n,e,t=Xv){const r=[];n.datasets=e.map(i=>{const o=n.datasets.find(l=>l[t]===i[t]);return!o||!i.data||r.includes(o)?{...i}:(r.push(o),Object.assign(o,i),o)})}function CP(n,e=Xv){const t={labels:[],datasets:[]};return Zv(t,n.labels),ex(t,n.datasets,e),t}function EP(n,e){const{height:t=150,width:r=300,redraw:i=!1,datasetIdKey:o,type:l,data:u,options:d,plugins:f=[],fallbackContent:p,updateMode:v,...x}=n,b=T.useRef(null),_=T.useRef(null),k=()=>{b.current&&(_.current=new Ll(b.current,{type:l,data:CP(u,o),options:d&&{...d},plugins:f}),ly(e,_.current))},S=()=>{ly(e,null),_.current&&(_.current.destroy(),_.current=null)};return T.useEffect(()=>{!i&&_.current&&d&&SP(_.current,d)},[i,d]),T.useEffect(()=>{!i&&_.current&&Zv(_.current.config.data,u.labels)},[i,u.labels]),T.useEffect(()=>{!i&&_.current&&u.datasets&&ex(_.current.config.data,u.datasets,o)},[i,u.datasets]),T.useEffect(()=>{_.current&&(i?(S(),setTimeout(k)):_.current.update(v))},[i,d,u.labels,u.datasets,v]),T.useEffect(()=>{_.current&&(S(),setTimeout(k))},[l]),T.useEffect(()=>(k(),()=>S()),[]),g.jsx("canvas",{ref:b,role:"img",height:t,width:r,...x,children:p})}const RP=T.forwardRef(EP);function PP(n,e){return Ll.register(e),T.forwardRef((t,r)=>g.jsx(RP,{...t,ref:r,type:n}))}const jP=PP("radar",sl),TP=108,Nd=n=>{const e=n.map(f=>Number.isFinite(f)?f:0),t=e.reduce((f,p)=>f+p,0),r=e.length>0?t/e.length:0,i=e.length>0?e.reduce((f,p)=>f+(p-r)**2,0)/e.length:0,o=Math.sqrt(i),l=r>0?o/r:0,u=Math.max(0,t*(1-l)),d=t/TP*100;return{total:t,mean:r,stdDev:o,cv:l,riskScore:u,completion:d}},Ld=n=>n<=35?"Ideacao":n<=59?"Validacao":n<=83?"Tracao":n<=101?"Escala":"Maturidade Alta";Ll.register(Ki,ol,pr,qR,aP,XR);const Zo=(n,e=2)=>new Intl.NumberFormat("pt-BR",{minimumFractionDigits:e,maximumFractionDigits:e}).format(n);function tx({onClose:n,metrics:e,scores:t,darkMode:r}){const[i,o]=T.useState(!1),l=T.useRef(null),u=T.useMemo(()=>({labels:ln.map(x=>`${x.id}. ${x.shortLabel}`),datasets:[{label:"Nivel SRL",data:t,borderWidth:2,borderColor:"#135bec",pointBackgroundColor:"#135bec",pointBorderColor:"#dbe8ff",backgroundColor:"rgba(19, 91, 236, 0.22)",fill:!0}]}),[t]),d=T.useMemo(()=>({maintainAspectRatio:!1,plugins:{legend:{labels:{color:r?"#f0f2f4":"#111318"}}},scales:{r:{min:0,max:9,ticks:{stepSize:1,backdropColor:"transparent",color:r?"#909cb5":"#616f89"},grid:{color:r?"rgba(144, 156, 181, 0.3)":"rgba(97, 111, 137, 0.3)"},angleLines:{color:r?"rgba(144, 156, 181, 0.3)":"rgba(97, 111, 137, 0.3)"},pointLabels:{color:r?"#f0f2f4":"#111318",font:{size:11}}}}}),[r]),f=T.useMemo(()=>ln.map((x,b)=>{const _=t[b]??0,k=x.interpretiveSummary,S=x.levels.find(P=>P.level===_)??null;if(!k||_<1)return{blockId:x.id,blockName:x.name,score:_,band:null,selectedLevel:S};const R=k.bands.find(P=>_>=P.minLevel&&_<=P.maxLevel)??null;return{blockId:x.id,blockName:x.name,score:_,band:R,selectedLevel:S}}),[t]),p=async()=>{if(l.current){o(!0);try{const{default:x}=await Ku(async()=>{const{default:k}=await import("./html2canvas.esm-QH1iLAAe.js");return{default:k}},[]),b=await x(l.current,{scale:2,useCORS:!0,backgroundColor:r?"#1a2230":"#ffffff"}),_=document.createElement("a");_.href=b.toDataURL("image/png"),_.download="srl-canvas-resultados.png",_.click()}finally{o(!1)}}},v=async()=>{if(l.current){o(!0);try{const[{default:x},{default:b}]=await Promise.all([Ku(()=>import("./html2canvas.esm-QH1iLAAe.js"),[]),Ku(()=>import("./jspdf.es.min-DILJrqdG.js").then($=>$.j),[])]),_=await x(l.current,{scale:2,useCORS:!0,backgroundColor:r?"#1a2230":"#ffffff"}),k=_.toDataURL("image/png"),S=new b("p","mm","a4"),R=S.internal.pageSize.getWidth(),P=S.internal.pageSize.getHeight(),j=10,I=R-j*2,F=_.height*I/_.width;if(F<=P-j*2)S.addImage(k,"PNG",j,j,I,F);else{const $=P-j*2;S.addImage(k,"PNG",j,j,I,$)}S.save("srl-canvas-resultados.pdf")}finally{o(!1)}}};return g.jsx("div",{className:"fixed inset-0 z-40 flex items-end justify-center bg-slate-900/55 p-4 md:items-center",role:"dialog","aria-modal":"true","aria-label":"Resultados do SRL Canvas",children:g.jsxs("div",{className:"max-h-[92vh] w-full max-w-5xl overflow-y-auto rounded-xl bg-card-light shadow-2xl dark:bg-card-dark",children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-zinc-200/80 p-4 dark:border-zinc-800/80",children:[g.jsx("h2",{className:"text-lg font-bold text-text-light-primary dark:text-text-dark-primary",children:"Diagnostico SRL Canvas"}),g.jsx("button",{type:"button",className:"rounded-md p-2 text-text-light-secondary hover:bg-zinc-100 dark:text-text-dark-secondary dark:hover:bg-zinc-800",onClick:n,"aria-label":"Fechar",children:g.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),g.jsxs("div",{className:"space-y-5 p-4 md:p-6",children:[g.jsxs("div",{ref:l,className:"space-y-5 rounded-xl border border-zinc-200/80 p-4 dark:border-zinc-800/80",children:[g.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[g.jsx("p",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Radar de Maturidade (12 blocos)"}),g.jsxs("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold text-primary dark:bg-primary/20",children:["Estagio: ",Ld(e.total)]})]}),g.jsx("div",{className:"h-[340px] w-full",children:g.jsx(jP,{data:u,options:d})}),g.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-5",children:[g.jsxs("div",{className:"rounded-lg bg-zinc-50 p-3 dark:bg-zinc-800",children:[g.jsx("p",{className:"text-xs text-text-light-secondary dark:text-text-dark-secondary",children:"Pontuacao Total"}),g.jsxs("p",{className:"text-lg font-bold text-text-light-primary dark:text-text-dark-primary",children:[e.total," / 108"]})]}),g.jsxs("div",{className:"rounded-lg bg-zinc-50 p-3 dark:bg-zinc-800",children:[g.jsx("p",{className:"text-xs text-text-light-secondary dark:text-text-dark-secondary",children:"Media"}),g.jsx("p",{className:"text-lg font-bold text-text-light-primary dark:text-text-dark-primary",children:Zo(e.mean)})]}),g.jsxs("div",{className:"rounded-lg bg-zinc-50 p-3 dark:bg-zinc-800",children:[g.jsx("p",{className:"text-xs text-text-light-secondary dark:text-text-dark-secondary",children:"Desvio-padrao"}),g.jsx("p",{className:"text-lg font-bold text-text-light-primary dark:text-text-dark-primary",children:Zo(e.stdDev)})]}),g.jsxs("div",{className:"rounded-lg bg-zinc-50 p-3 dark:bg-zinc-800",children:[g.jsx("p",{className:"text-xs text-text-light-secondary dark:text-text-dark-secondary",children:"Coeficiente de Variacao"}),g.jsx("p",{className:"text-lg font-bold text-text-light-primary dark:text-text-dark-primary",children:Zo(e.cv)})]}),g.jsxs("div",{className:"rounded-lg border border-primary/30 bg-primary/5 p-3 dark:border-primary/40 dark:bg-primary/10",children:[g.jsx("p",{className:"text-xs text-text-light-secondary dark:text-text-dark-secondary",children:"Scorecard de Risco"}),g.jsx("p",{className:"text-lg font-bold text-primary",children:Zo(e.riskScore)})]})]}),g.jsx("p",{className:"text-xs text-text-light-secondary dark:text-text-dark-secondary",children:"Formula: Scorecard = Pontuacao Total x (1 - Coeficiente de Variacao)."}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Resumo Interpretativo por Bloco"}),g.jsx("div",{className:"grid grid-cols-1 gap-3 lg:grid-cols-2",children:f.map(x=>g.jsxs("article",{className:"rounded-lg border border-zinc-200/80 bg-zinc-50 p-3 dark:border-zinc-800/80 dark:bg-zinc-800/60",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsxs("p",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:[x.blockId,". ",x.blockName]}),g.jsxs("span",{className:"rounded-full bg-primary/10 px-2.5 py-1 text-xs font-semibold text-primary dark:bg-primary/20",children:["Nota: ",x.score>0?`${x.score}/9`:"Pendente"]})]}),!x.band&&g.jsx("p",{className:"mt-2 text-xs text-text-light-secondary dark:text-text-dark-secondary",children:"Sem nota atribuida para este bloco."}),x.band&&g.jsxs("div",{className:"mt-2 space-y-1 text-xs text-text-light-secondary dark:text-text-dark-secondary",children:[g.jsxs("p",{children:[g.jsx("strong",{children:"Agrupamento:"})," ",x.band.grouping]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Nivel:"})," ",x.band.minLevel,"-",x.band.maxLevel]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Foco estratgico:"})," ",x.band.strategicFocus]}),x.selectedLevel&&g.jsxs(g.Fragment,{children:[g.jsxs("p",{children:[g.jsx("strong",{children:"Descrio do nvel:"})," ",x.selectedLevel.description]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Evidncia sugerida:"})," ",x.selectedLevel.evidence]})]})]})]},x.blockId))})]})]}),g.jsxs("div",{className:"flex flex-wrap justify-end gap-3",children:[g.jsx("button",{type:"button",onClick:p,disabled:i,className:"rounded-lg border border-zinc-300 px-4 py-2 text-sm font-semibold text-text-light-secondary hover:bg-zinc-100 disabled:cursor-not-allowed disabled:opacity-70 dark:border-zinc-700 dark:text-text-dark-secondary dark:hover:bg-zinc-800",children:"Exportar PNG"}),g.jsx("button",{type:"button",onClick:v,disabled:i,className:"rounded-lg border border-zinc-300 px-4 py-2 text-sm font-semibold text-text-light-secondary hover:bg-zinc-100 disabled:cursor-not-allowed disabled:opacity-70 dark:border-zinc-700 dark:text-text-dark-secondary dark:hover:bg-zinc-800",children:"Exportar PDF"}),g.jsx("button",{type:"button",className:"rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white hover:brightness-110",onClick:n,children:"Fechar"})]})]})]})})}const OP=108;function AP(){const n=Yt(),{meta:e,blocks:t,setMeta:r,updateBlock:i,resetCanvas:o,darkMode:l,toggleDarkMode:u}=vn(),[d,f]=T.useState(null),[p,v]=T.useState(null),[x,b]=T.useState(!1),[_,k]=T.useState(!1),S=T.useMemo(()=>ln.map(M=>{var B;return((B=t[M.id])==null?void 0:B.score)??0}),[t]),R=T.useMemo(()=>Nd(S),[S]),P=`[ ${R.total} / ${OP} ]`,j=d?CS[d]:null,I=p?Hm[p]:null,F=()=>{window.confirm("Tem certeza que deseja limpar todo o canvas atual?")&&o()},$=()=>{k(!0)};return g.jsxs("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden bg-background-light font-display dark:bg-background-dark",children:[g.jsxs("header",{className:"sticky top-0 z-10 flex h-16 items-center border-b border-zinc-200/80 bg-background-light/85 px-4 backdrop-blur-sm dark:border-zinc-800/80 dark:bg-background-dark/85",children:[g.jsx("button",{type:"button",onClick:()=>n("/dashboard"),className:"flex h-12 w-12 items-center justify-center text-text-light-primary dark:text-text-dark-primary","aria-label":"Ir para dashboard",children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"arrow_back_ios_new"})}),g.jsx("h1",{className:"flex-1 text-center text-lg font-bold tracking-tight text-text-light-primary dark:text-text-dark-primary",children:"Meu SRL Canvas"}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("button",{type:"button",onClick:$,className:"flex h-12 w-12 items-center justify-center text-text-light-primary dark:text-text-dark-primary","aria-label":"Abrir formulario de opiniao",children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"rate_review"})}),g.jsx("button",{type:"button",onClick:u,className:"flex h-12 w-12 items-center justify-center text-text-light-primary dark:text-text-dark-primary","aria-label":"Alternar tema",children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:l?"light_mode":"dark_mode"})}),g.jsx("button",{type:"button",onClick:()=>b(!0),className:"flex h-12 w-12 items-center justify-center text-text-light-primary dark:text-text-dark-primary","aria-label":"Compartilhar ou exportar",children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"ios_share"})})]})]}),g.jsxs("main",{className:"flex-grow px-4 pb-28 pt-6",children:[g.jsxs("div",{className:"mb-6 rounded-xl border border-zinc-200/80 bg-card-light p-4 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[g.jsx("h2",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Informacoes Gerais"}),g.jsx("button",{type:"button",className:"rounded-lg border border-zinc-300 px-3 py-1 text-xs font-semibold text-text-light-secondary hover:bg-zinc-100 dark:border-zinc-700 dark:text-text-dark-secondary dark:hover:bg-zinc-800",onClick:F,children:"Resetar Canvas"})]}),g.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[g.jsxs("label",{className:"col-span-1",children:[g.jsx("span",{className:"block text-xs font-medium text-text-light-secondary dark:text-text-dark-secondary",children:"Startup"}),g.jsx("input",{className:"mt-1 block w-full rounded-md border-zinc-300 bg-zinc-50 p-2 text-sm text-text-light-primary shadow-sm focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",type:"text",placeholder:"Nome da Startup",value:e.startup,onChange:M=>r({startup:M.target.value})})]}),g.jsxs("label",{className:"col-span-1",children:[g.jsx("span",{className:"block text-xs font-medium text-text-light-secondary dark:text-text-dark-secondary",children:"Avaliador"}),g.jsx("input",{className:"mt-1 block w-full rounded-md border-zinc-300 bg-zinc-50 p-2 text-sm text-text-light-primary shadow-sm focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",type:"text",placeholder:"Nome do Avaliador",value:e.evaluator,onChange:M=>r({evaluator:M.target.value})})]}),g.jsxs("label",{className:"col-span-1",children:[g.jsx("span",{className:"block text-xs font-medium text-text-light-secondary dark:text-text-dark-secondary",children:"Data"}),g.jsx("input",{className:"mt-1 block w-full rounded-md border-zinc-300 bg-zinc-50 p-2 text-sm text-text-light-primary shadow-sm focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",type:"text",placeholder:"dd/mm/aaaa",value:e.date,onChange:M=>r({date:M.target.value})})]}),g.jsxs("div",{className:"col-span-1",children:[g.jsx("span",{className:"block text-xs font-medium text-text-light-secondary dark:text-text-dark-secondary",children:"Total"}),g.jsxs("div",{className:"mt-1 flex h-9 items-center rounded-md border border-zinc-300 bg-zinc-50 px-2 py-1 text-sm text-text-light-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",children:[g.jsx("span",{className:"whitespace-nowrap font-mono text-xs",children:P}),g.jsx("div",{className:"ml-2 h-2.5 w-full overflow-hidden rounded-full bg-zinc-200 dark:bg-zinc-700",children:g.jsx("div",{className:"h-full rounded-full bg-primary transition-all",style:{width:`${Math.min(100,R.completion)}%`}})})]})]})]})]}),g.jsx("div",{className:"mb-4 flex justify-end",children:g.jsx("button",{type:"button",onClick:()=>b(!0),className:"rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white hover:brightness-110",children:"Ver Resultados"})}),g.jsx("section",{children:g.jsx("div",{className:"flex flex-col gap-4",children:ln.map(M=>{const B=Hm[M.group],G=t[M.id],le=typeof(G==null?void 0:G.score)=="number";return g.jsxs("button",{type:"button",onClick:()=>f(M.id),className:"flex cursor-pointer items-center gap-4 rounded-xl bg-card-light p-4 text-left shadow-sm ring-1 ring-zinc-200/80 transition hover:-translate-y-0.5 hover:ring-primary/40 dark:bg-card-dark dark:ring-zinc-800/80",children:[g.jsx("div",{className:`flex size-12 shrink-0 items-center justify-center rounded-lg ${B.iconBgClass}`,children:g.jsx("span",{className:`material-symbols-outlined text-2xl ${B.iconTextClass}`,children:M.icon})}),g.jsxs("div",{className:"flex flex-col justify-center",children:[g.jsxs("p",{className:"font-semibold text-text-light-primary dark:text-text-dark-primary",children:[g.jsxs("span",{className:`font-bold ${B.badgeClass}`,children:[M.id,"."]})," ",M.name]}),g.jsx("p",{className:"text-sm text-text-light-secondary dark:text-text-dark-secondary",children:le?`Nota: ${G.score}/9`:"Pendente"})]})]},M.id)})})}),g.jsx("div",{className:"mt-8 flex flex-wrap items-center justify-center gap-x-2 gap-y-2 px-2 text-xs font-medium text-text-light-secondary dark:text-text-dark-secondary",children:Jy.map(M=>g.jsxs("button",{type:"button",onClick:()=>v(M.key),className:"flex items-center gap-2 rounded-full border border-transparent px-2 py-1 transition hover:border-zinc-300 hover:bg-zinc-100/70 dark:hover:border-zinc-700 dark:hover:bg-zinc-800/70","aria-label":`Ver detalhes do agrupamento ${M.name}`,title:`Ver detalhes de ${M.detailTitle}`,children:[g.jsx("div",{className:`size-3 rounded-full ${M.dotClass}`}),g.jsx("span",{children:M.name})]},M.key))})]}),g.jsx(Dn,{}),j&&g.jsx(XS,{block:j,value:t[j.id],onClose:()=>f(null),onSave:M=>{i(j.id,M),f(null)}}),x&&g.jsx(tx,{darkMode:l,metrics:R,scores:S,onClose:()=>b(!1)}),I&&g.jsx(ZS,{group:I,onClose:()=>v(null)}),g.jsx(lv,{isOpen:_,nextPath:"/canvas",onClose:()=>k(!1)})]})}const NP=[{label:"Baixar Guia de Aplicacao",href:"/downloads/guia-aplicacao-srl-canvas.pdf"},{label:"Baixar SRL Canvas",href:"/downloads/srl-canvas-modelo-manual.pdf"},{label:"Baixar Grafico Radar",href:"/downloads/grafico-radar-srl-canvas.pdf"}];function LP(){const{meta:n,blocks:e,darkMode:t}=vn(),{isEnabled:r,user:i}=wn(),[o,l]=T.useState(!1),[u,d]=T.useState([]),[f,p]=T.useState(null),[v,x]=T.useState(null),b=cy(e),_=Nd(b),k=ln.filter(P=>{var j;return typeof((j=e[P.id])==null?void 0:j.score)=="number"}).length,S=vd(n),R=u.map(P=>{const j=cy(P.blocks),I=Nd(j),F=ln.filter($=>{var M;return typeof((M=P.blocks[$.id])==null?void 0:M.score)=="number"}).length;return{id:P.id,title:vd(P.meta),updatedAt:IP(P.updated_at),scores:j,metrics:I,filledBlocks:F}});return T.useEffect(()=>{!r||!i||Yy(i.id).then(P=>{d(P),p(null)}).catch(P=>{p(P instanceof Error?P.message:"Erro ao carregar canvases")})},[r,i]),g.jsxs("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden bg-background-light font-display dark:bg-background-dark",children:[g.jsx(ur,{title:"Dashboard"}),g.jsxs("main",{className:"flex-grow space-y-4 px-4 pb-28 pt-6",children:[g.jsxs("section",{className:"rounded-xl border border-zinc-200/80 bg-card-light p-4 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("p",{className:"text-xs font-semibold text-text-light-secondary dark:text-text-dark-secondary",children:"Canvas Atual"}),g.jsx("button",{type:"button",onClick:()=>x({scores:b,metrics:_}),className:"rounded-lg bg-primary px-3 py-1.5 text-xs font-semibold text-white hover:brightness-110",children:"Ver Resultados"})]}),g.jsx("h2",{className:"mt-1 text-lg font-bold text-text-light-primary dark:text-text-dark-primary",children:S}),g.jsxs("p",{className:"mt-1 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:["Estagio: ",Ld(_.total)]}),g.jsx("div",{className:"mt-3 h-2.5 w-full overflow-hidden rounded-full bg-zinc-200 dark:bg-zinc-700",children:g.jsx("div",{className:"h-full rounded-full bg-primary",style:{width:`${_.completion}%`}})}),g.jsxs("p",{className:"mt-2 text-xs font-mono text-text-light-secondary dark:text-text-dark-secondary",children:["[",_.total," / 108] - ",k,"/12 blocos preenchidos"]}),g.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[g.jsxs("div",{className:"rounded-lg border border-zinc-200/80 bg-zinc-50 p-3 dark:border-zinc-800/80 dark:bg-zinc-800/70",children:[g.jsx("p",{className:"text-xs text-text-light-secondary dark:text-text-dark-secondary",children:"Scorecard de Risco"}),g.jsx("p",{className:"mt-1 text-2xl font-bold text-primary",children:_.riskScore.toFixed(2)})]}),g.jsxs("div",{className:"rounded-lg border border-zinc-200/80 bg-zinc-50 p-3 dark:border-zinc-800/80 dark:bg-zinc-800/70",children:[g.jsx("p",{className:"text-xs text-text-light-secondary dark:text-text-dark-secondary",children:"Coeficiente de Variacao"}),g.jsx("p",{className:"mt-1 text-2xl font-bold text-text-light-primary dark:text-text-dark-primary",children:_.cv.toFixed(2)})]})]})]}),g.jsxs("section",{className:"rounded-xl border border-zinc-200/80 bg-card-light p-4 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsx("h3",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Acoes"}),g.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[g.jsx(xn,{to:"/canvas",className:"rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white hover:brightness-110",children:"Abrir Meu SRL Canvas"}),g.jsx(xn,{to:"/canvas/new",className:"rounded-lg border border-zinc-300 px-4 py-2 text-sm font-semibold text-text-light-secondary hover:bg-zinc-100 dark:border-zinc-700 dark:text-text-dark-secondary dark:hover:bg-zinc-800",children:"Novo SRL Canvas"})]})]}),g.jsxs("section",{className:"rounded-xl border border-zinc-200/80 bg-card-light p-4 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsx("h2",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Sobre o Projeto"}),g.jsxs("p",{className:"mt-2 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:["O nome oficial da ferramenta e ",g.jsx("strong",{children:"SRL Canvas (Startup Readiness Level Canvas)"}),". Aqui voce encontra o contexto, proposito e publico-alvo do framework."]}),g.jsx("button",{type:"button",onClick:()=>l(!0),className:"mt-3 rounded-lg border border-zinc-300 px-4 py-2 text-sm font-semibold text-text-light-secondary hover:bg-zinc-100 dark:border-zinc-700 dark:text-text-dark-secondary dark:hover:bg-zinc-800",children:"Ler: Por que o SRL Canvas?"})]}),g.jsxs("section",{className:"rounded-xl border border-zinc-200/80 bg-card-light p-4 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsx("h3",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Material de Apoio (Uso Offline)"}),g.jsx("p",{className:"mt-2 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:"Nao e obrigatorio usar esta plataforma para aplicar o SRL Canvas. O metodo foi desenhado para ser simples e agil: voce pode baixar o guia de aplicacao, o modelo do SRL Canvas e o grafico radar para preenchimento manual."}),g.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:NP.map(P=>g.jsx("a",{href:P.href,download:!0,target:"_blank",rel:"noreferrer",className:"rounded-lg border border-zinc-300 px-4 py-2 text-sm font-semibold text-text-light-secondary hover:bg-zinc-100 dark:border-zinc-700 dark:text-text-dark-secondary dark:hover:bg-zinc-800",children:P.label},P.href))})]}),g.jsx(Yd,{nextPath:"/dashboard"}),g.jsxs("section",{className:"rounded-xl border border-zinc-200/80 bg-card-light p-4 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsx("h3",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Sync de Banco"}),!r&&g.jsx("p",{className:"mt-2 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:"Supabase desabilitado. Operando apenas em modo local."}),r&&!i&&g.jsx("p",{className:"mt-2 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:"Faa login para sincronizar seus canvases com o banco."}),r&&i&&g.jsxs("div",{className:"mt-2 space-y-2",children:[f&&g.jsx("p",{className:"text-xs text-red-500",children:f}),g.jsxs("p",{className:"text-sm text-text-light-secondary dark:text-text-dark-secondary",children:["Canvases remotos encontrados: ",g.jsx("strong",{children:u.length})]}),R.length>0&&g.jsx("div",{className:"space-y-2",children:R.map(P=>g.jsxs("article",{className:"rounded-lg border border-zinc-200/80 bg-zinc-50 p-3 dark:border-zinc-800/80 dark:bg-zinc-800/70",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx("p",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:P.title}),g.jsx("button",{type:"button",onClick:()=>x({scores:P.scores,metrics:P.metrics}),className:"rounded-md bg-primary px-2.5 py-1 text-xs font-semibold text-white hover:brightness-110",children:"Ver Resultados"})]}),g.jsxs("p",{className:"mt-1 text-xs text-text-light-secondary dark:text-text-dark-secondary",children:["Atualizado em: ",P.updatedAt]}),g.jsxs("p",{className:"mt-1 text-xs text-text-light-secondary dark:text-text-dark-secondary",children:["Estagio: ",Ld(P.metrics.total)]}),g.jsxs("p",{className:"mt-1 text-xs font-mono text-text-light-secondary dark:text-text-dark-secondary",children:["[",P.metrics.total," / 108] - ",P.filledBlocks,"/12 blocos preenchidos"]}),g.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-2 sm:grid-cols-2",children:[g.jsxs("p",{className:"text-xs text-text-light-secondary dark:text-text-dark-secondary",children:[g.jsx("strong",{children:"Scorecard:"})," ",P.metrics.riskScore.toFixed(2)]}),g.jsxs("p",{className:"text-xs text-text-light-secondary dark:text-text-dark-secondary",children:[g.jsx("strong",{children:"CV:"})," ",P.metrics.cv.toFixed(2)]})]})]},P.id))})]})]})]}),g.jsx(Dn,{}),v&&g.jsx(tx,{darkMode:t,metrics:v.metrics,scores:v.scores,onClose:()=>x(null)}),g.jsx(Jd,{isOpen:o,onClose:()=>l(!1)})]})}function cy(n){return ln.map(e=>{var r;const t=(r=n[e.id])==null?void 0:r.score;return typeof t=="number"?t:0})}function IP(n){const e=new Date(n);return Number.isNaN(e.getTime())?n:e.toLocaleString("pt-BR")}const DP=[{label:"Baixar Guia de Aplicacao",href:"/downloads/guia-aplicacao-srl-canvas.pdf"},{label:"Baixar SRL Canvas",href:"/downloads/srl-canvas-modelo-manual.pdf"},{label:"Baixar Grafico Radar",href:"/downloads/grafico-radar-srl-canvas.pdf"}];function MP(){const{user:n,loading:e,isEnabled:t}=wn(),{darkMode:r,toggleDarkMode:i}=vn(),[o,l]=T.useState(!1);return e?g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background-light dark:bg-background-dark",children:g.jsx("p",{className:"text-sm text-text-light-secondary dark:text-text-dark-secondary",children:"Carregando..."})}):t&&n?g.jsx(Kr,{replace:!0,to:"/dashboard"}):g.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-background-light font-display dark:bg-background-dark",children:[g.jsx("div",{className:"pointer-events-none absolute -top-24 -left-24 h-64 w-64 rounded-full bg-primary/20 blur-3xl dark:bg-primary/25"}),g.jsx("div",{className:"pointer-events-none absolute right-0 bottom-0 h-72 w-72 rounded-full bg-sky-300/20 blur-3xl dark:bg-sky-500/20"}),g.jsxs("header",{className:"relative mx-auto flex w-full max-w-6xl items-center justify-between px-4 pt-6",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-zinc-300/80 bg-card-light px-3 py-1 text-xs font-semibold text-text-light-secondary dark:border-zinc-700/80 dark:bg-card-dark dark:text-text-dark-secondary",children:[g.jsx("span",{className:"material-symbols-outlined text-base",children:"analytics"}),"SRL Canvas"]}),g.jsxs("button",{type:"button",onClick:i,className:"inline-flex items-center gap-2 rounded-full border border-zinc-300/80 bg-card-light px-3 py-1 text-xs font-medium text-text-light-secondary transition hover:bg-zinc-100 dark:border-zinc-700/80 dark:bg-card-dark dark:text-text-dark-secondary dark:hover:bg-zinc-800","aria-label":"Alternar tema",children:[g.jsx("span",{className:"material-symbols-outlined text-base",children:r?"light_mode":"dark_mode"}),"Tema"]})]}),g.jsxs("main",{className:"relative mx-auto flex w-full max-w-6xl flex-col gap-10 px-4 pt-12 pb-12 md:pt-20",children:[g.jsxs("section",{className:"max-w-3xl",children:[g.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.2em] text-primary",children:"Diagnostico de maturidade para startups"}),g.jsx("h1",{className:"mt-3 text-4xl font-bold tracking-tight text-text-light-primary dark:text-text-dark-primary md:text-6xl",children:"Avalie os 12 blocos do SRL Canvas com evidencias e score comparavel."}),g.jsx("p",{className:"mt-5 max-w-2xl text-base text-text-light-secondary dark:text-text-dark-secondary md:text-lg",children:"Esta plataforma foi criada para facilitar a aplicacao do SRL Canvas na pratica: organize a avaliacao, visualize desequilibrios no radar e gere um scorecard com consistencia metodologica."}),g.jsxs("div",{className:"mt-8 flex flex-wrap gap-3",children:[g.jsx(xn,{className:"rounded-lg bg-primary px-5 py-2.5 text-sm font-semibold text-white transition hover:brightness-110",to:t?"/auth/login":"/canvas",children:t?"Entrar":"Abrir app"}),t&&g.jsx(xn,{className:"rounded-lg border border-zinc-300 bg-card-light px-5 py-2.5 text-sm font-semibold text-text-light-primary transition hover:bg-zinc-100 dark:border-zinc-700 dark:bg-card-dark dark:text-text-dark-primary dark:hover:bg-zinc-800",to:"/auth/signup",children:"Criar conta"})]}),!t&&g.jsx("p",{className:"mt-4 text-xs text-text-light-secondary dark:text-text-dark-secondary",children:"Modo local ativo. Configure o Supabase para habilitar autenticacao e persistencia remota."})]}),g.jsxs("section",{className:"grid gap-4 md:grid-cols-3",children:[g.jsxs("article",{className:"rounded-2xl border border-zinc-200/80 bg-card-light p-5 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsx("h2",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Escala guiada"}),g.jsx("p",{className:"mt-2 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:"Aplique notas de 1 a 9 com registro de evidencia por bloco para sustentar cada avaliacao."})]}),g.jsxs("article",{className:"rounded-2xl border border-zinc-200/80 bg-card-light p-5 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsx("h2",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Analise visual"}),g.jsx("p",{className:"mt-2 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:"Enxergue lacunas com radar de 12 dimensoes e priorize os pontos de maior risco."})]}),g.jsxs("article",{className:"rounded-2xl border border-zinc-200/80 bg-card-light p-5 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsx("h2",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Exportacao pronta"}),g.jsx("p",{className:"mt-2 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:"Gere PNG e PDF para compartilhar resultados com equipe, mentores e comites."})]})]}),g.jsxs("section",{className:"rounded-xl border border-zinc-200/80 bg-card-light p-4 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsx("h2",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Sobre o Projeto"}),g.jsxs("p",{className:"mt-2 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:["O nome oficial da ferramenta e ",g.jsx("strong",{children:"SRL Canvas (Startup Readiness Level Canvas)"}),". Aqui voce encontra o contexto, proposito e publico-alvo do framework."]}),g.jsx("button",{type:"button",onClick:()=>l(!0),className:"mt-3 rounded-lg border border-zinc-300 px-4 py-2 text-sm font-semibold text-text-light-secondary hover:bg-zinc-100 dark:border-zinc-700 dark:text-text-dark-secondary dark:hover:bg-zinc-800",children:"Ler: Por que o SRL Canvas?"})]}),g.jsxs("section",{className:"rounded-xl border border-zinc-200/80 bg-card-light p-4 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsx("h3",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Material de Apoio (Uso Offline)"}),g.jsx("p",{className:"mt-2 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:"Nao e obrigatorio usar esta plataforma para aplicar o SRL Canvas. O metodo foi desenhado para ser simples e agil: voce pode baixar o guia de aplicacao, o modelo do SRL Canvas e o grafico radar para preenchimento manual."}),g.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:DP.map(u=>g.jsx("a",{href:u.href,download:!0,target:"_blank",rel:"noreferrer",className:"rounded-lg border border-zinc-300 px-4 py-2 text-sm font-semibold text-text-light-secondary hover:bg-zinc-100 dark:border-zinc-700 dark:text-text-dark-secondary dark:hover:bg-zinc-800",children:u.label},u.href))})]})]}),g.jsx(Jd,{isOpen:o,onClose:()=>l(!1)})]})}function zP(){var k,S;const n=Yt(),e=Gt(),{signIn:t,user:r,isEnabled:i}=wn(),[o,l]=T.useState(""),[u,d]=T.useState(""),[f,p]=T.useState(null),[v,x]=T.useState(!1),b=(S=(k=e.state)==null?void 0:k.from)==null?void 0:S.pathname;if(!i)return g.jsx(Kr,{replace:!0,to:"/account"});if(r)return g.jsx(Kr,{replace:!0,to:b||"/dashboard"});const _=async R=>{R.preventDefault(),x(!0),p(null);const P=await t(o,u);if(x(!1),P.error){p(P.error);return}n(b||"/dashboard",{replace:!0})};return g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background-light px-4 font-display dark:bg-background-dark",children:g.jsxs("form",{className:"w-full max-w-md rounded-xl border border-zinc-200/80 bg-card-light p-6 dark:border-zinc-800/80 dark:bg-card-dark",onSubmit:_,children:[g.jsx("h1",{className:"text-xl font-bold text-text-light-primary dark:text-text-dark-primary",children:"Entrar"}),g.jsxs("label",{className:"mt-4 block",children:[g.jsx("span",{className:"text-xs font-medium text-text-light-secondary dark:text-text-dark-secondary",children:"Email"}),g.jsx("input",{className:"mt-1 block w-full rounded-md border-zinc-300 bg-zinc-50 p-2 text-sm text-text-light-primary shadow-sm focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",value:o,onChange:R=>l(R.target.value),type:"email",required:!0})]}),g.jsxs("label",{className:"mt-3 block",children:[g.jsx("span",{className:"text-xs font-medium text-text-light-secondary dark:text-text-dark-secondary",children:"Senha"}),g.jsx("input",{className:"mt-1 block w-full rounded-md border-zinc-300 bg-zinc-50 p-2 text-sm text-text-light-primary shadow-sm focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",value:u,onChange:R=>d(R.target.value),type:"password",required:!0})]}),f&&g.jsx("p",{className:"mt-3 text-xs text-red-500",children:f}),g.jsx("button",{className:"mt-4 w-full rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white hover:brightness-110 disabled:opacity-70",disabled:v,type:"submit",children:v?"Entrando...":"Entrar"}),g.jsxs("p",{className:"mt-4 text-xs text-text-light-secondary dark:text-text-dark-secondary",children:["Nao tem conta?"," ",g.jsx(xn,{className:"font-semibold text-primary",to:"/auth/signup",children:"Criar conta"})]})]})})}function FP(){const n=Yt(),{resetCanvas:e,setMeta:t}=vn(),[r,i]=T.useState(""),[o,l]=T.useState(""),[u,d]=T.useState(Hd()),f=()=>{e(),t({startup:r,evaluator:o,date:u}),n("/survey/consent?next=/canvas")};return g.jsxs("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden bg-background-light font-display dark:bg-background-dark",children:[g.jsx(ur,{title:"Novo SRL Canvas"}),g.jsx("main",{className:"flex-grow space-y-4 px-4 pb-28 pt-6",children:g.jsxs("section",{className:"rounded-xl border border-zinc-200/80 bg-card-light p-4 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsx("p",{className:"mb-4 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:"Crie um novo SRL Canvas para iniciar uma avaliacao do zero."}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("label",{className:"block",children:[g.jsx("span",{className:"text-xs font-medium text-text-light-secondary dark:text-text-dark-secondary",children:"Startup"}),g.jsx("input",{className:"mt-1 block w-full rounded-md border-zinc-300 bg-zinc-50 p-2 text-sm text-text-light-primary shadow-sm focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",value:r,onChange:p=>i(p.target.value),type:"text"})]}),g.jsxs("label",{className:"block",children:[g.jsx("span",{className:"text-xs font-medium text-text-light-secondary dark:text-text-dark-secondary",children:"Avaliador"}),g.jsx("input",{className:"mt-1 block w-full rounded-md border-zinc-300 bg-zinc-50 p-2 text-sm text-text-light-primary shadow-sm focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",value:o,onChange:p=>l(p.target.value),type:"text"})]}),g.jsxs("label",{className:"block",children:[g.jsx("span",{className:"text-xs font-medium text-text-light-secondary dark:text-text-dark-secondary",children:"Data"}),g.jsx("input",{className:"mt-1 block w-full rounded-md border-zinc-300 bg-zinc-50 p-2 text-sm text-text-light-primary shadow-sm focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",value:u,onChange:p=>d(p.target.value),placeholder:"dd/mm/aaaa",type:"text"})]})]}),g.jsx("button",{className:"mt-4 rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white hover:brightness-110",onClick:f,type:"button",children:"Criar Canvas"})]})}),g.jsx(Dn,{})]})}function $P(n){if(!n)return"-";const e=new Date(n);return Number.isNaN(e.getTime())?n:e.toLocaleString("pt-BR")}function UP(){const n=Yt(),[e]=Oy(),{user:t}=wn(),r=e.get("next")||"/canvas",i=T.useMemo(()=>`/survey?next=${encodeURIComponent(r)}`,[r]),[o,l]=T.useState(!0),[u,d]=T.useState(!1),[f,p]=T.useState(!1),[v,x]=T.useState(null),[b,_]=T.useState(null),[k,S]=T.useState(null),[R,P]=T.useState(null),[j,I]=T.useState(!1);T.useEffect(()=>{let M=!0;return Gd((t==null?void 0:t.id)??null).then(B=>{M&&(I(B.accepted),S(B.acceptedAt),_(null))}).catch(B=>{M&&_(B instanceof Error?B.message:"Falha ao carregar status do TCLE.")}).finally(()=>{M&&l(!1)}),()=>{M=!1}},[t==null?void 0:t.id]);const F=async()=>{d(!0),_(null),x(null);try{const M=await YS({userId:(t==null?void 0:t.id)??null,nextPath:r});P(M),I(!0),S(new Date().toISOString()),x("Consentimento registrado com sucesso."),n(i)}catch(M){_(M instanceof Error?M.message:"Falha ao registrar consentimento.")}finally{d(!1)}},$=async()=>{p(!0),_(null),x(null);try{await ov((t==null?void 0:t.id)??null),I(!1),S(null),P(null),x("Consentimento revogado. A pesquisa nao podera ser enviada sem novo aceite.")}catch(M){_(M instanceof Error?M.message:"Falha ao revogar consentimento.")}finally{p(!1)}};return g.jsxs("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden bg-background-light font-display dark:bg-background-dark",children:[g.jsx(ur,{title:"TCLE - Pesquisa Academica",backTo:r}),g.jsxs("main",{className:"flex-grow space-y-4 px-4 pb-28 pt-6",children:[g.jsxs("section",{className:"rounded-xl border border-zinc-200/80 bg-card-light p-4 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsx("h2",{className:"text-base font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Termo de Consentimento Livre e Esclarecido (TCLE)"}),g.jsxs("p",{className:"mt-2 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:["Versao de consentimento: ",g.jsx("strong",{children:Kd})]}),g.jsxs("div",{className:"mt-3 space-y-1 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:[g.jsxs("p",{children:[g.jsx("strong",{children:"Titulo da pesquisa:"})," ",pn.title]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Pesquisador responsavel:"})," ",pn.researcher]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Contato do pesquisador:"})," ",pn.researcherContact]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Orientador:"})," ",pn.advisor]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Instituicao proponente:"})," ",pn.institution]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Programa:"})," ",pn.program]})]})]}),KS.map(M=>g.jsxs("section",{className:"rounded-xl border border-zinc-200/80 bg-card-light p-4 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsxs("h3",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:[M.id,". ",M.title]}),g.jsx("div",{className:"mt-2 space-y-2 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:M.paragraphs.map((B,G)=>g.jsx("p",{children:B},`${M.id}_${G}`))})]},M.id)),g.jsxs("section",{className:"rounded-xl border border-zinc-200/80 bg-card-light p-4 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsx("h3",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Informacoes eticas e de protecao de dados"}),g.jsxs("div",{className:"mt-2 space-y-2 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:[g.jsxs("p",{children:[g.jsx("strong",{children:"Comite de Etica:"})," ",pn.ethicsCommittee.name]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Contato CEP:"})," ",pn.ethicsCommittee.contact]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Endereco CEP:"})," ",pn.ethicsCommittee.address]}),g.jsxs("p",{children:[g.jsx("strong",{children:"DPO/Encarregada IFMS:"})," ",pn.dpo]}),g.jsx("p",{children:"Ao continuar, voce declara que leu e compreendeu o TCLE e concorda em participar da pesquisa de forma livre e voluntaria."})]})]}),o&&g.jsx("section",{className:"rounded-xl border border-zinc-200/80 bg-card-light p-4 text-sm text-text-light-secondary dark:border-zinc-800/80 dark:bg-card-dark dark:text-text-dark-secondary",children:"Carregando status do consentimento..."}),!o&&g.jsxs("section",{className:"rounded-xl border border-zinc-200/80 bg-card-light p-4 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsx("h3",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Declaracao de aceite"}),g.jsxs("div",{className:"mt-2 space-y-1 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:[g.jsxs("p",{children:[g.jsx("strong",{children:"Status atual:"})," ",j?"Consentimento ativo":"Sem consentimento ativo"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Registrado em:"})," ",$P(k)]}),R&&g.jsxs("p",{children:[g.jsx("strong",{children:"Protocolo:"})," ",R.id," (",R.storage,")"]})]}),(v||b)&&g.jsxs("div",{className:"mt-3 space-y-1",children:[v&&g.jsx("p",{className:"text-xs text-emerald-700 dark:text-emerald-300",children:v}),b&&g.jsx("p",{className:"text-xs text-red-600 dark:text-red-300",children:b})]}),g.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[g.jsx("button",{type:"button",onClick:F,disabled:u,className:"rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white hover:brightness-110 disabled:cursor-not-allowed disabled:opacity-60",children:u?"Registrando...":"Concordo e continuar para pesquisa"}),g.jsx("button",{type:"button",onClick:()=>n(r),className:"rounded-lg border border-zinc-300 px-4 py-2 text-sm font-semibold text-text-light-secondary hover:bg-zinc-100 dark:border-zinc-700 dark:text-text-dark-secondary dark:hover:bg-zinc-800",children:"Nao concordo"}),j&&g.jsx("button",{type:"button",onClick:$,disabled:f,className:"rounded-lg border border-red-300 px-4 py-2 text-sm font-semibold text-red-700 hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60 dark:border-red-700/50 dark:text-red-300 dark:hover:bg-red-900/20",children:f?"Revogando...":"Revogar consentimento"})]})]})]}),g.jsx(Dn,{})]})}const uy="srl-research-survey-responses-v1",BP="srl-research-survey-draft-v1",Ps=n=>n==="sim"?!0:n==="nao"?!1:null,kl=n=>`${BP}:${n??"guest"}`,VP=()=>bd.reduce((n,e)=>(n[e.key]=null,n),{}),dy=()=>{const n=xd.reduce((t,r)=>(t[r.key]={ratings:VP(),comment:""},t),{}),e=wd.reduce((t,r)=>(t[r.key]=null,t),{});return{age18OrMore:"",actedInEcosystem12Months:"",viewedSrlMaterial:"",primaryRole:"",primaryRoleOther:"",experienceYears:"",sector:"",sectorOther:"",startupStage:"",locationCountry:"",teamSize:"",dimensionAnswers:n,scaleClarity:null,scaleUtility:null,preferredScale:"",preferredScaleOther:"",preferredScaleReason:"",susAnswers:e,usageContexts:[],usageContextOther:"",npsScore:null,acceptableTime:"",adoptionBarriers:"",suggestedImprovements:"",wantsFinalVersion:"",acceptsInterview:"",preferredContact:"",allowsAnonymousQuotes:""}};function WP(n){const e=window.localStorage.getItem(kl(n));if(!e)return null;try{return JSON.parse(e)}catch{return window.localStorage.removeItem(kl(n)),null}}function HP(n){const e={values:n.values,nextPath:n.nextPath,startedAtIso:n.startedAtIso??void 0,updatedAt:new Date().toISOString()};window.localStorage.setItem(kl(n.userId),JSON.stringify(e))}function hy(n){window.localStorage.removeItem(kl(n))}const qP=({userId:n,values:e,nextPath:t,startedAtIso:r})=>{const i=Ps(e.age18OrMore),o=Ps(e.actedInEcosystem12Months),l=Ps(e.viewedSrlMaterial);if(i===null||o===null||l===null)throw new Error("Perguntas de triagem incompletas.");const u=i&&o&&l,d=new Date,f=r?new Date(r):null,p=f&&!Number.isNaN(f.getTime())?Math.max(0,Math.round((d.getTime()-f.getTime())/1e3)):null;return{user_id:n,consent_accepted:!0,consent_version:MS,age_18_or_more:i,acted_in_ecosystem_12m:o,viewed_srl_material:l,is_eligible:u,profile:{primary_role:e.primaryRole,primary_role_other:e.primaryRoleOther.trim()||null,experience_years:e.experienceYears,sector:e.sector,sector_other:e.sectorOther.trim()||null,startup_stage:e.startupStage,location_country:e.locationCountry.trim(),team_size:e.teamSize},dimension_answers:e.dimensionAnswers,scale_feedback:{clarity_1_9:e.scaleClarity,utility_1_9:e.scaleUtility,preferred_scale:e.preferredScale,preferred_scale_other:e.preferredScaleOther.trim()||null,preferred_scale_reason:e.preferredScaleReason.trim()||null},sus_answers:e.susAnswers,adoption_feedback:{usage_contexts:e.usageContexts,usage_context_other:e.usageContextOther.trim()||null,nps_score:e.npsScore,acceptable_time:e.acceptableTime,adoption_barriers:e.adoptionBarriers.trim()||null,suggested_improvements:e.suggestedImprovements.trim()||null},follow_up:{wants_final_version:Ps(e.wantsFinalVersion),accepts_interview:Ps(e.acceptsInterview),preferred_contact:e.preferredContact.trim()||null,allows_anonymous_quotes:Ps(e.allowsAnonymousQuotes)},metadata:{survey_version:nv,submitted_from_route:"/survey",next_path:t,user_agent:typeof navigator<"u"?navigator.userAgent:"unknown",estimated_duration_minutes:"10-12",started_at_client:r??null,submitted_at_client:d.toISOString(),completion_seconds:p,completion_minutes:p===null?null:Number((p/60).toFixed(2))}}},KP=n=>{const e=crypto.randomUUID(),t=JSON.parse(window.localStorage.getItem(uy)??"[]"),r={id:e,createdAt:new Date().toISOString(),payload:n};return window.localStorage.setItem(uy,JSON.stringify([r,...t])),{id:e,storage:"local"}};async function GP(n){const e=qP(n);if(!Be||!n.userId)return KP(e);const{data:t,error:r}=await Be.from("research_survey_responses").insert(e).select("id").single();if(r)throw new Error(r.message);return{id:t.id,storage:"supabase"}}const js=[{value:"sim",label:"Sim"},{value:"nao",label:"Nao"}];function pt({legend:n,name:e,value:t,options:r,onChange:i,dense:o=!1}){return g.jsxs("fieldset",{className:"space-y-2",children:[g.jsx("legend",{className:"text-sm font-medium text-text-light-primary dark:text-text-dark-primary",children:n}),g.jsx("div",{className:`flex flex-wrap gap-2 ${o?"gap-1.5":""}`,children:r.map(l=>{const u=t===l.value;return g.jsxs("label",{className:`inline-flex cursor-pointer items-center gap-2 rounded-lg border px-3 py-2 text-sm transition ${u?"border-primary bg-primary/10 text-text-light-primary dark:text-text-dark-primary":"border-zinc-300 text-text-light-secondary hover:bg-zinc-100 dark:border-zinc-700 dark:text-text-dark-secondary dark:hover:bg-zinc-800"}`,children:[g.jsx("input",{className:"sr-only",type:"radio",name:e,checked:u,onChange:()=>i(l.value)}),l.label]},String(l.value))})})]})}function el({legend:n,name:e,value:t,onChange:r}){return g.jsx(pt,{legend:n,name:e,value:t,options:rv.map(i=>({value:i,label:String(i)})),onChange:r,dense:!0})}function Mr({title:n,children:e}){return g.jsxs("section",{className:"rounded-xl border border-zinc-200/80 bg-card-light p-4 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsx("h2",{className:"text-base font-semibold text-text-light-primary dark:text-text-dark-primary",children:n}),g.jsx("div",{className:"mt-3 space-y-4",children:e})]})}function YP(){const n=Yt(),[e]=Oy(),{user:t}=wn(),r=e.get("next")||"/canvas",[i,o]=T.useState(()=>dy()),[l,u]=T.useState([]),[d,f]=T.useState(!1),[p,v]=T.useState(null),[x,b]=T.useState(null),[_,k]=T.useState(!0),[S,R]=T.useState(!1),[P,j]=T.useState(null),[I,F]=T.useState(!1),[$,M]=T.useState(null),[B,G]=T.useState(()=>new Date().toISOString()),[le,he]=T.useState(null);T.useEffect(()=>{const C=WP((t==null?void 0:t.id)??null);C&&(o(C.values),M(C.updatedAt),C.startedAtIso&&G(C.startedAtIso)),F(!0)},[t==null?void 0:t.id]),T.useEffect(()=>{!I||p||(HP({userId:(t==null?void 0:t.id)??null,values:i,nextPath:r,startedAtIso:B}),M(new Date().toISOString()))},[I,r,p,B,t==null?void 0:t.id,i]),T.useEffect(()=>{let C=!0;return Gd((t==null?void 0:t.id)??null).then(z=>{C&&(R(z.accepted),j(null))}).catch(z=>{C&&j(z instanceof Error?z.message:"Falha ao validar consentimento.")}).finally(()=>{C&&k(!1)}),()=>{C=!1}},[t==null?void 0:t.id]);const fe=i.age18OrMore==="sim"&&i.actedInEcosystem12Months==="sim"&&i.viewedSrlMaterial==="sim",Le=i.age18OrMore!==""&&i.actedInEcosystem12Months!==""&&i.viewedSrlMaterial!==""&&!fe,ve=T.useMemo(()=>rv.map(C=>`${C} = ${zS[C]}`).join(" | "),[]),ne=(C,z)=>{o(Z=>({...Z,[C]:z}))},ye=C=>{o(z=>{const re=z.usageContexts.includes(C)?z.usageContexts.filter(de=>de!==C):[...z.usageContexts,C];return{...z,usageContexts:re}})},q=()=>{const C=[];i.primaryRole||C.push("Selecione seu papel principal."),i.experienceYears||C.push("Selecione seu tempo de experiencia."),i.sector||C.push("Selecione o setor predominante."),i.startupStage||C.push("Selecione o estagio tipico das startups."),i.locationCountry.trim()||C.push("Informe localidade/pais de atuacao."),i.teamSize||C.push("Selecione o tamanho medio das equipes."),i.primaryRole==="outro"&&!i.primaryRoleOther.trim()&&C.push("Descreva seu papel principal em 'Outro'."),i.sector==="outro"&&!i.sectorOther.trim()&&C.push("Descreva o setor em 'Outro'.");for(const z of xd){const Z=i.dimensionAnswers[z.key];for(const re of bd)if(Z.ratings[re.key]===null){C.push(`Preencha todas as avaliacoes do bloco ${z.label}.`);break}}i.scaleClarity===null&&C.push("Responda a clareza da escala 1 a 9."),i.scaleUtility===null&&C.push("Responda a utilidade da escala 1 a 9."),i.preferredScale||C.push("Informe se preferiria outra escala."),i.preferredScale==="outro"&&!i.preferredScaleOther.trim()&&C.push("Descreva a escala preferida em 'Outro'."),i.preferredScale!=="nao"&&!i.preferredScaleReason.trim()&&C.push("Explique por que prefere outra escala.");for(const z of wd)if(i.susAnswers[z.key]===null){C.push("Responda todos os itens de usabilidade (SUS).");break}return i.usageContexts.length===0&&C.push("Selecione pelo menos um contexto de uso do SRL Canvas."),i.usageContexts.includes("outro")&&!i.usageContextOther.trim()&&C.push("Descreva o contexto em 'Outro'."),i.npsScore===null&&C.push("Informe a nota de recomendacao (NPS)."),i.acceptableTime||C.push("Selecione o tempo aceitavel de aplicacao."),i.acceptsInterview==="sim"&&!i.preferredContact.trim()&&C.push("Informe contato preferido para follow-up."),C},se=()=>{const C=[];return i.age18OrMore===""&&C.push("Responda se possui 18 anos ou mais."),i.actedInEcosystem12Months===""&&C.push("Responda se atua ou atuou no ecossistema nos ultimos 12 meses."),i.viewedSrlMaterial===""&&C.push("Confirme se visualizou o SRL Canvas e o guia breve de aplicacao."),fe&&C.push(...q()),Array.from(new Set(C))},K=async C=>{C.preventDefault();const z=se();if(z.length>0){u(z),b(null);return}u([]),b(null),f(!0);try{const Z=await GP({userId:(t==null?void 0:t.id)??null,values:i,nextPath:r,startedAtIso:B});he(JP(B)),hy((t==null?void 0:t.id)??null),M(null),v(Z)}catch(Z){b(Z instanceof Error?Z.message:"Falha ao enviar pesquisa.")}finally{f(!1)}};return _?g.jsxs("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden bg-background-light font-display dark:bg-background-dark",children:[g.jsx(ur,{title:"Questionario Quantitativo SRL Canvas",backTo:r}),g.jsx("main",{className:"flex-grow px-4 pb-28 pt-6",children:g.jsx("section",{className:"rounded-xl border border-zinc-200/80 bg-card-light p-4 text-sm text-text-light-secondary dark:border-zinc-800/80 dark:bg-card-dark dark:text-text-dark-secondary",children:"Carregando status do consentimento (TCLE)..."})}),g.jsx(Dn,{})]}):S?p?g.jsxs("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden bg-background-light font-display dark:bg-background-dark",children:[g.jsx(ur,{title:"Pesquisa Academica",backTo:r}),g.jsx("main",{className:"flex-grow px-4 pb-28 pt-6",children:g.jsxs("section",{className:"rounded-xl border border-emerald-300/80 bg-emerald-50 p-4 dark:border-emerald-700/70 dark:bg-emerald-900/20",children:[g.jsx("h2",{className:"text-base font-semibold text-emerald-900 dark:text-emerald-200",children:"Obrigado pela sua contribuicao"}),g.jsxs("p",{className:"mt-2 text-sm text-emerald-800 dark:text-emerald-300",children:["Resposta enviada com sucesso. Protocolo: ",g.jsx("strong",{children:p.id})]}),le&&g.jsxs("p",{className:"mt-1 text-xs text-emerald-700 dark:text-emerald-400",children:["Tempo aproximado de preenchimento: ",g.jsx("strong",{children:le})]}),g.jsxs("p",{className:"mt-1 text-xs text-emerald-700 dark:text-emerald-400",children:["Armazenamento:"," ",p.storage==="supabase"?"Supabase":"localStorage (modo local)"]}),g.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[g.jsx("button",{type:"button",onClick:()=>n(r),className:"rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white hover:brightness-110",children:"Voltar"}),g.jsx("button",{type:"button",onClick:()=>{hy((t==null?void 0:t.id)??null),v(null),o(dy()),M(null),he(null),G(new Date().toISOString())},className:"rounded-lg border border-zinc-300 px-4 py-2 text-sm font-semibold text-text-light-secondary hover:bg-zinc-100 dark:border-zinc-700 dark:text-text-dark-secondary dark:hover:bg-zinc-800",children:"Enviar nova resposta"})]})]})}),g.jsx(Dn,{})]}):g.jsxs("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden bg-background-light font-display dark:bg-background-dark",children:[g.jsx(ur,{title:"Questionario Quantitativo SRL Canvas",backTo:r}),g.jsxs("main",{className:"flex-grow space-y-4 px-4 pb-28 pt-6",children:[g.jsxs("section",{className:"rounded-xl border border-zinc-200/80 bg-card-light p-4 dark:border-zinc-800/80 dark:bg-card-dark",children:[g.jsx("h2",{className:"text-base font-semibold text-text-light-primary dark:text-text-dark-primary",children:"Antes de comecar"}),g.jsxs("p",{className:"mt-2 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:["Tempo estimado de resposta: ",g.jsx("strong",{children:"10 a 12 minutos"}),"."]}),g.jsx("p",{className:"mt-1 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:"Sua participacao e essencial para esta pesquisa de mestrado e para validar cientificamente o SRL Canvas."}),g.jsx("p",{className:"mt-1 text-sm text-text-light-secondary dark:text-text-dark-secondary",children:"As respostas ajudam a medir clareza, utilidade e impacto da ferramenta no ecossistema de inovacao."})]}),g.jsxs(Mr,{title:"1. Triagem e elegibilidade",children:[g.jsx(pt,{legend:"1.1 Voce possui 18 anos ou mais?",name:"age18",value:i.age18OrMore,options:js,onChange:C=>ne("age18OrMore",C)}),g.jsx(pt,{legend:"1.2 Voce atua ou atuou no ecossistema de inovacao/startups nos ultimos 12 meses?",name:"ecosystem12months",value:i.actedInEcosystem12Months,options:js,onChange:C=>ne("actedInEcosystem12Months",C)}),g.jsx(pt,{legend:"4. Antes de responder, voce visualizou o SRL Canvas e o guia breve de aplicacao?",name:"viewedMaterial",value:i.viewedSrlMaterial,options:js,onChange:C=>ne("viewedSrlMaterial",C)}),Le&&g.jsx("p",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3 text-sm text-amber-800 dark:border-amber-700/40 dark:bg-amber-900/20 dark:text-amber-300",children:"Pelas respostas de triagem, voce nao se enquadra no perfil de elegibilidade completa. Se desejar, envie apenas a triagem e prossiga para o app."})]}),fe&&g.jsxs(g.Fragment,{children:[g.jsxs(Mr,{title:"3. Perfil do respondente",children:[g.jsx(pt,{legend:"3.1 Qual o seu papel principal no ecossistema de inovacao?",name:"primaryRole",value:i.primaryRole,options:FS.map(C=>({value:C.value,label:C.label})),onChange:C=>ne("primaryRole",C)}),i.primaryRole==="outro"&&g.jsxs("label",{className:"block",children:[g.jsx("span",{className:"text-xs font-medium text-text-light-secondary dark:text-text-dark-secondary",children:"Especifique seu papel"}),g.jsx("input",{className:"mt-1 block w-full rounded-md border-zinc-300 bg-zinc-50 p-2 text-sm text-text-light-primary shadow-sm focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",type:"text",value:i.primaryRoleOther,onChange:C=>ne("primaryRoleOther",C.target.value)})]}),g.jsx(pt,{legend:"3.2 Qual o seu tempo de experiencia com startups?",name:"experienceYears",value:i.experienceYears,options:$S.map(C=>({value:C.value,label:C.label})),onChange:C=>ne("experienceYears",C)}),g.jsx(pt,{legend:"3.3 Qual o setor predominante de sua atuacao?",name:"sector",value:i.sector,options:US.map(C=>({value:C.value,label:C.label})),onChange:C=>ne("sector",C)}),i.sector==="outro"&&g.jsxs("label",{className:"block",children:[g.jsx("span",{className:"text-xs font-medium text-text-light-secondary dark:text-text-dark-secondary",children:"Especifique o setor"}),g.jsx("input",{className:"mt-1 block w-full rounded-md border-zinc-300 bg-zinc-50 p-2 text-sm text-text-light-primary shadow-sm focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",type:"text",value:i.sectorOther,onChange:C=>ne("sectorOther",C.target.value)})]}),g.jsx(pt,{legend:"3.4 Qual o estagio tipico das startups com as quais voce interage?",name:"startupStage",value:i.startupStage,options:BS.map(C=>({value:C.value,label:C.label})),onChange:C=>ne("startupStage",C)}),g.jsxs("label",{className:"block",children:[g.jsx("span",{className:"text-sm font-medium text-text-light-primary dark:text-text-dark-primary",children:"3.5 Qual a sua localidade/pais de atuacao?"}),g.jsx("input",{className:"mt-1 block w-full rounded-md border-zinc-300 bg-zinc-50 p-2 text-sm text-text-light-primary shadow-sm focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",type:"text",value:i.locationCountry,onChange:C=>ne("locationCountry",C.target.value),placeholder:"Ex.: Campo Grande, Brasil"})]}),g.jsx(pt,{legend:"3.6 Qual o tamanho medio das equipes que voce acompanha/avalia?",name:"teamSize",value:i.teamSize,options:VS.map(C=>({value:C.value,label:C.label})),onChange:C=>ne("teamSize",C)})]}),g.jsxs(Mr,{title:"5. Avaliacao por dimensao (12 blocos)",children:[g.jsxs("p",{className:"text-xs text-text-light-secondary dark:text-text-dark-secondary",children:["Escala Likert: ",ve]}),g.jsx("div",{className:"space-y-4",children:xd.map((C,z)=>{const Z=i.dimensionAnswers[C.key];return g.jsxs("article",{className:"rounded-xl border border-zinc-200/80 p-3 dark:border-zinc-800/80",children:[g.jsxs("h3",{className:"text-sm font-semibold text-text-light-primary dark:text-text-dark-primary",children:["5.",z+1,". ",C.label]}),g.jsxs("div",{className:"mt-3 space-y-3",children:[bd.map(re=>g.jsx(el,{legend:re.label,name:`${C.key}_${re.key}`,value:Z.ratings[re.key],onChange:de=>o(pe=>({...pe,dimensionAnswers:{...pe.dimensionAnswers,[C.key]:{...pe.dimensionAnswers[C.key],ratings:{...pe.dimensionAnswers[C.key].ratings,[re.key]:de}}}}))},`${C.key}_${re.key}`)),g.jsxs("label",{className:"block",children:[g.jsx("span",{className:"text-xs font-medium text-text-light-secondary dark:text-text-dark-secondary",children:"Comentario breve (opcional)"}),g.jsx("textarea",{className:"mt-1 block min-h-20 w-full rounded-md border-zinc-300 bg-zinc-50 p-2 text-sm text-text-light-primary shadow-sm focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",value:Z.comment,onChange:re=>o(de=>({...de,dimensionAnswers:{...de.dimensionAnswers,[C.key]:{...de.dimensionAnswers[C.key],comment:re.target.value}}}))})]})]})]},C.key)})})]}),g.jsxs(Mr,{title:"6. Escala de niveis (1 a 9) - clareza e utilidade",children:[g.jsx(el,{legend:"6.1 A escala de 1 a 9 e clara e com ancoras suficientes para diferenciar os niveis?",name:"scaleClarity",value:i.scaleClarity,onChange:C=>ne("scaleClarity",C)}),g.jsx(el,{legend:"6.2 A escala de 1 a 9 e util para comparacoes entre startups?",name:"scaleUtility",value:i.scaleUtility,onChange:C=>ne("scaleUtility",C)}),g.jsx(pt,{legend:"6.3 Voce preferiria outra escala?",name:"preferredScale",value:i.preferredScale,options:WS.map(C=>({value:C.value,label:C.label})),onChange:C=>ne("preferredScale",C)}),i.preferredScale==="outro"&&g.jsxs("label",{className:"block",children:[g.jsx("span",{className:"text-xs font-medium text-text-light-secondary dark:text-text-dark-secondary",children:"Qual escala preferida?"}),g.jsx("input",{className:"mt-1 block w-full rounded-md border-zinc-300 bg-zinc-50 p-2 text-sm text-text-light-primary shadow-sm focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",type:"text",value:i.preferredScaleOther,onChange:C=>ne("preferredScaleOther",C.target.value)})]}),i.preferredScale!=="nao"&&i.preferredScale!==""&&g.jsxs("label",{className:"block",children:[g.jsx("span",{className:"text-xs font-medium text-text-light-secondary dark:text-text-dark-secondary",children:"Por que?"}),g.jsx("textarea",{className:"mt-1 block min-h-20 w-full rounded-md border-zinc-300 bg-zinc-50 p-2 text-sm text-text-light-primary shadow-sm focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",value:i.preferredScaleReason,onChange:C=>ne("preferredScaleReason",C.target.value)})]})]}),g.jsxs(Mr,{title:"7. Usabilidade (SUS - System Usability Scale)",children:[g.jsxs("p",{className:"text-xs text-text-light-secondary dark:text-text-dark-secondary",children:["Escala Likert: ",ve]}),g.jsx("div",{className:"space-y-3",children:wd.map(C=>g.jsx(el,{legend:`7.${C.key} ${C.label}`,name:`sus_${C.key}`,value:i.susAnswers[C.key],onChange:z=>o(Z=>({...Z,susAnswers:{...Z.susAnswers,[C.key]:z}}))},`sus_${C.key}`))})]}),g.jsxs(Mr,{title:"8. Aplicacao, utilidade e adocao",children:[g.jsxs("fieldset",{className:"space-y-2",children:[g.jsx("legend",{className:"text-sm font-medium text-text-light-primary dark:text-text-dark-primary",children:"8.1 Em quais contextos voce usaria o SRL Canvas? (Marque todas as opcoes)"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:HS.map(C=>{const z=i.usageContexts.includes(C.value);return g.jsxs("label",{className:`inline-flex cursor-pointer items-center gap-2 rounded-lg border px-3 py-2 text-sm transition ${z?"border-primary bg-primary/10 text-text-light-primary dark:text-text-dark-primary":"border-zinc-300 text-text-light-secondary hover:bg-zinc-100 dark:border-zinc-700 dark:text-text-dark-secondary dark:hover:bg-zinc-800"}`,children:[g.jsx("input",{className:"sr-only",type:"checkbox",checked:z,onChange:()=>ye(C.value)}),C.label]},C.value)})})]}),i.usageContexts.includes("outro")&&g.jsxs("label",{className:"block",children:[g.jsx("span",{className:"text-xs font-medium text-text-light-secondary dark:text-text-dark-secondary",children:'Especifique o contexto em "Outro"'}),g.jsx("input",{className:"mt-1 block w-full rounded-md border-zinc-300 bg-zinc-50 p-2 text-sm text-text-light-primary shadow-sm focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",type:"text",value:i.usageContextOther,onChange:C=>ne("usageContextOther",C.target.value)})]}),g.jsx(pt,{legend:"8.2 Qual a probabilidade de voce recomendar o SRL Canvas? (NPS 0 a 10)",name:"npsScore",value:i.npsScore,options:Array.from({length:11},(C,z)=>({value:z,label:String(z)})),onChange:C=>ne("npsScore",C),dense:!0}),g.jsx(pt,{legend:"8.3 Qual seria o tempo aceitavel de aplicacao do SRL Canvas (por startup)?",name:"acceptableTime",value:i.acceptableTime,options:qS.map(C=>({value:C.value,label:C.label})),onChange:C=>ne("acceptableTime",C)}),g.jsxs("label",{className:"block",children:[g.jsx("span",{className:"text-sm font-medium text-text-light-primary dark:text-text-dark-primary",children:"8.4 Quais barreiras de adocao voce enxerga para o SRL Canvas?"}),g.jsx("textarea",{className:"mt-1 block min-h-24 w-full rounded-md border-zinc-300 bg-zinc-50 p-2 text-sm text-text-light-primary shadow-sm focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",value:i.adoptionBarriers,onChange:C=>ne("adoptionBarriers",C.target.value)})]}),g.jsxs("label",{className:"block",children:[g.jsx("span",{className:"text-sm font-medium text-text-light-primary dark:text-text-dark-primary",children:"8.5 Quais as 1-3 principais melhorias que voce sugeriria para o SRL Canvas?"}),g.jsx("textarea",{className:"mt-1 block min-h-24 w-full rounded-md border-zinc-300 bg-zinc-50 p-2 text-sm text-text-light-primary shadow-sm focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",value:i.suggestedImprovements,onChange:C=>ne("suggestedImprovements",C.target.value)})]})]}),g.jsxs(Mr,{title:"9. Dados para follow-up (opcionais)",children:[g.jsx(pt,{legend:"9.1 Deseja receber a versao final do SRL Canvas e/ou relatorio-sintese da pesquisa?",name:"wantsFinalVersion",value:i.wantsFinalVersion,options:js,onChange:C=>ne("wantsFinalVersion",C)}),g.jsx(pt,{legend:"9.2 Aceita ser convidado(a) para entrevista de aprofundamento (20-30 minutos)?",name:"acceptsInterview",value:i.acceptsInterview,options:js,onChange:C=>ne("acceptsInterview",C)}),i.acceptsInterview==="sim"&&g.jsxs("label",{className:"block",children:[g.jsx("span",{className:"text-sm font-medium text-text-light-primary dark:text-text-dark-primary",children:"9.3 Contato preferido (e-mail ou WhatsApp)"}),g.jsx("input",{className:"mt-1 block w-full rounded-md border-zinc-300 bg-zinc-50 p-2 text-sm text-text-light-primary shadow-sm focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",type:"text",value:i.preferredContact,onChange:C=>ne("preferredContact",C.target.value)})]}),g.jsx(pt,{legend:"9.4 Autoriza citacao nao identificada de trechos das respostas em publicacoes academicas?",name:"allowsAnonymousQuotes",value:i.allowsAnonymousQuotes,options:js,onChange:C=>ne("allowsAnonymousQuotes",C)})]})]}),(l.length>0||x)&&g.jsxs("section",{className:"rounded-xl border border-red-300/80 bg-red-50 p-4 dark:border-red-700/70 dark:bg-red-900/20",children:[g.jsx("h3",{className:"text-sm font-semibold text-red-800 dark:text-red-300",children:"Revise os pontos abaixo"}),x&&g.jsx("p",{className:"mt-1 text-sm text-red-700 dark:text-red-300",children:x}),l.length>0&&g.jsx("ul",{className:"mt-2 list-disc space-y-1 pl-5 text-sm text-red-700 dark:text-red-300",children:l.map(C=>g.jsx("li",{children:C},C))})]}),g.jsxs("form",{onSubmit:K,className:"space-y-3",children:[g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("button",{type:"submit",disabled:d,className:"rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white hover:brightness-110 disabled:cursor-not-allowed disabled:opacity-60",children:d?"Enviando...":"Enviar pesquisa"}),g.jsx("button",{type:"button",onClick:()=>n(r),className:"rounded-lg border border-zinc-300 px-4 py-2 text-sm font-semibold text-text-light-secondary hover:bg-zinc-100 dark:border-zinc-700 dark:text-text-dark-secondary dark:hover:bg-zinc-800",children:"Responder depois"})]}),$&&g.jsxs("p",{className:"text-xs text-text-light-secondary dark:text-text-dark-secondary",children:["Rascunho salvo automaticamente em"," ",new Date($).toLocaleString("pt-BR")]})]})]}),g.jsx(Dn,{})]}):g.jsxs("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden bg-background-light font-display dark:bg-background-dark",children:[g.jsx(ur,{title:"Questionario Quantitativo SRL Canvas",backTo:r}),g.jsx("main",{className:"flex-grow space-y-4 px-4 pb-28 pt-6",children:g.jsxs("section",{className:"rounded-xl border border-amber-200 bg-amber-50 p-4 dark:border-amber-700/40 dark:bg-amber-900/20",children:[g.jsx("h2",{className:"text-sm font-semibold text-amber-800 dark:text-amber-300",children:"Consentimento obrigatorio"}),g.jsx("p",{className:"mt-2 text-sm text-amber-800 dark:text-amber-300",children:"Para responder o questionario, voce precisa aceitar o TCLE antes."}),P&&g.jsx("p",{className:"mt-2 text-xs text-red-600 dark:text-red-300",children:P}),g.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[g.jsx("button",{type:"button",onClick:()=>n(`/survey/consent?next=${encodeURIComponent(r)}`),className:"rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white hover:brightness-110",children:"Ler e aceitar TCLE"}),g.jsx("button",{type:"button",onClick:()=>n(r),className:"rounded-lg border border-zinc-300 px-4 py-2 text-sm font-semibold text-text-light-secondary hover:bg-zinc-100 dark:border-zinc-700 dark:text-text-dark-secondary dark:hover:bg-zinc-800",children:"Responder depois"})]})]})}),g.jsx(Dn,{})]})}function JP(n){const e=new Date(n);if(Number.isNaN(e.getTime()))return null;const t=Date.now()-e.getTime();if(t<0)return null;const r=Math.round(t/1e3),i=Math.floor(r/60),o=r%60;return`${i}m ${String(o).padStart(2,"0")}s`}function QP(){const n=Yt(),{signUp:e,user:t,isEnabled:r}=wn(),[i,o]=T.useState(""),[l,u]=T.useState(""),[d,f]=T.useState(null),[p,v]=T.useState(!1);if(!r)return g.jsx(Kr,{replace:!0,to:"/account"});if(t)return g.jsx(Kr,{replace:!0,to:"/dashboard"});const x=async b=>{b.preventDefault(),v(!0),f(null);const _=await e(i,l);if(v(!1),_.error){f(_.error);return}n("/dashboard",{replace:!0})};return g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background-light px-4 font-display dark:bg-background-dark",children:g.jsxs("form",{className:"w-full max-w-md rounded-xl border border-zinc-200/80 bg-card-light p-6 dark:border-zinc-800/80 dark:bg-card-dark",onSubmit:x,children:[g.jsx("h1",{className:"text-xl font-bold text-text-light-primary dark:text-text-dark-primary",children:"Criar conta"}),g.jsxs("label",{className:"mt-4 block",children:[g.jsx("span",{className:"text-xs font-medium text-text-light-secondary dark:text-text-dark-secondary",children:"Email"}),g.jsx("input",{className:"mt-1 block w-full rounded-md border-zinc-300 bg-zinc-50 p-2 text-sm text-text-light-primary shadow-sm focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",value:i,onChange:b=>o(b.target.value),type:"email",required:!0})]}),g.jsxs("label",{className:"mt-3 block",children:[g.jsx("span",{className:"text-xs font-medium text-text-light-secondary dark:text-text-dark-secondary",children:"Senha"}),g.jsx("input",{className:"mt-1 block w-full rounded-md border-zinc-300 bg-zinc-50 p-2 text-sm text-text-light-primary shadow-sm focus:border-primary focus:ring-primary dark:border-zinc-700 dark:bg-zinc-800 dark:text-text-dark-primary",value:l,onChange:b=>u(b.target.value),minLength:6,type:"password",required:!0})]}),d&&g.jsx("p",{className:"mt-3 text-xs text-red-500",children:d}),g.jsx("button",{className:"mt-4 w-full rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white hover:brightness-110 disabled:opacity-70",disabled:p,type:"submit",children:p?"Criando...":"Criar conta"}),g.jsxs("p",{className:"mt-4 text-xs text-text-light-secondary dark:text-text-dark-secondary",children:["Ja tem conta?"," ",g.jsx(xn,{className:"font-semibold text-primary",to:"/auth/login",children:"Entrar"})]})]})})}function XP(){const n=vn(e=>e.darkMode);return g.jsx("div",{className:n?"dark":"",children:g.jsxs(aw,{children:[g.jsx(rn,{element:g.jsx(MP,{}),path:"/"}),g.jsx(rn,{element:g.jsx(Es,{children:g.jsx(LP,{})}),path:"/dashboard"}),g.jsx(rn,{element:g.jsx(Es,{children:g.jsx(AP,{})}),path:"/canvas"}),g.jsx(rn,{element:g.jsx(Es,{children:g.jsx(FP,{})}),path:"/canvas/new"}),g.jsx(rn,{element:g.jsx(Es,{children:g.jsx(QS,{})}),path:"/account"}),g.jsx(rn,{element:g.jsx(Es,{children:g.jsx(YP,{})}),path:"/survey"}),g.jsx(rn,{element:g.jsx(Es,{children:g.jsx(UP,{})}),path:"/survey/consent"}),g.jsx(rn,{element:g.jsx(zP,{}),path:"/auth/login"}),g.jsx(rn,{element:g.jsx(QP,{}),path:"/auth/signup"}),g.jsx(rn,{element:g.jsx(Kr,{replace:!0,to:"/"}),path:"*"})]})})}cb.createRoot(document.getElementById("root")).render(g.jsx($i.StrictMode,{children:g.jsx(Ow,{children:g.jsx(DS,{children:g.jsx(XP,{})})})}));export{Ku as _,ej as c,fy as g};
